var winMgr={windowContainerSimple:null,windowContainer:null,containerWidth:null,containerHeight:null,window:null,winPos:{},wins:{},winPosOffset:{x:0,y:0},init:function(a){winMgr.windowContainerSimple=a;winMgr.windowContainer=$("#"+this.windowContainerSimple);winMgr.containerWidth=this.windowContainer.outerWidth()/2;winMgr.containerHeight=this.windowContainer.outerHeight()/2;winMgr.window=new dhtmlXWindows();winMgr.window.attachEvent("onClose",function(b){let eleID=b._idd;$(".widget-item[data-window='"+eleID+"']").removeClass("widget-active");return winMgr.removeWinVar(eleID)})},newWin:function(b,f,d,a,c,e){winMgr.winPos[b]={};switch(f){case 1:winMgr.winPos[b].x=0;winMgr.winPos[b].y=0;break;case 2:winMgr.winPos[b].x=winMgr.containerWidth;winMgr.winPos[b].y=0;break;case 3:winMgr.winPos[b].x=0;winMgr.winPos[b].y=winMgr.containerHeight;break;case 4:winMgr.winPos[b].x=winMgr.containerWidth;winMgr.winPos[b].y=winMgr.containerHeight;break;default:winMgr.winPos[b].x=(winMgr.containerWidth/2)+winMgr.winPosOffset.x;winMgr.winPos[b].y=(winMgr.containerHeight/2)+winMgr.winPosOffset.y;winMgr.winPosOffset.x+=20;winMgr.winPosOffset.y+=20;break}winMgr.wins[b]=winMgr.window.createWindow({id:b,left:winMgr.winPos[b].x,top:winMgr.winPos[b].y,width:winMgr.containerWidth,height:winMgr.containerHeight,caption:d});if(a!==null){winMgr.wins[b].attachObject(a)}else{if(c!==null){winMgr.wins[b].attachURL(c,true,e)}}winMgr.window.attachViewportTo(winMgr.windowContainerSimple);winMgr.window.window(b).addUserButton("popout",0,"Pop Out");winMgr.window.window(b).keepInViewport(true)},newAutoWin:function(a){let windowTranslator={crm:{position:1,windowTitle:"CRM",attachObj:null,ajaxURL:"/html/windows/crm.php"},quotes:{position:2,windowTitle:"Quotes",attachObj:null,ajaxURL:"/html/windows/quotes.php"},production:{position:3,windowTitle:"Production",attachObj:null,ajaxURL:"/html/windows/production.php"},operations:{position:4,windowTitle:"Active Operations",attachObj:null,ajaxURL:"/html/windows/active_operations.php"},calendar:{windowTitle:"Calendar",attachObj:null,ajaxURL:"/html/calendar/index.php"},email:{windowTitle:"Email",attachObj:null,ajaxURL:"/html/mail/cross_page.php"}};if(windowTranslator[a]!==undefined){winMgr.newWin(a,windowTranslator[a].position,windowTranslator[a].windowTitle,windowTranslator[a].attachObj,windowTranslator[a].ajaxURL);if(winMgr.winPosOffset.x>0&&winMgr.winPosOffset.y>0){winMgr.winPosOffset.x+=20;winMgr.winPosOffset.y+=20}return true}else{console.log("Error: Window Translator was unable to find the information for window "+a);return false}},getWins:function(){return winMgr.window},removeWinVar:function(a){return delete winMgr.wins[a]},setFocus:function(a){winMgr.window.window(a).bringToTop();$(".request_header").text(winMgr.window.window(a).getText())},autoTitle:function(){winMgr.getWins().attachEvent("onFocus",function(a){$(".request_header").text(a.getText())})}};