!function(){var h={},d=function(q){for(var w=h[q],p=w.deps,u=w.defn,m=p.length,r=new Array(m),e=0;e<m;++e){r[e]=g(p[e])}var v=u.apply(null,r);if(void 0===v){throw"module ["+q+"] returned undefined"}w.instance=v},k=function(a,i,e){if("string"!=typeof a){throw"module id must be a string"}if(void 0===i){throw"no dependencies for "+a}if(void 0===e){throw"no definition function for "+a}h[a]={deps:i,defn:e,instance:void 0}},g=function(e){var a=h[e];if(void 0===a){throw"module ["+e+"] was undefined"}return void 0===a.instance&&d(e),a.instance},c=function(m,l){for(var q=m.length,a=new Array(q),p=0;p<q;++p){a[p]=g(m[p])}l.apply(null,a)},j={};j.bolt={module:{api:{define:k,require:c,demand:g}}};var b=k,f=function(i,a){b(i,[],function(){return a})};f("1",tinymce.ThemeManager),f("2",tinymce.util.Delay),f("c",tinymce.util.Tools),f("d",tinymce.ui.Factory),f("e",tinymce.DOM),b("j",[],function(){var l=function(n){return function(e){return typeof e===n}},a=function(n){return Array.isArray(n)},m=function(n){return null===n},i=function(n){return function(e){return !m(e)&&!a(e)&&n(e)}};return{isString:l("string"),isNumber:l("number"),isBoolean:l("boolean"),isFunction:l("function"),isObject:i(l("object")),isNull:m,isArray:a}}),b("f",["c","d","j"],function(s,p,v){var q=function(x,o){var y=function(n,i){return{selector:n,handler:i}},w=function(i){o.active(i)},a=function(i){o.disabled(i)};return o.settings.stateSelector?y(o.settings.stateSelector,w):o.settings.disabledStateSelector?y(o.settings.disabledStateSelector,a):null},m=function(i,a,o){return function(){var e=q(a,o);null!==e&&i.selection.selectorChanged(e.selector,e.handler)}},u=function(a){return v.isArray(a)?a:v.isString(a)?a.split(/[ ,]/):[]},l=function(w,t,i){var o,e=[];if(i){return s.each(u(i),function(n){var a;"|"==n?o=null:p.has(n)?(n={type:n},e.push(n),o=null):w.buttons[n]&&(o||(o={type:"buttongroup",items:[]},e.push(o)),a=n,n=w.buttons[a],"function"==typeof n&&(n=n()),n.type=n.type||"button",n=p.create(n),n.on("postRender",m(w,a,n)),o.items.push(n))}),p.create({type:"toolbar",layout:"flow",name:t,items:e})}};return{create:l}}),f("o",tinymce.util.Promise),b("p",[],function(){var i=0,a=function(){var m=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+Date.now().toString(36)+m()+m()+m()},l=function(e){return e+i+++a()};return{uuid:l}}),b("u",[],function(){var i=function(o,l){function p(s){var q,r,e;r=l[s?"startContainer":"endContainer"],e=l[s?"startOffset":"endOffset"],1==r.nodeType&&(q=o.create("span",{"data-mce-type":"bookmark"}),r.hasChildNodes()?(e=Math.min(e,r.childNodes.length-1),s?r.insertBefore(q,r.childNodes[e]):o.insertAfter(q,r.childNodes[e])):r.appendChild(q),r=q,e=0),m[s?"startContainer":"endContainer"]=r,m[s?"startOffset":"endOffset"]=e}var m={};return p(!0),l.collapsed||p(),m},a=function(o,l){function p(u){function s(v){for(var r=v.parentNode.firstChild,w=0;r;){if(r==v){return w}1==r.nodeType&&"bookmark"==r.getAttribute("data-mce-type")||w++,r=r.nextSibling}return -1}var q,t,e;q=e=l[u?"startContainer":"endContainer"],t=l[u?"startOffset":"endOffset"],q&&(1==q.nodeType&&(t=s(q),q=q.parentNode,o.remove(e)),l[u?"startContainer":"endContainer"]=q,l[u?"startOffset":"endOffset"]=t)}p(!0),p();var m=o.createRng();return m.setStart(l.startContainer,l.startOffset),l.endContainer&&m.setEnd(l.endContainer,l.endOffset),m};return{create:i,resolve:a}}),f("v",tinymce.dom.TreeWalker),f("w",tinymce.dom.RangeUtils),b("q",["u","c","v","w"],function(w,z,q,m){var v=function(C,s,B){var n,D,l=[];for(n=new q(s,C),D=s;D&&(1===D.nodeType&&l.push(D),D!==B);D=n.next()){}return l},p=function(B,s){var l,t,e;t=B.dom,e=B.selection,l=w.create(t,e.getRng()),z.each(s,function(a){B.dom.remove(a,!0)}),e.setRng(w.resolve(t,l))},y=function(a){return"A"===a.nodeName&&a.hasAttribute("href")},A=function(i,a){var l=i.getParent(a,y);return l?l:a},u=function(s){var D,B,a,C,i,t,r;return i=s.selection,t=s.dom,r=i.getRng(),D=A(t,m.getNode(r.startContainer,r.startOffset)),B=m.getNode(r.endContainer,r.endOffset),a=s.getBody(),C=z.grep(v(a,D,B),y)},x=function(a){p(a,u(a))};return{unlinkSelection:x}}),b("m",["p","q"],function(y,D){var q=function(s,l){var u,o,a;for(a='<table data-mce-id="mce" style="width: 100%">',a+="<tbody>",o=0;o<l;o++){for(a+="<tr>",u=0;u<s;u++){a+="<td><br></td>"}a+="</tr>"}return a+="</tbody>",a+="</table>"},m=function(i){var a=i.dom.select("*[data-mce-id]");return a[0]},w=function(n,l,a){n.undoManager.transact(function(){var i,e;n.insertContent(q(l,a)),i=m(n),i.removeAttribute("data-mce-id"),e=n.dom.select("td,th",i),n.selection.setCursorLocation(e[0],0)})},p=function(i,a){i.execCommand("FormatBlock",!1,a)},B=function(e,u,l){var a,s;a=e.editorUpload.blobCache,s=a.create(y.uuid("mceu"),l,u),a.add(s),e.insertContent(e.dom.createHTML("img",{src:s.blobUri()}))},E=function(a){a.selection.collapse(!1)},v=function(a){a.focus(),D.unlinkSelection(a),E(a)},A=function(i,a,l){i.focus(),i.dom.setAttrib(a,"href",l),E(i)},C=function(i,a){i.execCommand("mceInsertLink",!1,{href:a}),E(i)},z=function(i,a){var l=i.dom.getParent(i.selection.getStart(),"a[href]");l?A(i,l,a):C(i,a)},x=function(i,a){0===a.trim().length?v(i):z(i,a)};return{insertTable:w,formatBlock:p,insertBlob:B,createLink:x,unlink:v}}),b("r",[],function(){var i=function(l){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(l.trim())},a=function(l){return/^https?:\/\//.test(l.trim())};return{isDomainLike:i,isAbsolute:a}}),b("g",["c","d","o","m","r"],function(x,B,q,m,w){var p=function(a){a.find("textbox").eq(0).each(function(i){i.focus()})},z=function(l,e){var a=B.create(x.extend({type:"form",layout:"flex",direction:"row",padding:5,name:l,spacing:3},e));return a.on("show",function(){p(a)}),a},C=function(i,a){return a?i.show():i.hide()},v=function(i,a){return new q(function(e){i.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(n){var l=n===!0?"http://"+a:a;e(l)})})},y=function(i,a){return !w.isAbsolute(a)&&w.isDomainLike(a)?v(i,a):q.resolve(a)},A=function(u,s){var E={},r=function(){u.focus(),m.unlink(u),s()},D=function(l){var i=l.meta;i&&i.attach&&(E={href:this.value(),attach:i.attach})},a=function(e){if(e.control===this){var l,i="";l=u.dom.getParent(u.selection.getStart(),"a[href]"),l&&(i=u.dom.getAttrib(l,"href")),this.fromJSON({linkurl:i}),C(this.find("#unlink"),l),this.find("#linkurl")[0].focus()}};return z("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:r,tooltip:"Remove link"},{type:"filepicker",name:"linkurl",placeholder:"Paste or type a link",filetype:"file",onchange:D},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:a,onsubmit:function(e){y(u,e.data.linkurl).then(function(l){u.undoManager.transact(function(){l===E.href&&(E.attach(),E={}),m.createLink(u,l)}),s()})}})};return{createQuickLinkForm:A}}),f("s",tinymce.geom.Rect),b("t",[],function(){var i=function(l){return{x:l.left,y:l.top,w:l.width,h:l.height}},a=function(l){return{left:l.x,top:l.y,width:l.w,height:l.h,right:l.x+l.w,bottom:l.y+l.h}};return{fromClientRect:i,toClientRect:a}}),b("h",["e","s","t"],function(w,y,q){var m=function(a){var e=w.getViewPort();return{x:a.x+e.x,y:a.y+e.y,w:a.w,h:a.h}},v=function(i){var a=i.getBoundingClientRect();return m({x:a.left,y:a.top,w:Math.max(i.clientWidth,i.offsetWidth),h:Math.max(i.clientHeight,i.offsetHeight)})},p=function(i,a){return v(a)},x=function(a){return v(a.getElement().ownerDocument.body)},z=function(a){return v(a.getContentAreaContainer()||a.getBody())},u=function(i){var a=i.selection.getBoundingClientRect();return a?m(q.fromClientRect(a)):null};return{getElementRect:p,getPageAreaRect:x,getContentAreaRect:z,getSelectionRect:u}}),b("i",["s","t"],function(w,y){var q=function(i,a){return{rect:i,position:a}},m=function(i,a){return{x:a.x,y:a.y,w:i.w,h:i.h}},v=function(B,A,D,n,C){var e,E,r;return e=w.findBestRelativePosition(C,D,n,B),D=w.clamp(D,n),e?(E=w.relativePosition(C,D,e),r=m(C,E),q(r,e)):(D=w.intersect(n,D),D?(e=w.findBestRelativePosition(C,D,n,A))?(E=w.relativePosition(C,D,e),r=m(C,E),q(r,e)):(r=m(C,D),q(r,e)):null)},p=function(i,a,l){return v(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],i,a,l)},x=function(i,a,l){return v(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],["bc-tc","bl-tl","br-tr"],i,a,l)},z=function(s,A,l,a){var t;return"function"==typeof s?(t=s({elementRect:y.toClientRect(A),contentAreaRect:y.toClientRect(l),panelRect:y.toClientRect(a)}),y.fromClientRect(t)):a},u=function(a){return a.panelRect};return{calcInsert:p,calc:x,userConstrain:z,defaultHandler:u}}),b("a",["j"],function(p){var l=function(n,i){if(i(n)){return !0}throw new Error("Default value doesn't match requested type.")},s=function(i){return function(v,t,e){var u=v.settings;return l(e,i),t in u&&i(u[t])?u[t]:e}},m=function(n,i){return n.split(i).filter(function(o){return o.length>0})},a=function(r,v){var e=function(i){return"string"==typeof i?m(i,/[ ,]/):i},u=function(n,i){return n===!1?[]:i};return p.isArray(r)?r:p.isString(r)?e(r):p.isBoolean(r)?u(r,v):v},q=function(i){return function(v,t,u){var e=t in v.settings?v.settings[t]:u;return l(u,i),a(e,u)}};return{getStringOr:s(p.isString),getBoolOr:s(p.isBoolean),getNumberOr:s(p.isNumber),getHandlerOr:s(p.isFunction),getToolbarItemsOr:q(p.isArray)}}),b("3",["c","d","e","f","g","h","i","a"],function(v,p,x,u,m,w,l,q){return function(){var I,P,z=["bold","italic","|","quicklink","h2","h3","blockquote"],O=["quickimage","quicktable"],M=function(y,A){return v.map(A,function(C){return u.create(y,C.id,C.items)})},G=function(y){return q.getToolbarItemsOr(y,"selection_toolbar",z)},H=function(y){return q.getToolbarItemsOr(y,"insert_toolbar",O)},L=function(y){return y.items().length>0},K=function(C,A){var y=M(C,A).concat([u.create(C,"text",G(C)),u.create(C,"insert",H(C)),m.createQuickLinkForm(C,B)]);return p.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:v.grep(y,L),oncancel:function(){C.focus()}})},t=function(y){y&&y.show()},Q=function(A,y){A.moveTo(y.x,y.y)},o=function(y,A){A=A?A.substr(0,2):"",v.each({t:"down",b:"up",c:"center"},function(E,C){y.classes.toggle("arrow-"+E,C===A.substr(0,1))}),"cr"===A?(y.classes.toggle("arrow-left",!0),y.classes.toggle("arrow-right",!1)):"cl"===A?(y.classes.toggle("arrow-left",!0),y.classes.toggle("arrow-right",!0)):v.each({l:"left",r:"right"},function(E,C){y.classes.toggle("arrow-"+E,C===A.substr(1,1))})},r=function(A,y){var C=A.items().filter("#"+y);return C.length>0&&(C[0].show(),A.reflow(),!0)},D=function(S,E,N,C){var y,A,T,R;return R=q.getHandlerOr(N,"inline_toolbar_position_handler",l.defaultHandler),y=w.getContentAreaRect(N),A=x.getRect(S.getEl()),T="insert"===E?l.calcInsert(C,y,A):l.calc(C,y,A),!!T&&(A=T.rect,P=C,Q(S,l.userConstrain(R,C,y,A)),o(S,T.position),!0)},s=function(C,y,E,A){return t(C),C.items().hide(),r(C,y)?void (D(C,y,E,A)===!1&&B(C)):void B(C)},n=function(){return I.items().filter("form:visible").length>0},J=function(N,C){if(I){if(I.items().hide(),!r(I,C)){return void B(I)}var E,A,y,R;t(I),I.items().hide(),r(I,C),R=q.getHandlerOr(N,"inline_toolbar_position_handler",l.defaultHandler),E=w.getContentAreaRect(N),A=x.getRect(I.getEl()),y=l.calc(P,E,A),y&&(A=y.rect,Q(I,l.userConstrain(R,P,E,A)),o(I,y.position))}},e=function(C,y,E,A){I||(I=K(C,A),I.renderTo(document.body).reflow().moveTo(E.x,E.y),C.nodeChanged()),s(I,y,C,E)},U=function(A,y,C){I&&D(I,y,A,C)},B=function(){I&&I.hide()},a=function(){I&&I.find("toolbar:visible").eq(0).each(function(y){y.focus(!0)})},i=function(){I&&(I.remove(),I=null)},F=function(){return I&&I.visible()&&n()};return{show:e,showForm:J,reposition:U,inForm:F,hide:B,focus:a,remove:i}}}),b("k",["o"],function(i){var a=function(e){return new i(function(l){var m=new FileReader;m.onloadend=function(){l(m.result.split(",")[1])},m.readAsDataURL(e)})};return{blobToBase64:a}}),b("l",["o"],function(i){var a=function(){return new i(function(m){var l;l=document.createElement("input"),l.type="file",l.style.position="fixed",l.style.left=0,l.style.top=0,l.style.opacity=0.001,document.body.appendChild(l),l.onchange=function(e){m(Array.prototype.slice.call(e.target.files))},l.click(),l.parentNode.removeChild(l)})};return{pickFile:a}}),b("4",["3","k","l","m"],function(p,l,s,m){var a=function(u){for(var r=function(e){return function(){m.formatBlock(u,e)}},v=1;v<6;v++){var o="h"+v;u.addButton(o,{text:o.toUpperCase(),tooltip:"Heading "+v,stateSelector:o,onclick:r(o),onPostRender:function(){var i=this.getEl().firstChild.firstChild;i.style.fontWeight="bold"}})}},q=function(i,n){i.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){n.showForm(i,"quicklink")}}),i.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){s.pickFile().then(function(o){var e=o[0];l.blobToBase64(e).then(function(r){m.insertBlob(i,r,e)})})}}),i.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){n.hide(),m.insertTable(i,2,2)}}),a(i)};return{addToEditor:q}}),f("n",tinymce.EditorManager),b("5",["n","e"],function(p,l){var s=function(o,i){var r=function(){o._skinLoaded=!0,o.fire("SkinLoaded"),i()};o.initialized?r():o.on("init",r)},m=function(e){var i=p.baseURL+"/skins/";return e?i+e:i+"lightgray"},a=function(n,i){return n.documentBaseURI.toAbsolute(i)},q=function(t,u){var n=t.settings,r=n.skin_url?a(t,n.skin_url):m(n.skin),i=function(){s(t,u)};l.styleSheetLoader.load(r+"/skin.min.css",i),t.contentCSS.push(r+"/content.inline.min.css")};return{load:q}}),b("8",[],function(){var i=function(m,l){return{id:m,rect:l}},a=function(p,m){for(var q=0;q<m.length;q++){var o=m[q],l=o(p);if(l){return l}}return null};return{match:a,result:i}}),b("6",["8","h"],function(l,a){var m=function(e){return function(n){return n.selection.isCollapsed()?null:l.result(e,a.getSelectionRect(n))}},i=function(o,e){return function(p){var q,n=p.schema.getTextBlockElements();for(q=0;q<o.length;q++){if("TABLE"===o[q].nodeName){return null}}for(q=0;q<o.length;q++){if(o[q].nodeName in n){return p.dom.isEmpty(o[q])?l.result(e,a.getSelectionRect(p)):null}}return null}};return{textSelection:m,emptyTextBlock:i}}),b("7",["8","h"],function(l,a){var m=function(o,e){return function(n){for(var p=0;p<e.length;p++){if(e[p].predicate(o)){return l.result(e[p].id,a.getElementRect(n,o))}}return null}},i=function(o,e){return function(p){for(var q=0;q<o.length;q++){for(var n=0;n<e.length;n++){if(e[n].predicate(o[q])){return l.result(e[n].id,a.getElementRect(p,o[q]))}}}return null}};return{element:m,parent:i}}),b("9",[],function(){var a=function(e){return e.reduce(function(i,l){return Array.isArray(l)?i.concat(a(l)):i.concat(l)},[])};return{flatten:a}}),b("b",["c"],function(i){var a=function(n,m){return{id:n,predicate:m}},l=function(e){return i.map(e,function(m){return a(m.id,m.predicate)})};return{create:a,fromContextToolbars:l}}),b("0",["1","2","3","4","5","6","7","8","9","a","b"],function(P,B,I,F,L,H,T,D,K,R,A){var Q=function(i){var a=i.selection.getNode(),l=i.dom.getParents(a);return l},O=function(o,l,p,m){var a=function(e){return o.dom.is(e,l)};return{predicate:a,id:p,items:m}},G=function(i){var a=i.contextToolbars;return K.flatten([a?a:[],O(i,"img","image","alignleft aligncenter alignright")])},J=function(o,l){var p,m,a;return m=Q(o),a=A.fromContextToolbars(l),p=D.match(o,[T.element(m[0],a),H.textSelection("text"),H.emptyTextBlock(m,"insert"),T.parent(m,a)]),p&&p.rect?p:null},N=function(i,a){var l=function(){var m=G(i),e=J(i,m);e?a.show(i,e.id,e.rect,m):a.hide()};return function(){i.removed||l()}},M=function(i,a){return function(){var l=G(i),e=J(i,l);e&&a.reposition(i,e.id,e.rect)}},z=function(i,a){return function(){i.inForm()||a()}},S=function(m,o){var l=B.throttle(N(m,o),0),a=B.throttle(z(o,N(m,o)),0);m.on("blur hide ObjectResizeStart",o.hide),m.on("click",l),m.on("nodeChange mouseup",a),m.on("ResizeEditor keyup",l),m.on("ResizeWindow",M(m,o)),m.on("remove",o.remove),m.shortcuts.add("Alt+F10","",o.focus)},q=function(i,a){i.shortcuts.remove("meta+k"),i.shortcuts.add("meta+k","",function(){var l=G(i),e=e=D.match(i,[H.textSelection("quicklink")]);e&&a.show(i,e.id,e.rect,l)})},w=function(i,a){return L.load(i,function(){S(i,a),q(i,a)}),{}},E=function(a){throw new Error(a)};return P.add("inlite",function(m){var l=new I;F.addToEditor(m,l);var a=function(){return m.inline?w(m,l):E("inlite theme only supports inline mode.")};return{renderUI:a}}),function(){}}),g("0")()}();