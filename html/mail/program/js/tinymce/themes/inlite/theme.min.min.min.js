!function(){var l={},o=function(h){for(var c=l[h],k=c.deps,f=c.defn,b=k.length,g=new Array(b),j=0;j<b;++j){g[j]=m(k[j])}var d=f.apply(null,g);if(void 0===d){throw"module ["+h+"] returned undefined"}c.instance=d},e=function(b,c,d){if("string"!=typeof b){throw"module id must be a string"}if(void 0===c){throw"no dependencies for "+b}if(void 0===d){throw"no definition function for "+b}l[b]={deps:c,defn:d,instance:void 0}},m=function(c){var b=l[c];if(void 0===b){throw"module ["+c+"] was undefined"}return void 0===b.instance&&o(c),b.instance},p=function(b,d){for(var f=b.length,c=new Array(f),g=0;g<f;++g){c[g]=m(b[g])}d.apply(null,c)},i={};i.bolt={module:{api:{define:e,require:p,demand:m}}};var a=e,n=function(c,b){a(c,[],function(){return b})};n("1",tinymce.ThemeManager),n("2",tinymce.util.Delay),n("c",tinymce.util.Tools),n("d",tinymce.ui.Factory),n("e",tinymce.DOM),a("j",[],function(){var d=function(g){return function(h){return typeof h===g}},c=function(g){return Array.isArray(g)},b=function(g){return null===g},f=function(g){return function(h){return !b(h)&&!c(h)&&g(h)}};return{isString:d("string"),isNumber:d("number"),isBoolean:d("boolean"),isFunction:d("function"),isObject:f(d("object")),isNull:b,isArray:c}}),a("f",["c","d","j"],function(g,j,d){var h=function(k,s){var t=function(v,u){return{selector:v,handler:u}},r=function(u){s.active(u)},q=function(u){s.disabled(u)};return s.settings.stateSelector?t(s.settings.stateSelector,r):s.settings.disabledStateSelector?t(s.settings.disabledStateSelector,q):null},b=function(q,k,r){return function(){var s=h(k,r);null!==s&&q.selection.selectorChanged(s.selector,s.handler)}},f=function(k){return d.isArray(k)?k:d.isString(k)?k.split(/[ ,]/):[]},c=function(k,r,q){var u,s=[];if(q){return g.each(f(q),function(v){var t;"|"==v?u=null:j.has(v)?(v={type:v},s.push(v),u=null):k.buttons[v]&&(u||(u={type:"buttongroup",items:[]},s.push(u)),t=v,v=k.buttons[t],"function"==typeof v&&(v=v()),v.type=v.type||"button",v=j.create(v),v.on("postRender",b(k,t,v)),u.items.push(v))}),j.create({type:"toolbar",layout:"flow",name:r,items:s})}};return{create:c}}),n("o",tinymce.util.Promise),a("p",[],function(){var d=0,c=function(){var f=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+Date.now().toString(36)+f()+f()+f()},b=function(f){return f+d+++c()};return{uuid:b}}),a("u",[],function(){var c=function(h,f){function g(j){var t,k,u;k=f[j?"startContainer":"endContainer"],u=f[j?"startOffset":"endOffset"],1==k.nodeType&&(t=h.create("span",{"data-mce-type":"bookmark"}),k.hasChildNodes()?(u=Math.min(u,k.childNodes.length-1),j?k.insertBefore(t,k.childNodes[u]):h.insertAfter(t,k.childNodes[u])):k.appendChild(t),k=t,u=0),d[j?"startContainer":"endContainer"]=k,d[j?"startOffset":"endOffset"]=u}var d={};return g(!0),f.collapsed||g(),d},b=function(h,f){function g(j){function r(s){for(var t=s.parentNode.firstChild,q=0;t;){if(t==s){return q}1==t.nodeType&&"bookmark"==t.getAttribute("data-mce-type")||q++,t=t.nextSibling}return -1}var v,k,w;v=w=f[j?"startContainer":"endContainer"],k=f[j?"startOffset":"endOffset"],v&&(1==v.nodeType&&(k=r(v),v=v.parentNode,h.remove(w)),f[j?"startContainer":"endContainer"]=v,f[j?"startOffset":"endOffset"]=k)}g(!0),g();var d=h.createRng();return d.setStart(f.startContainer,f.startOffset),f.endContainer&&d.setEnd(f.endContainer,f.endOffset),d};return{create:c,resolve:b}}),n("v",tinymce.dom.TreeWalker),n("w",tinymce.dom.RangeUtils),a("q",["u","c","v","w"],function(k,g,b,f){var r=function(v,t,x){var w,u,q=[];for(w=new b(t,v),u=t;u&&(1===u.nodeType&&q.push(u),u!==x);u=w.next()){}return q},c=function(x,v){var q,u,w;u=x.dom,w=x.selection,q=k.create(u,w.getRng()),g.each(v,function(t){x.dom.remove(t,!0)}),w.setRng(k.resolve(u,q))},h=function(q){return"A"===q.nodeName&&q.hasAttribute("href")},d=function(u,t){var q=u.getParent(t,h);return q?q:t},s=function(w){var y,A,q,z,v,u,x;return v=w.selection,u=w.dom,x=v.getRng(),y=d(u,f.getNode(x.startContainer,x.startOffset)),A=f.getNode(x.endContainer,x.endOffset),q=w.getBody(),z=g.grep(r(q,y,A),h)},j=function(q){c(q,s(q))};return{unlinkSelection:j}}),a("m",["p","q"],function(r,b){var d=function(x,v){var w,y,q;for(q='<table data-mce-id="mce" style="width: 100%">',q+="<tbody>",y=0;y<v;y++){for(q+="<tr>",w=0;w<x;w++){q+="<td><br></td>"}q+="</tr>"}return q+="</tbody>",q+="</table>"},j=function(v){var q=v.dom.select("*[data-mce-id]");return q[0]},t=function(w,v,q){w.undoManager.transact(function(){var x,y;w.insertContent(d(v,q)),x=j(w),x.removeAttribute("data-mce-id"),y=w.dom.select("td,th",x),w.selection.setCursorLocation(y[0],0)})},g=function(v,q){v.execCommand("FormatBlock",!1,q)},f=function(y,w,v){var q,x;q=y.editorUpload.blobCache,x=q.create(r.uuid("mceu"),v,w),q.add(x),y.insertContent(y.dom.createHTML("img",{src:x.blobUri()}))},F=function(q){q.selection.collapse(!1)},u=function(q){q.focus(),b.unlinkSelection(q),F(q)},h=function(w,v,q){w.focus(),w.dom.setAttrib(v,"href",q),F(w)},c=function(v,q){v.execCommand("mceInsertLink",!1,{href:q}),F(v)},k=function(w,v){var q=w.dom.getParent(w.selection.getStart(),"a[href]");q?h(w,q,v):c(w,v)},s=function(v,q){0===q.trim().length?u(v):k(v,q)};return{insertTable:t,formatBlock:g,insertBlob:f,createLink:s,unlink:u}}),a("r",[],function(){var c=function(d){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(d.trim())},b=function(d){return/^https?:\/\//.test(d.trim())};return{isDomainLike:c,isAbsolute:b}}),a("g",["c","d","o","m","r"],function(r,d,c,h,s){var f=function(q){q.find("textbox").eq(0).each(function(u){u.focus()})},j=function(u,v){var q=d.create(r.extend({type:"form",layout:"flex",direction:"row",padding:5,name:u,spacing:3},v));return q.on("show",function(){f(q)}),q},b=function(u,q){return q?u.show():u.hide()},t=function(u,q){return new c(function(v){u.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(x){var w=x===!0?"http://"+q:q;v(w)})})},k=function(u,q){return !s.isAbsolute(q)&&s.isDomainLike(q)?t(u,q):c.resolve(q)},g=function(v,w){var y={},x=function(){v.focus(),h.unlink(v),w()},z=function(u){var A=u.meta;A&&A.attach&&(y={href:this.value(),attach:A.attach})},q=function(B){if(B.control===this){var u,A="";u=v.dom.getParent(v.selection.getStart(),"a[href]"),u&&(A=v.dom.getAttrib(u,"href")),this.fromJSON({linkurl:A}),b(this.find("#unlink"),u),this.find("#linkurl")[0].focus()}};return j("quicklink",{items:[{type:"button",name:"unlink",icon:"unlink",onclick:x,tooltip:"Remove link"},{type:"filepicker",name:"linkurl",placeholder:"Paste or type a link",filetype:"file",onchange:z},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:q,onsubmit:function(u){k(v,u.data.linkurl).then(function(A){v.undoManager.transact(function(){A===y.href&&(y.attach(),y={}),h.createLink(v,A)}),w()})}})};return{createQuickLinkForm:g}}),n("s",tinymce.geom.Rect),a("t",[],function(){var c=function(d){return{x:d.left,y:d.top,w:d.width,h:d.height}},b=function(d){return{left:d.x,top:d.y,width:d.w,height:d.h,right:d.x+d.w,bottom:d.y+d.h}};return{fromClientRect:c,toClientRect:b}}),a("h",["e","s","t"],function(j,g,b){var d=function(q){var s=j.getViewPort();return{x:q.x+s.x,y:q.y+s.y,w:q.w,h:q.h}},k=function(s){var q=s.getBoundingClientRect();return d({x:q.left,y:q.top,w:Math.max(s.clientWidth,s.offsetWidth),h:Math.max(s.clientHeight,s.offsetHeight)})},c=function(s,q){return k(q)},h=function(q){return k(q.getElement().ownerDocument.body)},f=function(q){return k(q.getContentAreaContainer()||q.getBody())},r=function(s){var q=s.selection.getBoundingClientRect();return q?d(b.fromClientRect(q)):null};return{getElementRect:c,getPageAreaRect:h,getContentAreaRect:f,getSelectionRect:r}}),a("i",["s","t"],function(j,g){var b=function(s,q){return{rect:s,position:q}},d=function(s,q){return{x:q.x,y:q.y,w:s.w,h:s.h}},k=function(y,q,v,x,w){var u,t,s;return u=j.findBestRelativePosition(w,v,x,y),v=j.clamp(v,x),u?(t=j.relativePosition(w,v,u),s=d(w,t),b(s,u)):(v=j.intersect(x,v),v?(u=j.findBestRelativePosition(w,v,x,q))?(t=j.relativePosition(w,v,u),s=d(w,t),b(s,u)):(s=d(w,v),b(s,u)):null)},c=function(t,s,q){return k(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],t,s,q)},h=function(t,s,q){return k(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr"],["bc-tc","bl-tl","br-tr"],t,s,q)},f=function(x,q,v,u){var w;return"function"==typeof x?(w=x({elementRect:g.toClientRect(q),contentAreaRect:g.toClientRect(v),panelRect:g.toClientRect(u)}),g.fromClientRect(w)):u},r=function(q){return q.panelRect};return{calcInsert:c,calc:h,userConstrain:f,defaultHandler:r}}),a("a",["j"],function(h){var d=function(k,j){if(j(k)){return !0}throw new Error("Default value doesn't match requested type.")},f=function(j){return function(k,r,s){var q=k.settings;return d(s,j),r in q&&j(q[r])?q[r]:s}},b=function(k,j){return k.split(j).filter(function(q){return q.length>0})},c=function(q,j){var s=function(r){return"string"==typeof r?b(r,/[ ,]/):r},k=function(t,r){return t===!1?[]:r};return h.isArray(q)?q:h.isString(q)?s(q):h.isBoolean(q)?k(q,j):j},g=function(j){return function(k,r,q){var s=r in k.settings?k.settings[r]:q;return d(q,j),c(s,q)}};return{getStringOr:f(h.isString),getBoolOr:f(h.isBoolean),getNumberOr:f(h.isNumber),getHandlerOr:f(h.isFunction),getToolbarItemsOr:g(h.isArray)}}),a("3",["c","d","e","f","g","h","i","a"],function(g,k,c,h,b,f,d,j){return function(){var N,v,C=["bold","italic","|","quicklink","h2","h3","blockquote"],w=["quickimage","quicktable"],x=function(s,r){return g.map(r,function(t){return h.create(s,t.id,t.items)})},S=function(r){return j.getToolbarItemsOr(r,"selection_toolbar",C)},R=function(r){return j.getToolbarItemsOr(r,"insert_toolbar",w)},y=function(r){return r.items().length>0},A=function(s,r){var t=x(s,r).concat([h.create(s,"text",S(s)),h.create(s,"insert",R(s)),b.createQuickLinkForm(s,Z)]);return k.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:g.grep(t,y),oncancel:function(){s.focus()}})},V=function(r){r&&r.show()},u=function(r,s){r.moveTo(s.x,s.y)},aa=function(s,r){r=r?r.substr(0,2):"",g.each({t:"down",b:"up",c:"center"},function(t,z){s.classes.toggle("arrow-"+t,z===r.substr(0,1))}),"cr"===r?(s.classes.toggle("arrow-left",!0),s.classes.toggle("arrow-right",!1)):"cl"===r?(s.classes.toggle("arrow-left",!0),s.classes.toggle("arrow-right",!0)):g.each({l:"left",r:"right"},function(t,z){s.classes.toggle("arrow-"+t,z===r.substr(1,1))})},Y=function(r,t){var s=r.items().filter("#"+t);return s.length>0&&(s[0].show(),r.reflow(),!0)},X=function(t,B,F,D){var G,r,s,z;return z=j.getHandlerOr(F,"inline_toolbar_position_handler",d.defaultHandler),G=f.getContentAreaRect(F),r=c.getRect(t.getEl()),s="insert"===B?d.calcInsert(D,G,r):d.calc(D,G,r),!!s&&(r=s.rect,v=D,u(t,d.userConstrain(z,D,G,r)),aa(t,s.position),!0)},W=function(t,z,s,r){return V(t),t.items().hide(),Y(t,z)?void (X(t,z,s,r)===!1&&Z(t)):void Z(t)},ab=function(){return N.items().filter("form:visible").length>0},E=function(B,z){if(N){if(N.items().hide(),!Y(N,z)){return void Z(N)}var t,r,D,s;V(N),N.items().hide(),Y(N,z),s=j.getHandlerOr(B,"inline_toolbar_position_handler",d.defaultHandler),t=f.getContentAreaRect(B),r=c.getRect(N.getEl()),D=d.calc(v,t,r),D&&(r=D.rect,u(N,d.userConstrain(s,v,t,r)),aa(N,D.position))}},ad=function(t,z,s,r){N||(N=A(t,r),N.renderTo(document.body).reflow().moveTo(s.x,s.y),t.nodeChanged()),W(N,z,t,s)},q=function(r,t,s){N&&X(N,t,r,s)},Z=function(){N&&N.hide()},ae=function(){N&&N.find("toolbar:visible").eq(0).each(function(r){r.focus(!0)})},ac=function(){N&&(N.remove(),N=null)},T=function(){return N&&N.visible()&&ab()};return{show:ad,showForm:E,reposition:q,inForm:T,hide:Z,focus:ae,remove:ac}}}),a("k",["o"],function(c){var b=function(d){return new c(function(g){var f=new FileReader;f.onloadend=function(){g(f.result.split(",")[1])},f.readAsDataURL(d)})};return{blobToBase64:b}}),a("l",["o"],function(c){var b=function(){return new c(function(d){var f;f=document.createElement("input"),f.type="file",f.style.position="fixed",f.style.left=0,f.style.top=0,f.style.opacity=0.001,document.body.appendChild(f),f.onchange=function(g){d(Array.prototype.slice.call(g.target.files))},f.click(),f.parentNode.removeChild(f)})};return{pickFile:b}}),a("4",["3","k","l","m"],function(h,d,f,b){var c=function(k){for(var q=function(r){return function(){b.formatBlock(k,r)}},j=1;j<6;j++){var s="h"+j;k.addButton(s,{text:s.toUpperCase(),tooltip:"Heading "+j,stateSelector:s,onclick:q(s),onPostRender:function(){var r=this.getEl().firstChild.firstChild;r.style.fontWeight="bold"}})}},g=function(j,k){j.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){k.showForm(j,"quicklink")}}),j.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){f.pickFile().then(function(r){var q=r[0];d.blobToBase64(q).then(function(s){b.insertBlob(j,s,q)})})}}),j.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){k.hide(),b.insertTable(j,2,2)}}),c(j)};return{addToEditor:g}}),n("n",tinymce.EditorManager),a("5",["n","e"],function(h,d){var f=function(q,j){var k=function(){q._skinLoaded=!0,q.fire("SkinLoaded"),j()};q.initialized?k():q.on("init",k)},b=function(k){var j=h.baseURL+"/skins/";return k?j+k:j+"lightgray"},c=function(k,j){return k.documentBaseURI.toAbsolute(j)},g=function(q,j){var v=q.settings,s=v.skin_url?c(q,v.skin_url):b(v.skin),k=function(){f(q,j)};d.styleSheetLoader.load(s+"/skin.min.css",k),q.contentCSS.push(s+"/content.inline.min.css")};return{load:g}}),a("8",[],function(){var c=function(d,f){return{id:d,rect:f}},b=function(h,d){for(var g=0;g<d.length;g++){var j=d[g],f=j(h);if(f){return f}}return null};return{match:b,result:c}}),a("6",["8","h"],function(d,c){var b=function(g){return function(h){return h.selection.isCollapsed()?null:d.result(g,c.getSelectionRect(h))}},f=function(h,g){return function(k){var j,r=k.schema.getTextBlockElements();for(j=0;j<h.length;j++){if("TABLE"===h[j].nodeName){return null}}for(j=0;j<h.length;j++){if(h[j].nodeName in r){return k.dom.isEmpty(h[j])?d.result(g,c.getSelectionRect(k)):null}}return null}};return{textSelection:b,emptyTextBlock:f}}),a("7",["8","h"],function(d,c){var b=function(h,g){return function(k){for(var j=0;j<g.length;j++){if(g[j].predicate(h)){return d.result(g[j].id,c.getElementRect(k,h))}}return null}},f=function(h,g){return function(k){for(var j=0;j<h.length;j++){for(var r=0;r<g.length;r++){if(g[r].predicate(h[j])){return d.result(g[r].id,c.getElementRect(k,h[j]))}}}return null}};return{element:b,parent:f}}),a("9",[],function(){var b=function(c){return c.reduce(function(f,d){return Array.isArray(d)?f.concat(b(d)):f.concat(d)},[])};return{flatten:b}}),a("b",["c"],function(d){var c=function(g,f){return{id:g,predicate:f}},b=function(f){return d.map(f,function(g){return c(g.id,g.predicate)})};return{create:c,fromContextToolbars:b}}),a("0",["1","2","3","4","5","6","7","8","9","a","b"],function(g,Y,v,U,r,y,b,W,t,d,Z){var f=function(z){var w=z.selection.getNode(),q=z.dom.getParents(w);return q},h=function(B,z,A,q){var w=function(D){return B.dom.is(D,z)};return{predicate:w,id:A,items:q}},C=function(w){var q=w.contextToolbars;return t.flatten([q?q:[],h(w,"img","image","alignleft aligncenter alignright")])},u=function(B,z){var A,q,w;return q=f(B),w=Z.fromContextToolbars(z),A=W.match(B,[b.element(q[0],w),y.textSelection("text"),y.emptyTextBlock(q,"insert"),b.parent(q,w)]),A&&A.rect?A:null},j=function(z,w){var q=function(){var A=C(z),B=u(z,A);B?w.show(z,B.id,B.rect,A):w.hide()};return function(){z.removed||q()}},k=function(w,q){return function(){var z=C(w),A=u(w,z);A&&q.reposition(w,A.id,A.rect)}},s=function(w,q){return function(){w.inForm()||q()}},c=function(q,A){var z=Y.throttle(j(q,A),0),w=Y.throttle(s(A,j(q,A)),0);q.on("blur hide ObjectResizeStart",A.hide),q.on("click",z),q.on("nodeChange mouseup",w),q.on("ResizeEditor keyup",z),q.on("ResizeWindow",k(q,A)),q.on("remove",A.remove),q.shortcuts.add("Alt+F10","",A.focus)},X=function(w,q){w.shortcuts.remove("meta+k"),w.shortcuts.add("meta+k","",function(){var z=C(w),A=A=W.match(w,[y.textSelection("quicklink")]);A&&q.show(w,A.id,A.rect,z)})},x=function(w,q){return r.load(w,function(){c(w,q),X(w,q)}),{}},V=function(q){throw new Error(q)};return g.add("inlite",function(q){var z=new v;U.addToEditor(q,z);var w=function(){return q.inline?x(q,z):V("inlite theme only supports inline mode.")};return{renderUI:w}}),function(){}}),m("0")()}();