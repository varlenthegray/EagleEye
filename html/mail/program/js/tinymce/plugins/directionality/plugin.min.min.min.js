tinymce.PluginManager.add("directionality",function(d){function e(c){var a,b=d.dom,h=d.selection.getSelectedBlocks();h.length&&(a=b.getAttrib(h[0],"dir"),tinymce.each(h,function(g){b.getParent(g.parentNode,"*[dir='"+c+"']",b.getRoot())||(a!=c?b.setAttrib(g,"dir",c):b.setAttrib(g,"dir",null))}),d.nodeChanged())}function f(a){var b=[];return tinymce.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(c){b.push(c+"[dir="+a+"]")}),b.join(",")}d.addCommand("mceDirectionLTR",function(){e("ltr")}),d.addCommand("mceDirectionRTL",function(){e("rtl")}),d.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:f("ltr")}),d.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:f("rtl")})});