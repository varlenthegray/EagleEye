tinymce.PluginManager.add("autoresize",function(d){function b(){return d.plugins.fullscreen&&d.plugins.fullscreen.isFullscreen()}function g(e){var y,B,k,w,A,t,q,i,j,o,n,z,x=tinymce.DOM;if(B=d.getDoc()){if(k=B.body,w=B.documentElement,A=a.autoresize_min_height,!k||e&&"setcontent"===e.type&&e.initial||b()){return void (k&&w&&(k.style.overflowY="auto",w.style.overflowY="auto"))}q=d.dom.getStyle(k,"margin-top",!0),i=d.dom.getStyle(k,"margin-bottom",!0),j=d.dom.getStyle(k,"padding-top",!0),o=d.dom.getStyle(k,"padding-bottom",!0),n=d.dom.getStyle(k,"border-top-width",!0),z=d.dom.getStyle(k,"border-bottom-width",!0),t=k.offsetHeight+parseInt(q,10)+parseInt(i,10)+parseInt(j,10)+parseInt(o,10)+parseInt(n,10)+parseInt(z,10),(isNaN(t)||t<=0)&&(t=tinymce.Env.ie?k.scrollHeight:tinymce.Env.webkit&&0===k.clientHeight?0:k.offsetHeight),t>a.autoresize_min_height&&(A=t),a.autoresize_max_height&&t>a.autoresize_max_height?(A=a.autoresize_max_height,k.style.overflowY="auto",w.style.overflowY="auto"):(k.style.overflowY="hidden",w.style.overflowY="hidden",k.scrollTop=0),A!==f&&(y=A-f,x.setStyle(d.iframeElement,"height",A+"px"),f=A,tinymce.isWebKit&&y<0&&g(e))}}function c(h,e,j){tinymce.util.Delay.setEditorTimeout(d,function(){g({}),h--?c(h,e,j):j&&j()},e)}var a=d.settings,f=0;d.settings.inline||(a.autoresize_min_height=parseInt(d.getParam("autoresize_min_height",d.getElement().offsetHeight),10),a.autoresize_max_height=parseInt(d.getParam("autoresize_max_height",0),10),d.on("init",function(){var e,h;e=d.getParam("autoresize_overflow_padding",1),h=d.getParam("autoresize_bottom_margin",50),e!==!1&&d.dom.setStyles(d.getBody(),{paddingLeft:e,paddingRight:e}),h!==!1&&d.dom.setStyles(d.getBody(),{paddingBottom:h})}),d.on("nodechange setcontent keyup FullscreenStateChanged",g),d.getParam("autoresize_on_init",!0)&&d.on("init",function(){c(20,100,function(){c(5,1000)})}),d.addCommand("mceAutoResize",g))});