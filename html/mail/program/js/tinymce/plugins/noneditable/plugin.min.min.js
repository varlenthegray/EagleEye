tinymce.PluginManager.add("noneditable",function(h){function k(a){return function(e){return(" "+e.attr("class")+" ").indexOf(a)!==-1}}function d(i){function p(s){var w=arguments,u=w[w.length-2],q=u>0?e.charAt(u-1):"";if('"'===q){return s}if(">"===q){var v=e.lastIndexOf("<",u);if(v!==-1){var a=e.substring(v,u);if(a.indexOf('contenteditable="false"')!==-1){return s}}}return'<span class="'+l+'" data-mce-content="'+h.dom.encode(w[0])+'">'+h.dom.encode("string"==typeof w[1]?w[1]:w[0])+"</span>"}var o=c.length,e=i.content,l=tinymce.trim(g);if("raw"!=i.format){for(;o--;){e=e.replace(c[o],p)}i.content=e}}var b,g,c,j="contenteditable";b=" "+tinymce.trim(h.getParam("noneditable_editable_class","mceEditable"))+" ",g=" "+tinymce.trim(h.getParam("noneditable_noneditable_class","mceNonEditable"))+" ";var m=k(b),f=k(g);c=h.getParam("noneditable_regexp"),c&&!c.length&&(c=[c]),h.on("PreInit",function(){c&&h.on("BeforeSetContent",d),h.parser.addAttributeFilter("class",function(i){for(var a,l=i.length;l--;){a=i[l],m(a)?a.attr(j,"true"):f(a)&&a.attr(j,"false")}}),h.serializer.addAttributeFilter(j,function(i){for(var a,l=i.length;l--;){a=i[l],(m(a)||f(a))&&(c&&a.attr("data-mce-content")?(a.name="#text",a.type=3,a.raw=!0,a.value=a.attr("data-mce-content")):a.attr(j,null))}})})});