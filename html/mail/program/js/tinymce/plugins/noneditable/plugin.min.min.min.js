tinymce.PluginManager.add("noneditable",function(l){function e(b){return function(c){return(" "+c.attr("class")+" ").indexOf(b)!==-1}}function p(c){function f(t){var j=arguments,m=j[j.length-2],x=m>0?d.charAt(m-1):"";if('"'===x){return t}if(">"===x){var k=d.lastIndexOf("<",m);if(k!==-1){var h=d.substring(k,m);if(h.indexOf('contenteditable="false"')!==-1){return t}}}return'<span class="'+b+'" data-mce-content="'+l.dom.encode(j[0])+'">'+l.dom.encode("string"==typeof j[1]?j[1]:j[0])+"</span>"}var g=q.length,d=c.content,b=tinymce.trim(n);if("raw"!=c.format){for(;g--;){d=d.replace(q[g],f)}c.content=d}}var r,n,q,i="contenteditable";r=" "+tinymce.trim(l.getParam("noneditable_editable_class","mceEditable"))+" ",n=" "+tinymce.trim(l.getParam("noneditable_noneditable_class","mceNonEditable"))+" ";var a=e(r),o=e(n);q=l.getParam("noneditable_regexp"),q&&!q.length&&(q=[q]),l.on("PreInit",function(){q&&l.on("BeforeSetContent",p),l.parser.addAttributeFilter("class",function(d){for(var c,b=d.length;b--;){c=d[b],a(c)?c.attr(i,"true"):o(c)&&c.attr(i,"false")}}),l.serializer.addAttributeFilter(i,function(d){for(var c,b=d.length;b--;){c=d[b],(a(c)||o(c))&&(q&&c.attr("data-mce-content")?(c.name="#text",c.type=3,c.raw=!0,c.value=c.attr("data-mce-content")):c.attr(i,null))}})})});