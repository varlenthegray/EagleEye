tinymce.PluginManager.add("save",function(d){function b(){var e;if(e=tinymce.DOM.getParent(d.id,"form"),!d.getParam("save_enablewhendirty",!0)||d.isDirty()){return tinymce.triggerSave(),d.getParam("save_onsavecallback")?(d.execCallback("save_onsavecallback",d),void d.nodeChanged()):void (e?(d.setDirty(!1),e.onsubmit&&!e.onsubmit()||("function"==typeof e.submit?e.submit():f(d.translate("Error: Form submit field collision."))),d.nodeChanged()):f(d.translate("Error: No form element found.")))}}function f(e){d.notificationManager.open({text:e,type:"error"})}function c(){var e=tinymce.trim(d.startContent);return d.getParam("save_oncancelcallback")?void d.execCallback("save_oncancelcallback",d):(d.setContent(e),d.undoManager.clear(),void d.nodeChanged())}function a(){var e=this;d.on("nodeChange dirty",function(){e.disabled(d.getParam("save_enablewhendirty",!0)&&!d.isDirty())})}d.addCommand("mceSave",b),d.addCommand("mceCancel",c),d.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:a}),d.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:a}),d.addShortcut("Meta+S","","mceSave")});