tinymce.PluginManager.add("save",function(i){function e(){var a;if(a=tinymce.DOM.getParent(i.id,"form"),!i.getParam("save_enablewhendirty",!0)||i.isDirty()){return tinymce.triggerSave(),i.getParam("save_onsavecallback")?(i.execCallback("save_onsavecallback",i),void i.nodeChanged()):void (a?(i.setDirty(!1),a.onsubmit&&!a.onsubmit()||("function"==typeof a.submit?a.submit():h(i.translate("Error: Form submit field collision."))),i.nodeChanged()):h(i.translate("Error: No form element found.")))}}function h(a){i.notificationManager.open({text:a,type:"error"})}function j(){var a=tinymce.trim(i.startContent);return i.getParam("save_oncancelcallback")?void i.execCallback("save_oncancelcallback",i):(i.setContent(a),i.undoManager.clear(),void i.nodeChanged())}function g(){var a=this;i.on("nodeChange dirty",function(){a.disabled(i.getParam("save_enablewhendirty",!0)&&!i.isDirty())})}i.addCommand("mceSave",e),i.addCommand("mceCancel",j),i.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:g}),i.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:g}),i.addShortcut("Meta+S","","mceSave")});