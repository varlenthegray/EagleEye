tinymce.PluginManager.add("code",function(c){function d(){var a=c.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:c.getParam("code_dialog_width",600),minHeight:c.getParam("code_dialog_height",Math.min(tinymce.DOM.getViewPort().h-200,500)),spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(b){c.focus(),c.undoManager.transact(function(){c.setContent(b.data.code)}),c.selection.setCursorLocation(),c.nodeChanged()}});a.find("#code").value(c.getContent({source_view:!0}))}c.addCommand("mceCodeEditor",d),c.addButton("code",{icon:"code",tooltip:"Source code",onclick:d}),c.addMenuItem("code",{icon:"code",text:"Source code",context:"tools",onclick:d})});