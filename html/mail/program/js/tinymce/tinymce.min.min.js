!function(bV,bB){function bI(d,b){for(var f,c=[],a=0;a<d.length;++a){if(f=bC[d[a]]||bH(d[a]),!f){throw"module definition dependecy not found: "+d[a]}c.push(f)}b.apply(null,c)}function bD(c,b,a){if("string"!=typeof c){throw"invalid module definition, module id must be defined and be a string"}if(b===bB){throw"invalid module definition, dependencies must be specified"}if(a===bB){throw"invalid module definition, definition function must be specified"}bI(b,function(){bC[c]=a.apply(null,arguments)})}function bP(a){return !!bC[a]}function bH(b){for(var d=bV,c=b.split(/[.\/]/),a=0;a<c.length;++a){if(!d[c[a]]){return}d=d[c[a]]}return d}function bZ(h){var f,e,g,c,b;for(f=0;f<h.length;f++){e=bV,g=h[f],c=g.split(/[.\/]/);for(var d=0;d<c.length-1;++d){e[c[d]]===bB&&(e[c[d]]={}),e=e[c[d]]}e[c[c.length-1]]=bC[g]}if(bV.AMDLC_TESTS){b=bV.privateModules||{};for(g in bC){b[g]=bC[g]}for(f=0;f<h.length;f++){delete b[h[f]]}bV.privateModules=b}}var bC={},bL="tinymce/geom/Rect",bz="tinymce/util/Promise",bX="tinymce/util/Delay",bW="tinymce/Env",bT="tinymce/dom/EventUtils",bG="tinymce/dom/Sizzle",bR="tinymce/util/Arr",bK="tinymce/util/Tools",bS="tinymce/dom/DomQuery",by="tinymce/html/Styles",bu="tinymce/dom/TreeWalker",bY="tinymce/dom/Range",cC="tinymce/html/Entities",bw="tinymce/dom/StyleSheetLoader",bx="tinymce/dom/DOMUtils",cy="tinymce/dom/ScriptLoader",cl="tinymce/AddOnManager",b1="tinymce/dom/NodeType",cd="tinymce/text/Zwsp",bM="tinymce/caret/CaretContainer",cb="tinymce/dom/RangeUtils",cf="tinymce/NodeChange",cF="tinymce/html/Node",cD="tinymce/html/Schema",cA="tinymce/html/SaxParser",cn="tinymce/html/DomParser",cm="tinymce/html/Writer",ci="tinymce/html/Serializer",cj="tinymce/dom/Serializer",cu="tinymce/dom/TridentSelection",cs="tinymce/util/VK",cx="tinymce/dom/ControlSelection",bs="tinymce/util/Fun",ca="tinymce/caret/CaretCandidate",b7="tinymce/geom/ClientRect",b8="tinymce/text/ExtendingChar",cQ="tinymce/caret/CaretPosition",bE="tinymce/caret/CaretBookmark",bN="tinymce/dom/BookmarkManager",b5="tinymce/dom/Selection",b6="tinymce/dom/ElementUtils",co="tinymce/fmt/Preview",cv="tinymce/fmt/Hooks",cq="tinymce/Formatter",ch="tinymce/undo/Diff",b3="tinymce/undo/Fragments",bg="tinymce/undo/Levels",aO="tinymce/UndoManager",cG="tinymce/EnterKey",a9="tinymce/ForceBlocks",aD="tinymce/caret/CaretUtils",b2="tinymce/caret/CaretWalker",cN="tinymce/InsertList",aY="tinymce/InsertContent",c0="tinymce/EditorCommands",aF="tinymce/util/URI",bO="tinymce/util/Class",bo="tinymce/util/EventDispatcher",a5="tinymce/data/Binding",br="tinymce/util/Observable",aL="tinymce/data/ObservableObject",cS="tinymce/ui/Selector",aU="tinymce/ui/Collection",ax="tinymce/ui/DomUtils",cU="tinymce/ui/BoxUtils",cp="tinymce/ui/ClassList",aK="tinymce/ui/ReflowQueue",ac="tinymce/ui/Control",am="tinymce/ui/Factory",au="tinymce/ui/KeyboardNavigation",aX="tinymce/ui/Container",ag="tinymce/ui/DragHelper",ab="tinymce/ui/Scrollable",ak="tinymce/ui/Panel",cT="tinymce/ui/Movable",al="tinymce/ui/Resizable",a4="tinymce/ui/FloatPanel",aT="tinymce/ui/Window",aC="tinymce/ui/MessageBox",bi="tinymce/WindowManager",a8="tinymce/ui/Tooltip",aE="tinymce/ui/Widget",aN="tinymce/ui/Progress",cR="tinymce/ui/Notification",cE="tinymce/NotificationManager",aj="tinymce/dom/NodePath",cK="tinymce/util/Quirks",cI="tinymce/EditorObservable",bA="tinymce/Mode",b9="tinymce/Shortcuts",cB="tinymce/file/Uploader",bj="tinymce/file/Conversions",av="tinymce/file/ImageScanner",bb="tinymce/file/BlobCache",bl="tinymce/file/UploadStatus",bq="tinymce/ErrorReporter",cZ="tinymce/EditorUpload",b0="tinymce/caret/FakeCaret",aw="tinymce/dom/Dimensions",a1="tinymce/caret/LineWalker",ba="tinymce/caret/LineUtils",aJ="tinymce/dom/MousePosition",ck="tinymce/DragDropOverrides",a3="tinymce/SelectionOverrides",az="tinymce/util/Uuid",bJ="tinymce/ui/Sidebar",cH="tinymce/Editor",aS="tinymce/util/I18n",cW="tinymce/FocusManager",aB="tinymce/EditorManager",bv="tinymce/LegacyInput",bk="tinymce/util/XHR",a0="tinymce/util/JSON",bn="tinymce/util/JSONRequest",aH="tinymce/util/JSONP",cM="tinymce/util/LocalStorage",aQ="tinymce/Compat",ar="tinymce/ui/Layout",cP="tinymce/ui/AbsoluteLayout",b4="tinymce/ui/Button",aG="tinymce/ui/ButtonGroup",cY="tinymce/ui/Checkbox",ai="tinymce/ui/ComboBox",ao="tinymce/ui/ColorBox",aR="tinymce/ui/PanelButton",aa="tinymce/ui/ColorButton",cX="tinymce/util/Color",af="tinymce/ui/ColorPicker",cO="tinymce/ui/Path",ah="tinymce/ui/ElementPath",aZ="tinymce/ui/FormItem",aP="tinymce/ui/Form",ay="tinymce/ui/FieldSet",bd="tinymce/content/LinkTargets",a2="tinymce/ui/FilePicker",aA="tinymce/ui/FitLayout",aI="tinymce/ui/FlexLayout",cL="tinymce/ui/FlowLayout",cg="tinymce/fmt/FontInfo",ad="tinymce/ui/FormatControls",cz="tinymce/ui/GridLayout",cw="tinymce/ui/Iframe",bp="tinymce/ui/InfoBox",bU="tinymce/ui/Label",cc="tinymce/ui/Toolbar",bf="tinymce/ui/MenuBar",ap="tinymce/ui/MenuButton",a7="tinymce/ui/MenuItem",bh="tinymce/ui/Throbber",bm="tinymce/ui/Menu",cV="tinymce/ui/ListBox",bF="tinymce/ui/Radio",aq="tinymce/ui/ResizeHandle",aW="tinymce/ui/SelectBox",bc="tinymce/ui/Slider",aM="tinymce/ui/Spacer",cr="tinymce/ui/SplitButton",a6="tinymce/ui/StackLayout",bQ="tinymce/ui/TabPanel",cJ="tinymce/ui/TextBox",aV="tinymce/Register";bD(bL,[],function(){function h(w,z,q){var o,v,y,A,u,x;return o=z.x,v=z.y,y=w.w,A=w.h,u=z.w,x=z.h,q=(q||"").split(""),"b"===q[0]&&(v+=x),"r"===q[1]&&(o+=u),"c"===q[0]&&(v+=k(x/2)),"c"===q[1]&&(o+=k(u/2)),"b"===q[3]&&(v-=A),"r"===q[4]&&(o-=y),"c"===q[3]&&(v-=k(A/2)),"c"===q[4]&&(o-=k(y/2)),c(o,v,y,A)}function m(q,v,s,l){var u,e;for(e=0;e<l.length;e++){if(u=h(q,v,l[e]),u.x>=s.x&&u.x+u.w<=s.w+s.x&&u.y>=s.y&&u.y+u.h<=s.h+s.y){return l[e]}}return null}function d(i,a,l){return c(i.x-a,i.y-l,i.w+2*a,i.h+2*l)}function b(u,q){var v,s,o,l;return v=f(u.x,q.x),s=f(u.y,q.y),o=p(u.x+u.w,q.x+q.w),l=p(u.y+u.h,q.y+q.h),o-v<0||l-s<0?null:c(v,s,o-v,l-s)}function g(y,D,q){var l,v,B,E,C,A,z,x,o,w;return C=y.x,A=y.y,z=y.x+y.w,x=y.y+y.h,o=D.x+D.w,w=D.y+D.h,l=f(0,D.x-C),v=f(0,D.y-A),B=f(0,z-o),E=f(0,x-w),C+=l,A+=v,q&&(z+=l,x+=v,C-=B,A-=E),z-=B,x-=E,c(C,A,z-C,x-A)}function c(l,a,o,i){return{x:l,y:a,w:o,h:i}}function j(a){return c(a.left,a.top,a.width,a.height)}var p=Math.min,f=Math.max,k=Math.round;return{inflate:d,relativePosition:h,findBestRelativePosition:m,intersect:b,clamp:g,create:c,fromClientRect:j}}),bD(bz,[],function(){function h(i,a){return function(){i.apply(a,arguments)}}function m(a){if("object"!=typeof this){throw new TypeError("Promises must be constructed via new")}if("function"!=typeof a){throw new TypeError("not a function")}this._state=null,this._value=null,this._deferreds=[],p(a,h(b,this),h(g,this))}function d(i){var a=this;return null===this._state?void this._deferreds.push(i):void f(function(){var o=a._state?i.onFulfilled:i.onRejected;if(null===o){return void (a._state?i.resolve:i.reject)(a._value)}var l;try{l=o(a._value)}catch(e){return void i.reject(e)}i.resolve(l)})}function b(i){try{if(i===this){throw new TypeError("A promise cannot be resolved with itself.")}if(i&&("object"==typeof i||"function"==typeof i)){var l=i.then;if("function"==typeof l){return void p(h(l,i),h(b,this),h(g,this))}}this._state=!0,this._value=i,c.call(this)}catch(e){g.call(this,e)}}function g(a){this._state=!1,this._value=a,c.call(this)}function c(){for(var i=0,a=this._deferreds.length;i<a;i++){d.call(this,this._deferreds[i])}this._deferreds=null}function j(l,a,o,i){this.onFulfilled="function"==typeof l?l:null,this.onRejected="function"==typeof a?a:null,this.resolve=o,this.reject=i}function p(q,l,s){var o=!1;try{q(function(i){o||(o=!0,l(i))},function(i){o||(o=!0,s(i))})}catch(a){if(o){return}o=!0,s(a)}}if(window.Promise){return window.Promise}var f=m.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return m.prototype["catch"]=function(a){return this.then(null,a)},m.prototype.then=function(n,l){var a=this;return new m(function(e,i){d.call(a,new j(n,l,e,i))})},m.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&k(arguments[0])?arguments[0]:arguments);return new m(function(l,u){function q(t,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if("function"==typeof r){return void r.call(n,function(o){q(t,o)},u)}}a[t]=n,0===--e&&l(a)}catch(i){u(i)}}if(0===a.length){return l([])}for(var e=a.length,s=0;s<a.length;s++){q(s,a[s])}})},m.resolve=function(a){return a&&"object"==typeof a&&a.constructor===m?a:new m(function(e){e(a)})},m.reject=function(a){return new m(function(e,i){i(a)})},m.race=function(a){return new m(function(l,q){for(var o=0,e=a.length;o<e;o++){a[o].then(l,q)}})},m}),bD(bX,[bz],function(h){function d(p,l){function s(i){window.setTimeout(i,0)}var m,a=window.requestAnimationFrame,q=["ms","moz","webkit"];for(m=0;m<q.length&&!a;m++){a=window[q[m]+"RequestAnimationFrame"]}a||(a=s),a(p,l)}function k(i,a){return"number"!=typeof a&&(a=0),setTimeout(i,a)}function g(i,a){return"number"!=typeof a&&(a=1),setInterval(i,a)}function c(a){return clearTimeout(a)}function j(a){return clearInterval(a)}function b(n,l){var m,a;return a=function(){var e=arguments;clearTimeout(m),m=k(function(){n.apply(this,e)},l)},a.stop=function(){clearTimeout(m)},a}var f;return{requestAnimationFrame:function(e,a){return f?void f.then(e):void (f=new h(function(i){a||(a=document.body),d(i,a)}).then(e))},setTimeout:k,setInterval:g,setEditorTimeout:function(l,a,i){return k(function(){l.removed||a()},i)},setEditorInterval:function(m,l,o){var a;return a=g(function(){m.removed?clearInterval(a):l()},o)},debounce:b,throttle:b,clearInterval:j,clearTimeout:c}}),bD(bW,[],function(){function B(a){return"matchMedia" in window&&matchMedia(a).matches}var G=navigator,q=G.userAgent,b,x,k,E,H,w,F,D,C,A,j,y,v;b=window.opera&&window.opera.buildNumber,C=/Android/.test(q),x=/WebKit/.test(q),k=!x&&!b&&/MSIE/gi.test(q)&&/Explorer/gi.test(G.appName),k=k&&/MSIE (\w+)\./.exec(q)[1],E=q.indexOf("Trident/")!=-1&&(q.indexOf("rv:")!=-1||G.appName.indexOf("Netscape")!=-1)&&11,H=q.indexOf("Edge/")!=-1&&!k&&!E&&12,k=k||E||H,w=!x&&!E&&/Gecko/.test(q),F=q.indexOf("Mac")!=-1,D=/(iPad|iPhone)/.test(q),A="FormData" in window&&"FileReader" in window&&"URL" in window&&!!URL.createObjectURL,j=B("only screen and (max-device-width: 480px)")&&(C||D),y=B("only screen and (min-width: 800px)")&&(C||D),v=q.indexOf("Windows Phone")!=-1,H&&(x=!1);var z=!D||A||q.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:b,webkit:x,ie:k,gecko:w,mac:F,iOS:D,android:C,contentEditable:z,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=k,range:window.getSelection&&"Range" in window,documentMode:k&&!H?document.documentMode||7:10,fileApi:A,ceFalse:k===!1||k>8,canHaveCSP:k===!1||k>11,desktop:!j&&!y,windowsPhone:v}}),bD(bT,[bX,bW],function(j,q){function f(i,a,l,c){i.addEventListener?i.addEventListener(a,l,c||!1):i.attachEvent&&i.attachEvent("on"+a,l)}function b(i,a,l,c){i.removeEventListener?i.removeEventListener(a,l,c||!1):i.detachEvent&&i.detachEvent("on"+a,l)}function h(i,a){var l,c=a;return l=i.path,l&&l.length>0&&(c=l[0]),i.deepPath&&(l=i.deepPath(),l&&l.length>0&&(c=l[0])),c}function d(y,u){function c(){return !1}function t(){return !0}var A,B=u||{},w;for(A in y){k[A]||(B[A]=y[A])}if(B.target||(B.target=B.srcElement||document),q.experimentalShadowDom&&(B.target=h(y,B.target)),y&&p.test(y.type)&&y.pageX===w&&y.clientX!==w){var z=B.target.ownerDocument||document,x=z.documentElement,i=z.body;B.pageX=y.clientX+(x&&x.scrollLeft||i&&i.scrollLeft||0)-(x&&x.clientLeft||i&&i.clientLeft||0),B.pageY=y.clientY+(x&&x.scrollTop||i&&i.scrollTop||0)-(x&&x.clientTop||i&&i.clientTop||0)}return B.preventDefault=function(){B.isDefaultPrevented=t,y&&(y.preventDefault?y.preventDefault():y.returnValue=!1)},B.stopPropagation=function(){B.isPropagationStopped=t,y&&(y.stopPropagation?y.stopPropagation():y.cancelBubble=!0)},B.stopImmediatePropagation=function(){B.isImmediatePropagationStopped=t,B.stopPropagation()},B.isDefaultPrevented||(B.isDefaultPrevented=c,B.isPropagationStopped=c,B.isImmediatePropagationStopped=c),"undefined"==typeof B.metaKey&&(B.metaKey=!1),B}function m(x,w,z){function n(){z.domLoaded||(z.domLoaded=!0,w(A))}function y(){("complete"===r.readyState||"interactive"===r.readyState&&r.body)&&(b(r,"readystatechange",y),n())}function e(){try{r.documentElement.doScroll("left")}catch(a){return void j.setTimeout(e)}n()}var r=x.document,A={type:"ready"};return z.domLoaded?void w(A):(r.addEventListener?"complete"===r.readyState?n():f(x,"DOMContentLoaded",n):(f(r,"readystatechange",y),r.documentElement.doScroll&&x.self===x.top&&e()),void f(x,"load",n))}function v(){function w(A,i){var C,z,B,c,u=l[i];if(C=u&&u[A.type]){for(z=0,B=C.length;z<B;z++){if(c=C[z],c&&c.func.call(c.scope,A)===!1&&A.preventDefault(),A.isImmediatePropagationStopped()){return}}}}var n=this,l={},o,a,y,x,r;a=g+(+new Date).toString(32),x="onmouseenter" in document.documentElement,y="onfocusin" in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},o=1,n.domLoaded=!1,n.events=l,n.bind=function(c,t,i,u){function s(C){w(d(C||H.event),z)}var z,G,B,A,e,D,F,H=window;if(c&&3!==c.nodeType&&8!==c.nodeType){for(c[a]?z=c[a]:(z=o++,c[a]=z,l[z]={}),u=u||c,t=t.split(" "),B=t.length;B--;){A=t[B],D=s,e=F=!1,"DOMContentLoaded"===A&&(A="ready"),n.domLoaded&&"ready"===A&&"complete"==c.readyState?i.call(u,d({type:A})):(x||(e=r[A],e&&(D=function(C){var I,E;if(I=C.currentTarget,E=C.relatedTarget,E&&I.contains){E=I.contains(E)}else{for(;E&&E!==I;){E=E.parentNode}}E||(C=d(C||H.event),C.type="mouseout"===C.type?"mouseleave":"mouseenter",C.target=I,w(C,z))})),y||"focusin"!==A&&"focusout"!==A||(F=!0,e="focusin"===A?"focus":"blur",D=function(C){C=d(C||H.event),C.type="focus"===C.type?"focusin":"focusout",w(C,z)}),G=l[z][A],G?"ready"===A&&n.domLoaded?i({type:A}):G.push({func:i,scope:u}):(l[z][A]=G=[{func:i,scope:u}],G.fakeName=e,G.capture=F,G.nativeHandler=D,"ready"===A?m(c,D,n):f(c,e||A,D,F)))}return c=G=0,i}},n.unbind=function(E,u,t){var H,I,A,G,F,D;if(!E||3===E.nodeType||8===E.nodeType){return n}if(H=E[a]){if(D=l[H],u){for(u=u.split(" "),A=u.length;A--;){if(F=u[A],I=D[F]){if(t){for(G=I.length;G--;){if(I[G].func===t){var i=I.nativeHandler,B=I.fakeName,z=I.capture;I=I.slice(0,G).concat(I.slice(G+1)),I.nativeHandler=i,I.fakeName=B,I.capture=z,D[F]=I}}}t&&0!==I.length||(delete D[F],b(E,I.fakeName||F,I.nativeHandler,I.capture))}}}else{for(F in D){I=D[F],b(E,I.fakeName||F,I.nativeHandler,I.capture)}D={}}for(F in D){return n}delete l[H];try{delete E[a]}catch(C){E[a]=null}}return n},n.fire=function(t,s,e){var c;if(!t||3===t.nodeType||8===t.nodeType){return n}e=d(null,e),e.type=s,e.target=t;do{c=t[a],c&&w(e,c),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!e.isPropagationStopped());return n},n.clean=function(t){var u,s,c=n.unbind;if(!t||3===t.nodeType||8===t.nodeType){return n}if(t[a]&&c(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){for(c(t),s=t.getElementsByTagName("*"),u=s.length;u--;){t=s[u],t[a]&&c(t)}}return n},n.destroy=function(){l={}},n.cancel=function(c){return c&&(c.preventDefault(),c.stopImmediatePropagation()),!1}}var g="mce-data-",p=/^(?:mouse|contextmenu)|click/,k={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return v.Event=new v,v.Event.bind(window,"ready",function(){}),v}),bD(bG,[],function(){function dq(y,C,j,b){var v,f,A,D,q,B,z,c,w,k;if((C?C.ownerDocument||C:c1)!==dX&&d0(C),C=C||dX,j=j||[],!y||"string"!=typeof y){return j}if(1!==(D=C.nodeType)&&9!==D){return[]}if(dN&&!b){if(v=ct.exec(y)){if(A=v[1]){if(9===D){if(f=C.getElementById(A),!f||!f.parentNode){return j}if(f.id===A){return j.push(f),j}}else{if(C.ownerDocument&&(f=C.ownerDocument.getElementById(A))&&dR(C,f)&&f.id===A){return j.push(f),j}}}else{if(v[2]){return dx.apply(j,C.getElementsByTagName(y)),j}if((A=v[3])&&c3.getElementsByClassName){return dx.apply(j,C.getElementsByClassName(A)),j}}}if(c3.qsa&&(!dI||!dI.test(y))){if(c=z=dV,w=C,k=9===D&&y,1===D&&"object"!==C.nodeName.toLowerCase()){for(B=dw(y),(z=C.getAttribute("id"))?c=z.replace(dE,"\\$&"):C.setAttribute("id",c),c="[id='"+c+"'] ",q=B.length;q--;){B[q]=c+dp(B[q])}w=d7.test(y)&&ds(C.parentNode)||C,k=B.join(",")}if(k){try{return dx.apply(j,w.querySelectorAll(k)),j}catch(x){}finally{z||C.removeAttribute("id")}}}}return di(y.replace(d5,"$1"),C,j,b)}function dd(){function b(d,c){return a.push(d+" ")>c4.cacheLength&&delete b[a.shift()],b[d+" "]=c}var a=[];return b}function c8(a){return a[dV]=!0,a}function dk(b){var a=dX.createElement("div");try{return !!b(a)}catch(c){return !1}finally{a.parentNode&&a.parentNode.removeChild(a),a=null}}function dc(c,a){for(var d=c.split("|"),b=c.length;b--;){c4.attrHandle[d[b]]=a}}function dv(c,a){var d=a&&c,b=d&&1===c.nodeType&&1===a.nodeType&&(~a.sourceIndex||dz)-(~c.sourceIndex||dz);if(b){return b}if(d){for(;d=d.nextSibling;){if(d===a){return -1}}}return c?1:-1}function c7(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function dh(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function c6(a){return c8(function(b){return b=+b,c8(function(g,e){for(var d,f=a([],g.length,b),c=f.length;c--;){g[d=f[c]]&&(g[d]=!(e[d]=g[d]))}})})}function ds(a){return a&&typeof a.getElementsByTagName!==dy&&a}function dr(){}function dp(c){for(var a=0,d=c.length,b="";a<d;a++){b+=c[a].value}return b}function db(d,b,g){var c=b.dir,a=g&&"parentNode"===c,f=dA++;return b.first?function(e,i,h){for(;e=e[c];){if(1===e.nodeType||a){return d(e,i,h)}}}:function(j,m,h){var k,e,i=[dC,f];if(h){for(;j=j[c];){if((1===j.nodeType||a)&&d(j,m,h)){return !0}}}else{for(;j=j[c];){if(1===j.nodeType||a){if(e=j[dV]||(j[dV]={}),(k=e[c])&&k[0]===dC&&k[1]===f){return i[2]=k[2]}if(e[c]=i,i[2]=d(j,m,h)){return !0}}}}}}function dl(a){return a.length>1?function(c,e,d){for(var b=a.length;b--;){if(!a[b](c,e,d)){return !1}}return !0}:a[0]}function df(b,e,c){for(var a=0,d=e.length;a<d;a++){dq(b,e[a],c)}return c}function dn(h,m,d,b,g){for(var c,j=[],p=0,f=h.length,k=null!=m;p<f;p++){(c=h[p])&&(d&&!d(c,b,g)||(j.push(c),k&&m.push(p)))}return j}function c5(f,d,h,c,g,b){return c&&!c[dV]&&(c=c5(c)),g&&!g[dV]&&(g=c5(g,b)),c8(function(e,x,B,j){var A,o,n,m=[],i=[],k=x.length,z=e||df(d||"*",B.nodeType?[B]:B,[]),w=!f||!e&&d?z:dn(z,m,f,B,j),q=h?g||(e?f:k||c)?[]:x:w;if(h&&h(w,q,B,j),c){for(A=dn(q,i),c(A,[],B,j),o=A.length;o--;){(n=A[o])&&(q[i[o]]=!(w[i[o]]=n))}}if(e){if(g||f){if(g){for(A=[],o=q.length;o--;){(n=q[o])&&A.push(w[o]=n)}g(null,q=[],A,j)}for(o=q.length;o--;){(n=q[o])&&(A=g?dY.call(e,n):m[o])>-1&&(e[A]=!(x[A]=n))}}}else{q=dn(q===x?q.splice(k,q.length):q),g?g(null,x,q,j):dx.apply(x,q)}})}function c2(j){for(var q,f,b,h=j.length,d=c4.relative[j[0].type],m=d||c4.relative[" "],v=d?1:0,g=db(function(a){return a===q},m,!0),p=db(function(a){return dY.call(q,a)>-1},m,!0),k=[function(c,i,a){return !d&&(a||i!==dD)||((q=i).nodeType?g(c,i,a):p(c,i,a))}];v<h;v++){if(f=c4.relative[j[v].type]){k=[db(dl(k),f)]}else{if(f=c4.filter[j[v].type].apply(null,j[v].matches),f[dV]){for(b=++v;b<h&&!c4.relative[j[b].type];b++){}return c5(v>1&&dl(k),v>1&&dp(j.slice(0,v-1).concat({value:" "===j[v-2].type?"*":""})).replace(d5,"$1"),f,v<b&&c2(j.slice(v,b)),b<h&&c2(j=j.slice(b)),b<h&&dp(j))}k.push(f)}}return dl(k)}function du(d,f){var c=f.length>0,e=d.length>0,b=function(g,E,H,n,G){var z,w,q,j=0,o="0",k=g&&[],F=[],B=dD,A=g||e&&c4.find.TAG("*",G),i=dC+=null==B?1:Math.random()||0.1,D=A.length;for(G&&(dD=E!==dX&&E);o!==D&&null!=(z=A[o]);o++){if(e&&z){for(w=0;q=d[w++];){if(q(z,E,H)){n.push(z);break}}G&&(dC=i)}c&&((z=!q&&z)&&j--,g&&k.push(z))}if(j+=o,c&&o!==j){for(w=0;q=f[w++];){q(k,F,E,H)}if(g){if(j>0){for(;o--;){k[o]||F[o]||(F[o]=dQ.call(n))}}F=dn(F)}dx.apply(n,F),G&&!g&&F.length>0&&j+f.length>1&&dq.uniqueSort(n)}return G&&(dC=i,dD=B),k};return c?c8(b):b}var dZ,c3,c4,dW,dL,dw,dF,di,dD,dG,d1,d0,dX,dO,dN,dI,dJ,dT,dR,dV="sizzle"+-new Date,c1=window.document,dC=0,dA=0,dB=dd(),d6=dd(),da=dd(),dj=function(b,a){return b===a&&(d1=!0),0},dy=typeof bB,dz=1<<31,dP={}.hasOwnProperty,dU=[],dQ=dU.pop,dH=dU.push,dx=dU.push,t=dU.slice,dY=dU.indexOf||function(b){for(var a=0,c=this.length;a<c;a++){if(this[a]===b){return a}}return -1},dS="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ea="[\\x20\\t\\r\\n\\f]",dg="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",dm="\\["+ea+"*("+dg+")(?:"+ea+"*([*^$|!~]?=)"+ea+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+dg+"))|)"+ea+"*\\]",d2=":("+dg+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+dm+")*)|.*)\\)|)",d5=new RegExp("^"+ea+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ea+"+$","g"),d9=new RegExp("^"+ea+"*,"+ea+"*"),dt=new RegExp("^"+ea+"*([>+~]|"+ea+")"+ea+"*"),c9=new RegExp("="+ea+"*([^\\]'\"]*?)"+ea+"*\\]","g"),at=new RegExp(d2),d8=new RegExp("^"+dg+"$"),bt={ID:new RegExp("^#("+dg+")"),CLASS:new RegExp("^\\.("+dg+")"),TAG:new RegExp("^("+dg+"|[*])"),ATTR:new RegExp("^"+dm),PSEUDO:new RegExp("^"+d2),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ea+"*(even|odd|(([+-]|)(\\d*)n|)"+ea+"*(?:([+-]|)"+ea+"*(\\d+)|))"+ea+"*\\)|)","i"),bool:new RegExp("^(?:"+dS+")$","i"),needsContext:new RegExp("^"+ea+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ea+"*((?:-\\d)?\\d*)"+ea+"*\\)|)(?=[^-]|$)","i")},dK=/^(?:input|select|textarea|button)$/i,d4=/^h\d$/i,d3=/^[^{]+\{\s*\[native \w/,ct=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,d7=/[+~]/,dE=/'|\\/g,dM=new RegExp("\\\\([\\da-f]{1,6}"+ea+"?|("+ea+")|.)","ig"),eb=function(c,a,d){var b="0x"+a-65536;return b!==b||d?a:b<0?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)};try{dx.apply(dU=t.call(c1.childNodes),c1.childNodes),dU[c1.childNodes.length].nodeType}catch(an){dx={apply:dU.length?function(b,a){dH.apply(b,t.call(a))}:function(c,a){for(var d=c.length,b=0;c[d++]=a[b++];){}c.length=d-1}}}c3=dq.support={},dL=dq.isXML=function(b){var a=b&&(b.ownerDocument||b).documentElement;return !!a&&"HTML"!==a.nodeName},d0=dq.setDocument=function(c){function a(h){try{return h.top}catch(g){}return null}var f,b=c?c.ownerDocument||c:c1,d=b.defaultView;return b!==dX&&9===b.nodeType&&b.documentElement?(dX=b,dO=b.documentElement,dN=!dL(b),d&&d!==a(d)&&(d.addEventListener?d.addEventListener("unload",function(){d0()},!1):d.attachEvent&&d.attachEvent("onunload",function(){d0()})),c3.attributes=dk(function(g){return g.className="i",!g.getAttribute("className")}),c3.getElementsByTagName=dk(function(g){return g.appendChild(b.createComment("")),!g.getElementsByTagName("*").length}),c3.getElementsByClassName=d3.test(b.getElementsByClassName),c3.getById=dk(function(g){return dO.appendChild(g).id=dV,!b.getElementsByName||!b.getElementsByName(dV).length}),c3.getById?(c4.find.ID=function(h,g){if(typeof g.getElementById!==dy&&dN){var i=g.getElementById(h);return i&&i.parentNode?[i]:[]}},c4.filter.ID=function(h){var g=h.replace(dM,eb);return function(i){return i.getAttribute("id")===g}}):(delete c4.find.ID,c4.filter.ID=function(h){var g=h.replace(dM,eb);return function(i){var j=typeof i.getAttributeNode!==dy&&i.getAttributeNode("id");return j&&j.value===g}}),c4.find.TAG=c3.getElementsByTagName?function(h,g){if(typeof g.getElementsByTagName!==dy){return g.getElementsByTagName(h)}}:function(k,h){var m,j=[],g=0,l=h.getElementsByTagName(k);if("*"===k){for(;m=l[g++];){1===m.nodeType&&j.push(m)}return j}return l},c4.find.CLASS=c3.getElementsByClassName&&function(h,g){if(dN){return g.getElementsByClassName(h)}},dJ=[],dI=[],(c3.qsa=d3.test(b.querySelectorAll))&&(dk(function(g){g.innerHTML="<select msallowcapture=''><option selected=''></option></select>",g.querySelectorAll("[msallowcapture^='']").length&&dI.push("[*^$]="+ea+"*(?:''|\"\")"),g.querySelectorAll("[selected]").length||dI.push("\\["+ea+"*(?:value|"+dS+")"),g.querySelectorAll(":checked").length||dI.push(":checked")}),dk(function(h){var g=b.createElement("input");g.setAttribute("type","hidden"),h.appendChild(g).setAttribute("name","D"),h.querySelectorAll("[name=d]").length&&dI.push("name"+ea+"*[*^$|!~]?="),h.querySelectorAll(":enabled").length||dI.push(":enabled",":disabled"),h.querySelectorAll("*,:x"),dI.push(",.*:")})),(c3.matchesSelector=d3.test(dT=dO.matches||dO.webkitMatchesSelector||dO.mozMatchesSelector||dO.oMatchesSelector||dO.msMatchesSelector))&&dk(function(g){c3.disconnectedMatch=dT.call(g,"div"),dT.call(g,"[s!='']:x"),dJ.push("!=",d2)}),dI=dI.length&&new RegExp(dI.join("|")),dJ=dJ.length&&new RegExp(dJ.join("|")),f=d3.test(dO.compareDocumentPosition),dR=f||d3.test(dO.contains)?function(i,g){var j=9===i.nodeType?i.documentElement:i,h=g&&g.parentNode;return i===h||!(!h||1!==h.nodeType||!(j.contains?j.contains(h):i.compareDocumentPosition&&16&i.compareDocumentPosition(h)))}:function(h,g){if(g){for(;g=g.parentNode;){if(g===h){return !0}}}return !1},dj=f?function(h,g){if(h===g){return d1=!0,0}var i=!h.compareDocumentPosition-!g.compareDocumentPosition;return i?i:(i=(h.ownerDocument||h)===(g.ownerDocument||g)?h.compareDocumentPosition(g):1,1&i||!c3.sortDetached&&g.compareDocumentPosition(h)===i?h===b||h.ownerDocument===c1&&dR(c1,h)?-1:g===b||g.ownerDocument===c1&&dR(c1,g)?1:dG?dY.call(dG,h)-dY.call(dG,g):0:4&i?-1:1)}:function(p,k){if(p===k){return d1=!0,0}var r,j=0,q=p.parentNode,m=k.parentNode,g=[p],h=[k];if(!q||!m){return p===b?-1:k===b?1:q?-1:m?1:dG?dY.call(dG,p)-dY.call(dG,k):0}if(q===m){return dv(p,k)}for(r=p;r=r.parentNode;){g.unshift(r)}for(r=k;r=r.parentNode;){h.unshift(r)}for(;g[j]===h[j];){j++}return j?dv(g[j],h[j]):g[j]===c1?-1:h[j]===c1?1:0},b):dX},dq.matches=function(a,b){return dq(a,null,null,b)},dq.matchesSelector=function(b,d){if((b.ownerDocument||b)!==dX&&d0(b),d=d.replace(c9,"='$1']"),c3.matchesSelector&&dN&&(!dJ||!dJ.test(d))&&(!dI||!dI.test(d))){try{var c=dT.call(b,d);if(c||c3.disconnectedMatch||b.document&&11!==b.document.nodeType){return c}}catch(a){}}return dq(d,dX,null,[b]).length>0},dq.contains=function(b,a){return(b.ownerDocument||b)!==dX&&d0(b),dR(b,a)},dq.attr=function(c,d){(c.ownerDocument||c)!==dX&&d0(c);var b=c4.attrHandle[d.toLowerCase()],a=b&&dP.call(c4.attrHandle,d.toLowerCase())?b(c,d,!dN):bB;return a!==bB?a:c3.attributes||!dN?c.getAttribute(d):(a=c.getAttributeNode(d))&&a.specified?a.value:null},dq.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},dq.uniqueSort=function(d){var b,f=[],c=0,a=0;if(d1=!c3.detectDuplicates,dG=!c3.sortStable&&d.slice(0),d.sort(dj),d1){for(;b=d[a++];){b===d[a]&&(c=f.push(a))}for(;c--;){d.splice(f[c],1)}}return dG=null,d},dW=dq.getText=function(d){var b,f="",c=0,a=d.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof d.textContent){return d.textContent}for(d=d.firstChild;d;d=d.nextSibling){f+=dW(d)}}else{if(3===a||4===a){return d.nodeValue}}}else{for(;b=d[c++];){f+=dW(b)}}return f},c4=dq.selectors={cacheLength:50,createPseudo:c8,match:bt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(dM,eb),a[3]=(a[3]||a[4]||a[5]||"").replace(dM,eb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||dq.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&dq.error(a[0]),a},PSEUDO:function(b){var a,c=!b[6]&&b[2];return bt.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":c&&at.test(c)&&(a=dw(c,!0))&&(a=c.indexOf(")",c.length-a)-c.length)&&(b[0]=b[0].slice(0,a),b[2]=c.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(b){var a=b.replace(dM,eb).toLowerCase();return"*"===b?function(){return !0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(b){var a=dB[b+" "];return a||(a=new RegExp("(^|"+ea+")"+b+"("+ea+"|$)"))&&dB(b,function(c){return a.test("string"==typeof c.className&&c.className||typeof c.getAttribute!==dy&&c.getAttribute("class")||"")})},ATTR:function(a,c,b){return function(d){var e=dq.attr(d,a);return null==e?"!="===c:!c||(e+="","="===c?e===b:"!="===c?e!==b:"^="===c?b&&0===e.indexOf(b):"*="===c?b&&e.indexOf(b)>-1:"$="===c?b&&e.slice(-b.length)===b:"~="===c?(" "+e+" ").indexOf(b)>-1:"|="===c&&(e===b||e.slice(0,b.length+1)===b+"-"))}},CHILD:function(h,d,k,g,c){var j="nth"!==h.slice(0,3),b="last"!==h.slice(-4),f="of-type"===d;return 1===g&&0===c?function(a){return !!a.parentNode}:function(C,e,o){var B,x,w,s,a,q,i=j!==b?"nextSibling":"previousSibling",r=C.parentNode,A=f&&C.nodeName.toLowerCase(),z=!o&&!f;if(r){if(j){for(;i;){for(w=C;w=w[i];){if(f?w.nodeName.toLowerCase()===A:1===w.nodeType){return !1}}q=i="only"===h&&!q&&"nextSibling"}return !0}if(q=[b?r.firstChild:r.lastChild],b&&z){for(x=r[dV]||(r[dV]={}),B=x[h]||[],a=B[0]===dC&&B[1],s=B[0]===dC&&B[2],w=a&&r.childNodes[a];w=++a&&w&&w[i]||(s=a=0)||q.pop();){if(1===w.nodeType&&++s&&w===C){x[h]=[dC,a,s];break}}}else{if(z&&(B=(C[dV]||(C[dV]={}))[h])&&B[0]===dC){s=B[1]}else{for(;(w=++a&&w&&w[i]||(s=a=0)||q.pop())&&((f?w.nodeName.toLowerCase()!==A:1!==w.nodeType)||!++s||(z&&((w[dV]||(w[dV]={}))[h]=[dC,s]),w!==C));){}}}return s-=c,s===g||s%g===0&&s/g>=0}}},PSEUDO:function(b,d){var a,c=c4.pseudos[b]||c4.setFilters[b.toLowerCase()]||dq.error("unsupported pseudo: "+b);return c[dV]?c(d):c.length>1?(a=[b,b,"",d],c4.setFilters.hasOwnProperty(b.toLowerCase())?c8(function(k,h){for(var j,g=c(k,d),f=g.length;f--;){j=dY.call(k,g[f]),k[j]=!(h[j]=g[f])}}):function(f){return c(f,0,a)}):c}},pseudos:{not:c8(function(c){var b=[],d=[],a=dF(c.replace(d5,"$1"));return a[dV]?c8(function(j,g,l,i){for(var k,f=a(j,null,i,[]),h=j.length;h--;){(k=f[h])&&(j[h]=!(g[h]=k))}}):function(g,f,h){return b[0]=g,a(b,null,h,d),!d.pop()}}),has:c8(function(a){return function(b){return dq(a,b).length>0}}),contains:c8(function(a){return a=a.replace(dM,eb),function(b){return(b.textContent||b.innerText||dW(b)).indexOf(a)>-1}}),lang:c8(function(a){return d8.test(a||"")||dq.error("unsupported lang: "+a),a=a.replace(dM,eb).toLowerCase(),function(b){var c;do{if(c=dN?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var a=window.location&&window.location.hash;return a&&a.slice(1)===b.id},root:function(a){return a===dO},focus:function(a){return a===dX.activeElement&&(!dX.hasFocus||dX.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !c4.pseudos.empty(a)},header:function(a){return d4.test(a.nodeName)},input:function(a){return dK.test(a.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||"text"===a.toLowerCase())},first:c6(function(){return[0]}),last:c6(function(b,a){return[a-1]}),eq:c6(function(b,a,c){return[c<0?c+a:c]}),even:c6(function(b,a){for(var c=0;c<a;c+=2){b.push(c)}return b}),odd:c6(function(b,a){for(var c=1;c<a;c+=2){b.push(c)}return b}),lt:c6(function(c,a,d){for(var b=d<0?d+a:d;--b>=0;){c.push(b)}return c}),gt:c6(function(c,a,d){for(var b=d<0?d+a:d;++b<a;){c.push(b)}return c})}},c4.pseudos.nth=c4.pseudos.eq;for(dZ in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){c4.pseudos[dZ]=c7(dZ)}for(dZ in {submit:!0,reset:!0}){c4.pseudos[dZ]=dh(dZ)}return dr.prototype=c4.filters=c4.pseudos,c4.setFilters=new dr,dw=dq.tokenize=function(m,e){var b,g,d,j,p,f,k,h=d6[m+" "];if(h){return e?0:h.slice(0)}for(p=m,f=[],k=c4.preFilter;p;){b&&!(g=d9.exec(p))||(g&&(p=p.slice(g[0].length)||p),f.push(d=[])),b=!1,(g=dt.exec(p))&&(b=g.shift(),d.push({value:b,type:g[0].replace(d5," ")}),p=p.slice(b.length));for(j in c4.filter){!(g=bt[j].exec(p))||k[j]&&!(g=k[j](g))||(b=g.shift(),d.push({value:b,type:j,matches:g}),p=p.slice(b.length))}if(!b){break}}return e?p.length:p?dq.error(m):d6(m,f).slice(0)},dF=dq.compile=function(d,b){var g,c=[],a=[],f=da[d+" "];if(!f){for(b||(b=dw(d)),g=b.length;g--;){f=c2(b[g]),f[dV]?c.push(f):a.push(f)}f=da(d,du(a,c)),f.selector=d}return f},di=dq.select=function(j,q,f,b){var h,c,m,v,g,p="function"==typeof j&&j,k=!b&&dw(j=p.selector||j);if(f=f||[],1===k.length){if(c=k[0]=k[0].slice(0),c.length>2&&"ID"===(m=c[0]).type&&c3.getById&&9===q.nodeType&&dN&&c4.relative[c[1].type]){if(q=(c4.find.ID(m.matches[0].replace(dM,eb),q)||[])[0],!q){return f}p&&(q=q.parentNode),j=j.slice(c.shift().value.length)}for(h=bt.needsContext.test(j)?0:c.length;h--&&(m=c[h],!c4.relative[v=m.type]);){if((g=c4.find[v])&&(b=g(m.matches[0].replace(dM,eb),d7.test(c[0].type)&&ds(q.parentNode)||q))){if(c.splice(h,1),j=b.length&&dp(c),!j){return dx.apply(f,b),f}break}}}return(p||dF(j,k))(b,q,!dN,f,d7.test(j)&&ds(q.parentNode)||q),f},c3.sortStable=dV.split("").sort(dj).join("")===dV,c3.detectDuplicates=!!d1,d0(),c3.sortDetached=dk(function(a){return 1&a.compareDocumentPosition(dX.createElement("div"))}),dk(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||dc("type|href|height|width",function(b,a,c){if(!c){return b.getAttribute(a,"type"===a.toLowerCase()?1:2)}}),c3.attributes&&dk(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||dc("value",function(b,a,c){if(!c&&"input"===b.nodeName.toLowerCase()){return b.defaultValue}}),dk(function(a){return null==a.getAttribute("disabled")})||dc(dS,function(c,a,d){var b;if(!d){return c[a]===!0?a.toLowerCase():(b=c.getAttributeNode(a))&&b.specified?b.value:null}}),dq}),bD(bR,[],function(){function j(i){var a=i,l,c;if(!k(i)){for(a=[],l=0,c=i.length;l<c;l++){a[l]=i[l]}}return a}function f(l,t,c){var a,s;if(!l){return 0}if(c=c||l,l.length!==bB){for(a=0,s=l.length;a<s;a++){if(t.call(c,l[a],a,l)===!1){return 0}}}else{for(a in l){if(l.hasOwnProperty(a)&&t.call(c,l[a],a,l)===!1){return 0}}}return 1}function b(i,a){var c=[];return f(i,function(l,e){c.push(a(l,e,i))}),c}function h(i,a){var c=[];return f(i,function(l,e){a&&!a(l,e,i)||c.push(l)}),c}function d(i,a){var l,c;if(i){for(l=0,c=i.length;l<c;l++){if(i[l]===a){return l}}}return -1}function m(o,c,s,l){var a=0;for(arguments.length<3&&(s=o[0]);a<o.length;a++){s=c.call(l,s,o[a],a)}return s}function q(o,c,s){var l,a;for(l=0,a=o.length;l<a;l++){if(c.call(s,o[l],l,o)){return l}}return -1}function g(l,o,c){var a=q(l,o,c);return a!==-1?l[a]:bB}function p(a){return a[a.length-1]}var k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};return{isArray:k,toArray:j,each:f,map:b,filter:h,indexOf:d,reduce:m,findIndex:q,find:g,last:p}}),bD(bK,[bW,bR],function(w,k){function b(a){return null===a||a===bB?"":(""+a).replace(t,"")}function q(c,a){return a?!("array"!=a||!k.isArray(c))||typeof c==a:c!==bB}function j(d,a,f){var c;for(d=d||[],a=a||",","string"==typeof d&&(d=d.split(a)),f=f||{},c=d.length;c--;){f[d[c]]={}}return f}function z(c,a){return Object.prototype.hasOwnProperty.call(c,a)}function B(C,F,f){var c=this,p,d,D,G,h,E=0;if(C=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(C),D=C[3].match(/(^|\.)(\w+)$/i)[2],d=c.createNS(C[3].replace(/\.\w+$/,""),f),!d[D]){if("static"==C[2]){return d[D]=F,void (this.onCreate&&this.onCreate(C[2],C[3],d[D]))}F[D]||(F[D]=function(){},E=1),d[D]=F[D],c.extend(d[D].prototype,F),C[5]&&(p=c.resolve(C[5]).prototype,G=C[5].match(/\.(\w+)$/i)[1],h=d[D],E?d[D]=function(){return p[G].apply(this,arguments)}:d[D]=function(){return this.parent=p[G],h.apply(this,arguments)},d[D].prototype[D]=d[D],c.each(p,function(i,a){d[D].prototype[a]=p[a]}),c.each(F,function(i,a){p[a]?d[D].prototype[a]=function(){return this.parent=p[a],i.apply(this,arguments)}:a!=D&&(d[D].prototype[a]=i)})),c.each(F["static"],function(i,a){d[D][a]=i})}}function m(l,u){var h,d,p,c=arguments,f;for(h=1,d=c.length;h<d;h++){u=c[h];for(p in u){u.hasOwnProperty(p)&&(f=u[p],f!==bB&&(l[p]=f))}}return l}function A(f,c,d,a){a=a||this,f&&(d&&(f=f[d]),k.each(f,function(h,i){return c.call(a,h,i,d)!==!1&&void A(h,c,d,a)}))}function y(d,a){var f,c;for(a=a||window,d=d.split("."),f=0;f<d.length;f++){c=d[f],a[c]||(a[c]={}),a=a[c]}return a}function x(d,a){var f,c;for(a=a||window,d=d.split("."),f=0,c=d.length;f<c&&(a=a[d[f]],a);f++){}return a}function v(c,a){return !c||q(c,"array")?c:k.map(c.split(a||","),b)}function g(a){var c=w.cacheSuffix;return c&&(a+=(a.indexOf("?")===-1?"?":"&")+c),a}var t=/^\s*|\s*$/g;return{trim:b,isArray:k.isArray,is:q,toArray:k.toArray,makeMap:j,each:k.each,map:k.map,grep:k.filter,inArray:k.indexOf,hasOwn:z,extend:m,create:B,walk:A,createNS:y,resolve:x,explode:v,_addCacheSuffix:g}}),bD(bS,[bT,bG,bK,bW],function(c5,be,Y,c1){function at(a){return"undefined"!=typeof a}function c9(a){return"string"==typeof a}function W(a){return a&&a==a.window}function ce(d,b){var f,c,a;for(b=b||K,a=b.createElement("div"),f=b.createDocumentFragment(),a.innerHTML=d;c=a.firstChild;){f.appendChild(c)}return f}function Q(d,b,f,c){var a;if(c9(b)){b=ce(b,O(d[0]))}else{if(b.length&&!b.nodeType){if(b=c4.makeArray(b),c){for(a=b.length-1;a>=0;a--){Q(d,b[a],f,c)}}else{for(a=0;a<b.length;a++){Q(d,b[a],f,c)}}return d}}if(b.nodeType){for(a=d.length;a--;){f.call(d[a],b)}}return d}function c7(b,a){return b&&a&&(" "+b.className+" ").indexOf(" "+a+" ")!==-1}function c6(d,b,f){var c,a;return b=c4(b)[0],d.each(function(){var g=this;f&&c==g.parentNode?a.appendChild(g):(c=g.parentNode,a=b.cloneNode(!1),g.parentNode.insertBefore(a,g),a.appendChild(g))}),d}function c4(b,a){return new c4.fn.init(b,a)}function an(b,a){var c;if(a.indexOf){return a.indexOf(b)}for(c=a.length;c--;){if(a[c]===b){return c}}return -1}function c2(a){return null===a||a===ct?"":(""+a).replace(z,"")}function bt(g,d){var k,f,c,h,b;if(g){if(k=g.length,k===h){for(f in g){if(g.hasOwnProperty(f)&&(b=g[f],d.call(b,f,b)===!1)){break}}}else{for(c=0;c<k&&(b=g[c],d.call(b,c,b)!==!1);c++){}}}return g}function c3(b,a){var c=[];return bt(b,function(f,d){a(d,f)&&c.push(d)}),c}function O(a){return a?9==a.nodeType?a:a.ownerDocument:K}function I(c,f,b){var a=[],d=c[f];for("string"!=typeof b&&b instanceof c4&&(b=b[0]);d&&9!==d.nodeType;){if(b!==bB){if(d===b){break}if("string"==typeof b&&c4(d).is(b)){break}}1===d.nodeType&&a.push(d),d=d[f]}return a}function c8(c,f,b,a){var d=[];for(a instanceof c4&&(a=a[0]);c;c=c[f]){if(!b||c.nodeType===b){if(a!==bB){if(c===a){break}if("string"==typeof a&&c4(c).is(a)){break}}d.push(c)}}return d}function X(b,a,c){for(b=b[a];b;b=b[a]){if(b.nodeType==c){return b}}return null}function J(b,a,c){bt(c,function(e,d){b[e]=b[e]||{},b[e][a]=d})}var K=document,U=Array.prototype.push,F=Array.prototype.slice,da=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,q=c5.Event,ct,j=Y.makeMap("children,contents,next,prev"),t=Y.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),ae=Y.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Z={"for":"htmlFor","class":"className",readonly:"readOnly"},V={"float":"cssFloat"},H={},G={},z=/^\s*|\s*$/g;return c4.fn=c4.prototype={constructor:c4,selector:"",context:null,length:0,init:function(d,b){var f=this,c,a;if(!d){return f}if(d.nodeType){return f.context=f[0]=d,f.length=1,f}if(b&&b.nodeType){f.context=b}else{if(b){return c4(d).attr(b)}f.context=b=document}if(c9(d)){if(f.selector=d,c="<"===d.charAt(0)&&">"===d.charAt(d.length-1)&&d.length>=3?[null,d,null]:da.exec(d),!c){return c4(b).find(d)}if(c[1]){for(a=ce(d,O(b)).firstChild;a;){U.call(f,a),a=a.nextSibling}}else{if(a=O(b).getElementById(c[2]),!a){return f}if(a.id!==c[2]){return f.find(d)}f.length=1,f[0]=a}}else{this.add(d,!1)}return f},toArray:function(){return Y.toArray(this)},add:function(d,b){var f=this,c,a;if(c9(d)){return f.add(c4(d))}if(b!==!1){for(c=c4.unique(f.toArray().concat(c4.makeArray(d))),f.length=c.length,a=0;a<c.length;a++){f[a]=c[a]}}else{U.apply(f,c4.makeArray(d))}return f},attr:function(c,a){var d=this,b;if("object"==typeof c){bt(c,function(g,f){d.attr(g,f)})}else{if(!at(a)){if(d[0]&&1===d[0].nodeType){if(b=H[c],b&&b.get){return b.get(d[0],c)}if(ae[c]){return d.prop(c)?c:ct}a=d[0].getAttribute(c,2),null===a&&(a=ct)}return a}this.each(function(){var e;if(1===this.nodeType){if(e=H[c],e&&e.set){return void e.set(this,a)}null===a?this.removeAttribute(c,2):this.setAttribute(c,a,2)}})}return d},removeAttr:function(a){return this.attr(a,null)},prop:function(b,a){var c=this;if(b=Z[b]||b,"object"==typeof b){bt(b,function(f,d){c.prop(f,d)})}else{if(!at(a)){return c[0]&&c[0].nodeType&&b in c[0]?c[0][b]:a}this.each(function(){1==this.nodeType&&(this[b]=a)})}return c},css:function(k,f){function m(a){return a.replace(/-(\D)/g,function(l,i){return i.toUpperCase()})}function h(a){return a.replace(/[A-Z]/g,function(i){return"-"+i})}var d=this,c,g;if("object"==typeof k){bt(k,function(i,a){d.css(i,a)})}else{if(at(f)){k=m(k),"number"!=typeof f||t[k]||(f+="px"),d.each(function(){var e=this.style;if(g=G[k],g&&g.set){return void g.set(this,f)}try{this.style[V[k]||k]=f}catch(a){}null!==f&&""!==f||(e.removeProperty?e.removeProperty(h(k)):e.removeAttribute(k))})}else{if(c=d[0],g=G[k],g&&g.get){return g.get(c)}if(c.ownerDocument.defaultView){try{return c.ownerDocument.defaultView.getComputedStyle(c,null).getPropertyValue(h(k))}catch(b){return ct}}else{if(c.currentStyle){return c.currentStyle[m(k)]}}}}return d},remove:function(){for(var b=this,a,c=this.length;c--;){a=b[c],q.clean(a),a.parentNode&&a.parentNode.removeChild(a)}return this},empty:function(){for(var b=this,a,c=this.length;c--;){for(a=b[c];a.firstChild;){a.removeChild(a.firstChild)}}return this},html:function(c){var a=this,d;if(at(c)){d=a.length;try{for(;d--;){a[d].innerHTML=c}}catch(b){c4(a[d]).empty().append(c)}return a}return a[0]?a[0].innerHTML:""},text:function(b){var a=this,c;if(at(b)){for(c=a.length;c--;){"innerText" in a[c]?a[c].innerText=b:a[0].textContent=b}return a}return a[0]?a[0].innerText||a[0].textContent:""},append:function(){return Q(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return Q(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){var a=this;return a[0]&&a[0].parentNode?Q(a,arguments,function(b){this.parentNode.insertBefore(b,this)}):a},after:function(){var a=this;return a[0]&&a[0].parentNode?Q(a,arguments,function(b){this.parentNode.insertBefore(b,this.nextSibling)},!0):a},appendTo:function(a){return c4(a).append(this),this},prependTo:function(a){return c4(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return c6(this,a)},wrapAll:function(a){return c6(this,a,!0)},wrapInner:function(a){return this.each(function(){c4(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){c4(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),c4(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(b,a){var c=this;return"string"!=typeof b?c:(b.indexOf(" ")!==-1?bt(b.split(" "),function(){c.toggleClass(this,a)}):c.each(function(g,e){var d,f;f=c7(e,b),f!==a&&(d=e.className,f?e.className=c2((" "+d+" ").replace(" "+b+" "," ")):e.className+=d?" "+b:b)}),c)},hasClass:function(a){return c7(this[0],a)},each:function(a){return bt(this,a)},on:function(b,a){return this.each(function(){q.bind(this,b,a)})},off:function(b,a){return this.each(function(){q.unbind(this,b,a)})},trigger:function(a){return this.each(function(){"object"==typeof a?q.fire(this,a.type,a):q.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new c4(F.apply(this,arguments))},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(c){var a,d,b=[];for(a=0,d=this.length;a<d;a++){c4.find(c,this[a],b)}return c4(b)},filter:function(a){return c4("function"==typeof a?c3(this.toArray(),function(b,c){return a(c,b)}):c4.filter(a,this.toArray()))},closest:function(b){var a=[];return b instanceof c4&&(b=b[0]),this.each(function(d,c){for(;c;){if("string"==typeof b&&c4(c).is(b)){a.push(c);break}if(c==b){a.push(c);break}c=c.parentNode}}),c4(a)},offset:function(g){var d,k,f,c=0,h=0,b;return g?this.css(g):(d=this[0],d&&(k=d.ownerDocument,f=k.documentElement,d.getBoundingClientRect&&(b=d.getBoundingClientRect(),c=b.left+(f.scrollLeft||k.body.scrollLeft)-f.clientLeft,h=b.top+(f.scrollTop||k.body.scrollTop)-f.clientTop)),{left:c,top:h})},push:U,sort:[].sort,splice:[].splice},Y.extend(c4,{extend:Y.extend,makeArray:function(a){return W(a)||a.nodeType?[a]:Y.toArray(a)},inArray:an,isArray:Y.isArray,each:bt,trim:c2,grep:c3,find:be,expr:be.selectors,unique:be.uniqueSort,text:be.getText,contains:be.contains,filter:function(c,a,d){var b=a.length;for(d&&(c=":not("+c+")");b--;){1!=a[b].nodeType&&a.splice(b,1)}return a=1===a.length?c4.find.matchesSelector(a[0],c)?[a[0]]:[]:c4.find.matches(c,a)}}),bt({parent:function(b){var a=b.parentNode;return a&&11!==a.nodeType?a:null},parents:function(a){return I(a,"parentNode")},next:function(a){return X(a,"nextSibling",1)},prev:function(a){return X(a,"previousSibling",1)},children:function(a){return c8(a.firstChild,"nextSibling",1)},contents:function(a){return Y.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(b,a){c4.fn[b]=function(e){var d=this,c=[];return d.each(function(){var f=a.call(c,this,e,c);f&&(c4.isArray(f)?c.push.apply(c,f):c.push(f))}),this.length>1&&(j[b]||(c=c4.unique(c)),0===b.indexOf("parents")&&(c=c.reverse())),c=c4(c),e?c.filter(e):c}}),bt({parentsUntil:function(b,a){return I(b,"parentNode",a)},nextUntil:function(b,a){return c8(b,"nextSibling",1,a).slice(1)},prevUntil:function(b,a){return c8(b,"previousSibling",1,a).slice(1)}},function(b,a){c4.fn[b]=function(f,d){var c=this,e=[];return c.each(function(){var g=a.call(e,this,f,e);g&&(c4.isArray(g)?e.push.apply(e,g):e.push(g))}),this.length>1&&(e=c4.unique(e),0!==b.indexOf("parents")&&"prevUntil"!==b||(e=e.reverse())),e=c4(e),d?e.filter(d):e}}),c4.fn.is=function(a){return !!a&&this.filter(a).length>0},c4.fn.init.prototype=c4.fn,c4.overrideDefaults=function(b){function a(e,d){return c=c||b(),0===arguments.length&&(e=c.element),d||(d=c.context),new a.fn.init(e,d)}var c;return c4.extend(a,this),a},c1.ie&&c1.ie<8&&(J(H,"get",{maxlength:function(b){var a=b.maxLength;return 2147483647===a?ct:a},size:function(b){var a=b.size;return 20===a?ct:a},"class":function(a){return a.className},style:function(b){var a=b.style.cssText;return 0===a.length?ct:a}}),J(H,"set",{"class":function(b,a){b.className=a},style:function(b,a){b.style.cssText=a}})),c1.ie&&c1.ie<9&&(V["float"]="styleFloat",J(G,"set",{opacity:function(b,a){var c=b.style;null===a||""===a?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*a+")")}})),c4.attrHooks=H,c4.cssHooks=G,c4}),bD(by,[],function(){return function(p,y){function h(f,c,l,d){function a(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+a(c)+a(l)+a(d)}var b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,k=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,g=/\s*([^:]+):\s*([^;]+);?/g,w=/\s+$/,z,j={},x,v,q,m="\ufeff";for(p=p||{},y&&(v=y.getValidStyles(),q=y.getInvalidStyles()),x=("\\\" \\' \\; \\: ; : "+m).split(" "),z=0;z<x.length;z++){j[x[z]]=m+z,j[m+z]=x[z]}return{toHex:function(a){return a.replace(b,h)},parse:function(H){function G(J,C,L){var E,u,K,d;if(E=A[J+"-top"+C],E&&(u=A[J+"-right"+C],u&&(K=A[J+"-bottom"+C],K&&(d=A[J+"-left"+C])))){var c=[E,u,K,d];for(z=c.length-1;z--&&c[z]===c[z+1];){}z>-1&&L||(A[J+C]=z==-1?c[0]:c.join(" "),delete A[J+"-top"+C],delete A[J+"-right"+C],delete A[J+"-bottom"+C],delete A[J+"-left"+C])}}function r(d){var c=A[d],u;if(c){for(c=c.split(" "),u=c.length;u--;){if(c[u]!==c[0]){return !1}}return A[d]=c[0],!0}}function o(u,c,C,d){r(c)&&r(C)&&r(d)&&(A[u]=A[c]+" "+A[C]+" "+A[d],delete A[c],delete A[C],delete A[d])}function e(c){return D=!0,j[c]}function i(d,c){return D&&(d=d.replace(/\uFEFF[0-9]/g,function(t){return j[t]})),c||(d=d.replace(/\\([\'\";:])/g,"$1")),d}function f(c){return String.fromCharCode(parseInt(c.slice(1),16))}function l(c){return c.replace(/\\[0-9a-f]+/gi,f)}function F(u,K,E,d,J,c){if(J=J||c){return J=i(J),"'"+J.replace(/\'/g,"\\'")+"'"}if(K=i(K||E||d),!p.allow_script_urls){var C=K.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(C)){return""}if(!p.allow_svg_data_urls&&/^data:image\/svg/i.test(C)){return""}}return I&&(K=I.call(n,K,"style")),"url('"+K.replace(/\'/g,"\\'")+"')"}var A={},s,a,B,D,I=p.url_converter,n=p.url_converter_scope||this;if(H){for(H=H.replace(/[\u0000-\u001F]/g,""),H=H.replace(/\\[\"\';:\uFEFF]/g,e).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(c){return c.replace(/[;:]/g,e)});s=g.exec(H);){if(g.lastIndex=s.index+s[0].length,a=s[1].replace(w,"").toLowerCase(),B=s[2].replace(w,""),a&&B){if(a=l(a),B=l(B),a.indexOf(m)!==-1||a.indexOf('"')!==-1){continue}if(!p.allow_script_urls&&("behavior"==a||/expression\s*\(|\/\*|\*\//.test(B))){continue}"font-weight"===a&&"700"===B?B="bold":"color"!==a&&"background-color"!==a||(B=B.toLowerCase()),B=B.replace(b,h),B=B.replace(k,F),A[a]=D?i(B,!0):B}}G("border","",!0),G("border","-width"),G("border","-color"),G("border","-style"),G("padding",""),G("margin",""),o("border","border-width","border-style","border-color"),"medium none"===A.border&&delete A.border,"none"===A["border-image"]&&delete A["border-image"]}return A},serialize:function(s,f){function A(i){var D,B,C,e;if(D=v[i]){for(B=0,C=D.length;B<C;B++){i=D[B],e=s[i],e&&(d+=(d.length>0?" ":"")+i+": "+e+";")}}}function l(i,a){var o;return o=q["*"],(!o||!o[i])&&(o=q[a],!o||!o[i])}var d="",u,c;if(f&&v){A("*"),A(f)}else{for(u in s){c=s[u],!c||q&&!l(u,f)||(d+=(d.length>0?" ":"")+u+": "+c+";")}}return d}}}}),bD(bu,[],function(){return function(d,b){function f(k,m,j,h){var l,g;if(k){if(!h&&k[m]){return k[m]}if(k!=b){if(l=k[j]){return l}for(g=k.parentNode;g&&g!=b;g=g.parentNode){if(l=g[j]){return l}}}}}function c(l,p,k,h){var m,g,j;if(l){if(m=l[k],b&&m===b){return}if(m){if(!h){for(j=m[p];j;j=j[p]){if(!j[p]){return j}}}return m}if(g=l.parentNode,g&&g!==b){return g}}}var a=d;this.current=function(){return a},this.next=function(g){return a=f(a,"firstChild","nextSibling",g)},this.prev=function(g){return a=f(a,"lastChild","previousSibling",g)},this.prev2=function(g){return a=c(a,"lastChild","previousSibling",g)}}}),bD(bY,[bK],function(b){function a(dg){function dc(){return X.createDocumentFragment()}function dl(d,c){ce(bt,d,c)}function df(d,c){ce(c5,d,c)}function dt(c){dl(c.parentNode,dk(c))}function db(c){dl(c.parentNode,dk(c)+1)}function di(c){df(c.parentNode,dk(c))}function da(c){df(c.parentNode,dk(c)+1)}function dr(c){c?(ae[t]=ae[e],ae[c4]=ae[G]):(ae[e]=ae[t],ae[G]=ae[c4]),ae.collapsed=bt}function dq(c){dt(c),da(c)}function dp(c){dl(c,0),df(c,1===c.nodeType?c.childNodes.length:c.nodeValue.length)}function de(j,p){var f=ae[e],c=ae[G],h=ae[t],d=ae[c4],k=p.startContainer,q=p.startOffset,g=p.endContainer,m=p.endOffset;return 0===j?c8(f,c,k,q):1===j?c8(h,d,k,q):2===j?c8(h,d,g,m):3===j?c8(f,c,g,m):void 0}function dm(){Z(at)}function dh(){return Z(Y)}function dn(){return Z(be)}function c9(g){var d=this[e],f=this[G],c,h;3!==d.nodeType&&4!==d.nodeType||!d.nodeValue?(d.childNodes.length>0&&(h=d.childNodes[f]),h?d.insertBefore(g,h):3==d.nodeType?dg.insertAfter(g,d):d.appendChild(g)):f?f>=d.nodeValue.length?dg.insertAfter(g,d):(c=d.splitText(f),d.parentNode.insertBefore(g,c)):d.parentNode.insertBefore(g,d)}function c6(d){var c=ae.extractContents();ae.insertNode(d),d.appendChild(c),ae.selectNode(d)}function ds(){return dd(new a(dg),{startContainer:ae[e],startOffset:ae[G],endContainer:ae[t],endOffset:ae[c4],collapsed:ae.collapsed,commonAncestorContainer:ae.commonAncestorContainer})}function c1(d,c){var f;if(3==d.nodeType){return d}if(c<0){return d}for(f=d.firstChild;f&&c>0;){--c,f=f.nextSibling}return f?f:d}function c7(){return ae[e]==ae[t]&&ae[G]==ae[c4]}function c8(j,p,d,h){var f,m,q,g,n,k;if(j==d){return p==h?0:p<h?-1:1}for(f=d;f&&f.parentNode!=j;){f=f.parentNode}if(f){for(m=0,q=j.firstChild;q!=f&&m<p;){m++,q=q.nextSibling}return p<=m?-1:1}for(f=j;f&&f.parentNode!=d;){f=f.parentNode}if(f){for(m=0,q=d.firstChild;q!=f&&m<h;){m++,q=q.nextSibling}return m<h?-1:1}for(g=dg.findCommonAncestor(j,d),n=j;n&&n.parentNode!=g;){n=n.parentNode}for(n||(n=g),k=d;k&&k.parentNode!=g;){k=k.parentNode}if(k||(k=g),n==k){return 0}for(q=g.firstChild;q;){if(q==n){return -1}if(q==k){return 1}q=q.nextSibling}}function ce(g,d,f){var c,h;for(g?(ae[e]=d,ae[G]=f):(ae[t]=d,ae[c4]=f),c=ae[t];c.parentNode;){c=c.parentNode}for(h=ae[e];h.parentNode;){h=h.parentNode}h==c?c8(ae[e],ae[G],ae[t],ae[c4])>0&&ae.collapse(g):ae.collapse(g),ae.collapsed=c7(),ae.commonAncestorContainer=dg.findCommonAncestor(ae[e],ae[t])}function Z(j){var p,f=0,c=0,h,d,k,q,g,m;if(ae[e]==ae[t]){return du(j)}for(p=ae[t],h=p.parentNode;h;p=h,h=h.parentNode){if(h==ae[e]){return K(p,j)}++f}for(p=ae[e],h=p.parentNode;h;p=h,h=h.parentNode){if(h==ae[t]){return dj(p,j)}++c}for(d=c-f,k=ae[e];d>0;){k=k.parentNode,d--}for(q=ae[t];d<0;){q=q.parentNode,d++}for(g=k.parentNode,m=q.parentNode;g!=m;g=g.parentNode,m=m.parentNode){k=g,q=m}return J(k,q,j)}function du(j){var q,f,h,d,m,r,g,p,k;if(j!=at&&(q=dc()),ae[G]==ae[c4]){return q}if(3==ae[e].nodeType){if(f=ae[e].nodeValue,h=f.substring(ae[G],ae[c4]),j!=be&&(d=ae[e],p=ae[G],k=ae[c4]-ae[G],0===p&&k>=d.nodeValue.length-1?d.parentNode.removeChild(d):d.deleteData(p,k),ae.collapse(bt)),j==at){return}return h.length>0&&q.appendChild(X.createTextNode(h)),q}for(d=c1(ae[e],ae[G]),m=ae[c4]-ae[G];d&&m>0;){r=d.nextSibling,g=ct(d,j),q&&q.appendChild(g),--m,d=r}return j!=be&&ae.collapse(bt),q}function K(j,g){var m,f,k,d,h,c;if(g!=at&&(m=dc()),f=Q(j,g),m&&m.appendChild(f),k=dk(j),d=k-ae[G],d<=0){return g!=be&&(ae.setEndBefore(j),ae.collapse(c5)),m}for(f=j.previousSibling;d>0;){h=f.previousSibling,c=ct(f,g),m&&m.insertBefore(c,m.firstChild),--d,f=h}return g!=be&&(ae.setEndBefore(j),ae.collapse(c5)),m}function dj(j,g){var m,f,k,d,h,c;for(g!=at&&(m=dc()),k=c3(j,g),m&&m.appendChild(k),f=dk(j),++f,d=ae[c4]-f,k=j.nextSibling;k&&d>0;){h=k.nextSibling,c=ct(k,g),m&&m.appendChild(c),--d,k=h}return g!=be&&(ae.setStartAfter(j),ae.collapse(bt)),m}function J(j,q,f){var h,d,m,r,g,p,k;for(f!=at&&(d=dc()),h=c3(j,f),d&&d.appendChild(h),m=dk(j),r=dk(q),++m,g=r-m,p=j.nextSibling;g>0;){k=p.nextSibling,h=ct(p,f),d&&d.appendChild(h),p=k,--g}return h=Q(q,f),d&&d.appendChild(h),f!=be&&(ae.setStartAfter(j),ae.collapse(bt)),d}function Q(j,m){var f=c1(ae[t],ae[c4]-1),c,h,d,k,p,g=f!=ae[t];if(f==j){return c2(f,g,c5,m)}for(c=f.parentNode,h=c2(c,c5,c5,m);c;){for(;f;){d=f.previousSibling,k=c2(f,g,c5,m),m!=at&&h.insertBefore(k,h.firstChild),g=bt,f=d}if(c==j){return h}f=c.previousSibling,c=c.parentNode,p=c2(c,c5,c5,m),m!=at&&p.appendChild(h),h=p}}function c3(j,m){var f=c1(ae[e],ae[G]),c=f!=ae[e],h,d,k,p,g;if(f==j){return c2(f,c,bt,m)}for(h=f.parentNode,d=c2(h,c5,bt,m);h;){for(;f;){k=f.nextSibling,p=c2(f,c,bt,m),m!=at&&d.appendChild(p),c=bt,f=k}if(h==j){return d}f=h.nextSibling,h=h.parentNode,g=c2(h,c5,bt,m),m!=at&&g.appendChild(d),d=g}}function c2(h,m,c,g){var d,j,n,f,k;if(m){return ct(h,g)}if(3==h.nodeType){if(d=h.nodeValue,c?(f=ae[G],j=d.substring(f),n=d.substring(0,f)):(f=ae[c4],j=d.substring(0,f),n=d.substring(f)),g!=be&&(h.nodeValue=n),g==at){return}return k=dg.clone(h,c5),k.nodeValue=j,k}if(g!=at){return dg.clone(h,c5)}}function ct(d,c){return c!=at?c==be?dg.clone(d,bt):d:void d.parentNode.removeChild(d)}function an(){return dg.create("body",null,dn()).outerText}var ae=this,X=dg.doc,Y=0,be=1,at=2,bt=!0,c5=!1,G="startOffset",e="startContainer",t="endContainer",c4="endOffset",dd=b.extend,dk=dg.nodeIndex;return dd(ae,{startContainer:X,startOffset:0,endContainer:X,endOffset:0,collapsed:bt,commonAncestorContainer:X,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:dl,setEnd:df,setStartBefore:dt,setStartAfter:db,setEndBefore:di,setEndAfter:da,collapse:dr,selectNode:dq,selectNodeContents:dp,compareBoundaryPoints:de,deleteContents:dm,extractContents:dh,cloneContents:dn,insertNode:c9,surroundContents:c6,cloneRange:ds,toStringIE:an}),ae}return a.prototype.toString=function(){return this.toStringIE()},a}),bD(cC,[bK],function(p){function y(c){var a;return a=document.createElement("div"),a.innerHTML=c,a.textContent||a.innerText||c}function h(o,f){var s,l,d,c={};if(o){for(o=o.split(","),f=f||10,s=0;s<o.length;s+=2){l=String.fromCharCode(parseInt(o[s],f)),g[l]||(d="&"+o[s+1]+";",c[l]=d,c[d]=l)}return c}}var b=p.makeMap,k,g,w,z=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,j=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x=/[<>&\"\']/g,v=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,q={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};g={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},w={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},k=h("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var m={encodeRaw:function(c,a){return c.replace(a?z:j,function(d){return g[d]||d})},encodeAllRaw:function(a){return(""+a).replace(x,function(c){return g[c]||c})},encodeNumeric:function(c,a){return c.replace(a?z:j,function(d){return d.length>1?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":g[d]||"&#"+d.charCodeAt(0)+";"})},encodeNamed:function(c,a,d){return d=d||k,c.replace(a?z:j,function(f){return g[f]||d[f]||f})},getEncodeFunc:function(i,f){function c(a,l){return a.replace(l?z:j,function(n){return g[n]||f[n]||"&#"+n.charCodeAt(0)+";"||n})}function d(a,l){return m.encodeNamed(a,l,f)}return f=h(f)||k,i=b(i.replace(/\+/g,",")),i.named&&i.numeric?c:i.named?f?d:m.encodeNamed:i.numeric?m.encodeNumeric:m.encodeRaw},decode:function(a){return a.replace(v,function(c,d){return d?(d="x"===d.charAt(0).toLowerCase()?parseInt(d.substr(1),16):parseInt(d,10),d>65535?(d-=65536,String.fromCharCode(55296+(d>>10),56320+(1023&d))):q[d]||String.fromCharCode(d)):w[c]||k[c]||y(c)})}};return m}),bD(bw,[bK,bX],function(b,a){return function(j,g){function e(i){j.getElementsByTagName("head")[0].appendChild(i)}function h(i,l,C){function x(){for(var o=z.passed,m=o.length;m--;){o[m]()}z.status=2,z.passed=[],z.failed=[]}function w(){for(var o=z.failed,m=o.length;m--;){o[m]()}z.status=3,z.passed=[],z.failed=[]}function t(){var m=navigator.userAgent.match(/WebKit\/(\d*)/);return !!(m&&m[1]<536)}function k(m,o){m()||((new Date).getTime()-A<c?a.setTimeout(o):w())}function q(){k(function(){for(var u=j.styleSheets,o,p=u.length,m;p--;){if(o=u[p],m=o.ownerNode?o.ownerNode:o.owningElement,m&&m.id===s.id){return x(),!0}}},q)}function n(){k(function(){try{var o=B.sheet.cssRules;return x(),!!o}catch(m){}},n)}var s,B,A,z;if(i=b._addCacheSuffix(i),f[i]?z=f[i]:(z={passed:[],failed:[]},f[i]=z),l&&z.passed.push(l),C&&z.failed.push(C),1!=z.status){if(2==z.status){return void x()}if(3==z.status){return void w()}if(z.status=1,s=j.createElement("link"),s.rel="stylesheet",s.type="text/css",s.id="u"+d++,s.async=!1,s.defer=!1,A=(new Date).getTime(),"onload" in s&&!t()){s.onload=q,s.onerror=w}else{if(navigator.userAgent.indexOf("Firefox")>0){return B=j.createElement("style"),B.textContent='@import "'+i+'"',n(),void e(B)}q()}e(s),s.href=i}}var d=0,f={},c;g=g||{},c=g.maxLoadTime||5000,this.load=h}}),bD(bx,[bG,bS,by,bT,bu,bY,cC,bW,bK,bw],function(L,E,A,H,D,P,w,G,t,N){function M(d,b){var f={},c=b.keep_values,a;return a={set:function(h,g,e){b.url_converter&&(g=b.url_converter.call(b.url_converter_scope||d,g,e,h[0])),h.attr("data-mce-"+e,g).attr(e,g)},get:function(h,g){return h.attr("data-mce-"+g)||h.attr(g)}},f={style:{set:function(h,g){return null!==g&&"object"==typeof g?void h.css(g):(c&&h.attr("data-mce-style",g),void h.attr("style",g))},get:function(e){var g=e.attr("data-mce-style")||e.attr("style");return g=d.serializeStyle(d.parseStyle(g),e[0].nodeName)}}},c&&(f.href=f.src=a),f}function K(b,a){var c=a.attr("style");c=b.serializeStyle(b.parseStyle(c),a[0].nodeName),c||(c=null),a.attr("data-mce-style",c)}function B(d,b){var f=0,c,a;if(d){for(c=d.nodeType,d=d.previousSibling;d;d=d.previousSibling){a=d.nodeType,(!b||3!=a||a!=c&&d.nodeValue.length)&&(f++,c=a)}}return f}function I(d,c){var f=this,b;f.doc=d,f.win=window,f.files={},f.counter=0,f.stdMode=!O||d.documentMode>=8,f.boxModel=!O||"CSS1Compat"==d.compatMode||f.stdMode,f.styleSheetLoader=new N(d),f.boundEvents=[],f.settings=c=c||{},f.schema=c.schema,f.styles=new A({url_converter:c.url_converter,url_converter_scope:c.url_converter_scope},c.schema),f.fixDoc(d),f.events=c.ownEvents?new H(c.proxy):H.Event,f.attrHooks=M(f,c),b=c.schema?c.schema.getBlockElements():{},f.$=E.overrideDefaults(function(){return{context:d,element:f.getRoot()}}),f.isBlock=function(g){if(!g){return !1}var a=g.nodeType;return a?!(1!==a||!b[g.nodeName]):!!b[g]}}var F=t.each,J=t.is,q=t.grep,j=t.trim,O=G.ie,z=/^([a-z0-9],?)+$/i,k=/^[ \t\r\n]*$/;return I.prototype={$$:function(a){return"string"==typeof a&&(a=this.get(a)),this.$(a)},root:null,fixDoc:function(b){var a=this.settings,c;if(O&&a.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(d){b.createElement(d)});for(c in a.schema.getCustomElements()){b.createElement(c)}}},clone:function(d,b){var f=this,c,a;return !O||1!==d.nodeType||b?d.cloneNode(b):(a=f.doc,b?c.firstChild:(c=a.createElement(d.nodeName),F(f.getAttribs(d),function(e){f.setAttrib(c,e.nodeName,f.getAttrib(d,e.nodeName))}),c))},getRoot:function(){var a=this;return a.settings.root_element||a.doc.body},getViewPort:function(b){var a,c;return b=b?b:this.win,a=b.document,c=this.boxModel?a.documentElement:a.body,{x:b.pageXOffset||c.scrollLeft,y:b.pageYOffset||c.scrollTop,w:b.innerWidth||c.clientWidth,h:b.innerHeight||c.clientHeight}},getRect:function(c){var a=this,d,b;return c=a.get(c),d=a.getPos(c),b=a.getSize(c),{x:d.x,y:d.y,w:b.w,h:b.h}},getSize:function(c){var a=this,d,b;return c=a.get(c),d=a.getStyle(c,"width"),b=a.getStyle(c,"height"),d.indexOf("px")===-1&&(d=0),b.indexOf("px")===-1&&(b=0),{w:parseInt(d,10)||c.offsetWidth||c.clientWidth,h:parseInt(b,10)||c.offsetHeight||c.clientHeight}},getParent:function(b,a,c){return this.getParents(b,a,c,!1)},getParents:function(g,l,f,c){var h=this,b,d=[];for(g=h.get(g),c=c===bB,f=f||("BODY"!=h.getRoot().nodeName?h.getRoot().parentNode:null),J(l,"string")&&(b=l,l="*"===l?function(a){return 1==a.nodeType}:function(a){return h.is(a,b)});g&&g!=f&&g.nodeType&&9!==g.nodeType;){if(!l||l(g)){if(!c){return g}d.push(g)}g=g.parentNode}return c?d:null},get:function(b){var a;return b&&this.doc&&"string"==typeof b&&(a=b,b=this.doc.getElementById(b),b&&b.id!==a)?this.doc.getElementsByName(a)[1]:b},getNext:function(b,a){return this._findSib(b,a,"nextSibling")},getPrev:function(b,a){return this._findSib(b,a,"previousSibling")},select:function(a,c){var b=this;return L(a,b.get(c)||b.settings.root_element||b.doc,[])},is:function(d,b){var a;if(d.length===bB){if("*"===b){return 1==d.nodeType}if(z.test(b)){for(b=b.toLowerCase().split(/,/),d=d.nodeName.toLowerCase(),a=b.length-1;a>=0;a--){if(b[a]==d){return !0}}return !1}}if(d.nodeType&&1!=d.nodeType){return !1}var c=d.nodeType?[d]:d;return L(b,c[0].ownerDocument||c[0],null,c).length>0},add:function(d,b,g,c,a){var f=this;return this.run(d,function(i){var h;return h=J(b,"string")?f.doc.createElement(b):b,f.setAttribs(h,g),c&&(c.nodeType?h.appendChild(c):f.setHTML(h,c)),a?h:i.appendChild(h)})},create:function(b,a,c){return this.add(this.doc.createElement(b),b,a,c,1)},createHTML:function(d,b,f){var c="",a;c+="<"+d;for(a in b){b.hasOwnProperty(a)&&null!==b[a]&&"undefined"!=typeof b[a]&&(c+=" "+a+'="'+this.encode(b[a])+'"')}return"undefined"!=typeof f?c+">"+f+"</"+d+">":c+" />"},createFragment:function(d){var b,f,c=this.doc,a;for(a=c.createElement("div"),b=c.createDocumentFragment(),d&&(a.innerHTML=d);f=a.firstChild;){b.appendChild(f)}return b},remove:function(b,a){return b=this.$$(b),a?b.each(function(){for(var c;c=this.firstChild;){3==c.nodeType&&0===c.data.length?this.removeChild(c):this.parentNode.insertBefore(c,this)}}).remove():b.remove(),b.length>1?b.toArray():b[0]},setStyle:function(b,a,c){b=this.$$(b).css(a,c),this.settings.update_styles&&K(this,b)},getStyle:function(b,c,a){return b=this.$$(b),a?b.css(c):(c=c.replace(/-(\D)/g,function(f,d){return d.toUpperCase()}),"float"==c&&(c=G.ie&&G.ie<12?"styleFloat":"cssFloat"),b[0]&&b[0].style?b[0].style[c]:bB)},setStyles:function(b,a){b=this.$$(b).css(a),this.settings.update_styles&&K(this,b)},removeAllAttribs:function(a){return this.run(a,function(c){var b,d=c.attributes;for(b=d.length-1;b>=0;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:function(g,d,l){var f=this,c,h,b=f.settings;""===l&&(l=null),g=f.$$(g),c=g.attr(d),g.length&&(h=f.attrHooks[d],h&&h.set?h.set(g,l,d):g.attr(d,l),c!=l&&b.onSetAttrib&&b.onSetAttrib({attrElm:g,attrName:d,attrValue:l}))},setAttribs:function(b,a){var c=this;c.$$(b).each(function(f,d){F(a,function(h,g){c.setAttrib(d,g,h)})})},getAttrib:function(d,b,g){var c=this,a,f;return d=c.$$(d),d.length&&(a=c.attrHooks[b],f=a&&a.get?a.get(d,b):d.attr(b)),"undefined"==typeof f&&(f=g||""),f},getPos:function(g,n){var b=this,f=0,c=0,h,p=b.doc,d=p.body,m;if(g=b.get(g),n=n||d,g){if(n===d&&g.getBoundingClientRect&&"static"===E(d).css("position")){return m=g.getBoundingClientRect(),n=b.boxModel?p.documentElement:d,f=m.left+(p.documentElement.scrollLeft||d.scrollLeft)-n.clientLeft,c=m.top+(p.documentElement.scrollTop||d.scrollTop)-n.clientTop,{x:f,y:c}}for(h=g;h&&h!=n&&h.nodeType;){f+=h.offsetLeft||0,c+=h.offsetTop||0,h=h.offsetParent}for(h=g.parentNode;h&&h!=n&&h.nodeType;){f-=h.scrollLeft||0,c-=h.scrollTop||0,h=h.parentNode}}return{x:f,y:c}},parseStyle:function(a){return this.styles.parse(a)},serializeStyle:function(b,a){return this.styles.serialize(b,a)},addStyle:function(d){var b=this,g=b.doc,c,a;if(b!==I.DOM&&g===document){var f=I.DOM.addedStyles;if(f=f||[],f[d]){return}f[d]=!0,I.DOM.addedStyles=f}a=g.getElementById("mceDefaultStyles"),a||(a=g.createElement("style"),a.id="mceDefaultStyles",a.type="text/css",c=g.getElementsByTagName("head")[0],c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a)),a.styleSheet?a.styleSheet.cssText+=d:a.appendChild(g.createTextNode(d))},loadCSS:function(c){var a=this,d=a.doc,b;return a!==I.DOM&&d===document?void I.DOM.loadCSS(c):(c||(c=""),b=d.getElementsByTagName("head")[0],void F(c.split(","),function(g){var f;g=t._addCacheSuffix(g),a.files[g]||(a.files[g]=!0,f=a.create("link",{rel:"stylesheet",href:g}),O&&d.documentMode&&d.recalc&&(f.onload=function(){d.recalc&&d.recalc(),f.onload=null}),b.appendChild(f))}))},addClass:function(b,a){this.$$(b).addClass(a)},removeClass:function(b,a){this.toggleClass(b,a,!1)},hasClass:function(b,a){return this.$$(b).hasClass(a)},toggleClass:function(c,a,b){this.$$(c).toggleClass(a,b).each(function(){""===this.className&&E(this).attr("class",null)})},show:function(a){this.$$(a).show()},hide:function(a){this.$$(a).hide()},isHidden:function(a){return"none"==this.$$(a).css("display")},uniqueId:function(a){return(a?a:"mce_")+this.counter++},setHTML:function(b,a){b=this.$$(b),O?b.each(function(f,d){if(d.canHaveHTML!==!1){for(;d.firstChild;){d.removeChild(d.firstChild)}try{d.innerHTML="<br>"+a,d.removeChild(d.firstChild)}catch(c){E("<div></div>").html("<br>"+a).contents().slice(1).appendTo(d)}return a}}):b.html(a)},getOuterHTML:function(a){return a=this.get(a),1==a.nodeType&&"outerHTML" in a?a.outerHTML:E("<div></div>").append(E(a).clone()).html()},setOuterHTML:function(c,a){var b=this;b.$$(c).each(function(){try{if("outerHTML" in this){return void (this.outerHTML=a)}}catch(d){}b.remove(E(this).html(a),!0)})},decode:w.decode,encode:w.encodeAllRaw,insertAfter:function(b,a){return a=this.get(a),this.run(b,function(d){var f,c;return f=a.parentNode,c=a.nextSibling,c?f.insertBefore(d,c):f.appendChild(d),d})},replace:function(c,a,d){var b=this;return b.run(a,function(e){return J(e,"array")&&(c=c.cloneNode(!0)),d&&F(q(e.childNodes),function(f){c.appendChild(f)}),e.parentNode.replaceChild(c,e)})},rename:function(c,a){var d=this,b;return c.nodeName!=a.toUpperCase()&&(b=d.create(a),F(d.getAttribs(c),function(e){d.setAttrib(b,e.nodeName,d.getAttrib(c,e.nodeName))}),d.replace(b,c,1)),b||c},findCommonAncestor:function(c,a){for(var d=c,b;d;){for(b=a;b&&d!=b;){b=b.parentNode}if(d==b){break}d=d.parentNode}return !d&&c.ownerDocument?c.ownerDocument.documentElement:d},toHex:function(a){return this.styles.toHex(t.trim(a))},run:function(d,b,f){var c=this,a;return"string"==typeof d&&(d=c.get(d)),!!d&&(f=f||this,d.nodeType||!d.length&&0!==d.length?b.call(f,d):(a=[],F(d,function(g,h){g&&("string"==typeof g&&(g=c.get(g)),a.push(b.call(f,g,h)))}),a))},getAttribs:function(b){var a;if(b=this.get(b),!b){return[]}if(O){if(a=[],"OBJECT"==b.nodeName){return b.attributes}"OPTION"===b.nodeName&&this.getAttrib(b,"selected")&&a.push({specified:1,nodeName:"selected"});var c=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return b.cloneNode(!1).outerHTML.replace(c,"").replace(/[\w:\-]+/gi,function(d){a.push({specified:1,nodeName:d})}),a}return b.attributes},isEmpty:function(m,y){var f=this,b,h,v,C,g,x,p=0;if(m=m.firstChild){g=new D(m,m.parentNode),y=y||(f.schema?f.schema.getNonEmptyElements():null),C=f.schema?f.schema.getWhiteSpaceElements():{};do{if(v=m.nodeType,1===v){var o=m.getAttribute("data-mce-bogus");if(o){m=g.next("all"===o);continue}if(x=m.nodeName.toLowerCase(),y&&y[x]){if("br"===x){p++,m=g.next();continue}return !1}for(h=f.getAttribs(m),b=h.length;b--;){if(x=h[b].nodeName,"name"===x||"data-mce-bookmark"===x){return !1}}}if(8==v){return !1}if(3===v&&!k.test(m.nodeValue)){return !1}if(3===v&&m.parentNode&&C[m.parentNode.nodeName]&&k.test(m.nodeValue)){return !1}m=g.next()}while(m)}return p<=1},createRng:function(){var a=this.doc;return a.createRange?a.createRange():new P(this)},nodeIndex:B,split:function(h,p,d){function b(v){function l(o){var a=o.previousSibling&&"SPAN"==o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"==o.nextSibling.nodeName;return a&&s}var y,x=v.childNodes,i=v.nodeType;if(1!=i||"bookmark"!=v.getAttribute("data-mce-type")){for(y=x.length-1;y>=0;y--){b(x[y])}if(9!=i){if(3==i&&v.nodeValue.length>0){var r=j(v.nodeValue).length;if(!g.isBlock(v.parentNode)||r>0||0===r&&l(v)){return}}else{if(1==i&&(x=v.childNodes,1==x.length&&x[0]&&1==x[0].nodeType&&"bookmark"==x[0].getAttribute("data-mce-type")&&v.parentNode.insertBefore(x[0],v),x.length||/^(br|hr|input|img)$/i.test(v.nodeName))){return}}g.remove(v)}return v}}var g=this,c=g.createRng(),m,u,f;if(h&&p){return c.setStart(h.parentNode,g.nodeIndex(h)),c.setEnd(p.parentNode,g.nodeIndex(p)),m=c.extractContents(),c=g.createRng(),c.setStart(p.parentNode,g.nodeIndex(p)+1),c.setEnd(h.parentNode,g.nodeIndex(h)+1),u=c.extractContents(),f=h.parentNode,f.insertBefore(b(m),h),d?f.insertBefore(d,h):f.insertBefore(p,h),f.insertBefore(b(u),h),g.remove(h),d||p}},bind:function(d,b,g,c){var a=this;if(t.isArray(d)){for(var f=d.length;f--;){d[f]=a.bind(d[f],b,g,c)}return d}return !a.settings.collect||d!==a.doc&&d!==a.win||a.boundEvents.push([d,b,g,c]),a.events.bind(d,b,g,c||a)},unbind:function(d,b,g){var c=this,a;if(t.isArray(d)){for(a=d.length;a--;){d[a]=c.unbind(d[a],b,g)}return d}if(c.boundEvents&&(d===c.doc||d===c.win)){for(a=c.boundEvents.length;a--;){var f=c.boundEvents[a];d!=f[0]||b&&b!=f[1]||g&&g!=f[2]||this.events.unbind(f[0],f[1],f[2])}}return this.events.unbind(d,b,g)},fire:function(b,a,c){return this.events.fire(b,a,c)},getContentEditable:function(b){var a;return b&&1==b.nodeType?(a=b.getAttribute("data-mce-contenteditable"),a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null):null},getContentEditableParent:function(b){for(var a=this.getRoot(),c=null;b&&b!==a&&(c=this.getContentEditable(b),null===c);b=b.parentNode){}return c},destroy:function(){var a=this;if(a.boundEvents){for(var c=a.boundEvents.length;c--;){var b=a.boundEvents[c];this.events.unbind(b[0],b[1],b[2])}a.boundEvents=null}L.setDocument&&L.setDocument(),a.win=a.doc=a.root=a.events=a.frag=null},isChildOf:function(b,a){for(;b;){if(a===b){return !0}b=b.parentNode}return !1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset},_findSib:function(d,b,f){var c=this,a=b;if(d){for("string"==typeof a&&(a=function(g){return c.is(g,b)}),d=d[f];d;d=d[f]){if(a(d)){return d}}}return null}},I.DOM=new I(document),I.nodeIndex=B,I}),bD(cy,[bx,bK],function(g,d){function j(){function t(B,E,z){function C(){m.remove(D),p&&(p.onreadystatechange=p.onload=p=null),E()}function A(){b(z)?z():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+B)}var m=f,p,D;D=m.uniqueId(),p=document.createElement("script"),p.id=D,p.type="text/javascript",p.src=d._addCacheSuffix(B),"onreadystatechange" in p?p.onreadystatechange=function(){/loaded|complete/.test(p.readyState)&&C()}:p.onload=C,p.onerror=A,(document.getElementsByTagName("head")[0]||document.body).appendChild(p)}var i=0,y=1,o=2,x=3,w={},v=[],r={},a=[],q=0,k;this.isDone=function(l){return w[l]==o},this.markDone=function(l){w[l]=o},this.add=this.load=function(p,m,n,l){var s=w[p];s==k&&(v.push(p),w[p]=i),m&&(r[p]||(r[p]=[]),r[p].push({success:m,failure:l,scope:n||this}))},this.remove=function(l){delete w[l],delete r[l]},this.loadQueue=function(m,l,p){this.loadScripts(v,m,l,p)},this.loadScripts=function(l,z,p,s){function m(A,n){c(r[n],function(B){b(B[A])&&B[A].call(B.scope)}),r[n]=k}var e,u=[];a.push({success:z,failure:s,scope:p||this}),(e=function(){var A=h(l);l.length=0,c(A,function(n){return w[n]===o?void m("success",n):w[n]===x?void m("failure",n):void (w[n]!==y&&(w[n]=y,q++,t(n,function(){w[n]=o,q--,m("success",n),e()},function(){w[n]=x,q--,u.push(n),m("failure",n),e()})))}),q||(c(a,function(n){0===u.length?b(n.success)&&n.success.call(n.scope):b(n.failure)&&n.failure.call(n.scope,u)}),a.length=0)})()}}var f=g.DOM,c=d.each,h=d.grep,b=function(a){return"function"==typeof a};return j.ScriptLoader=new j,j}),bD(cl,[cy,bK],function(c,d){function b(){var f=this;f.items=[],f.urls={},f.lookup={}}var a=d.each;return b.prototype={get:function(f){return this.lookup[f]?this.lookup[f].instance:bB},dependencies:function(g){var f;return this.lookup[g]&&(f=this.lookup[g].dependencies),f||[]},requireLangPack:function(f,g){var e=b.language;if(e&&b.languageLoad!==!1){if(g){if(g=","+g+",",g.indexOf(","+e.substr(0,2)+",")!=-1){e=e.substr(0,2)}else{if(g.indexOf(","+e+",")==-1){return}}}c.ScriptLoader.add(this.urls[f]+"/langs/"+e+".js")}},add:function(g,f,h){return this.items.push(f),this.lookup[g]={instance:f,dependencies:h},f},remove:function(f){delete this.urls[f],delete this.lookup[f]},createUrl:function(g,f){return"object"==typeof f?f:{prefix:g.prefix,resource:f,suffix:g.suffix}},addComponents:function(e,g){var f=this.urls[e];a(g,function(h){c.ScriptLoader.add(f+"/"+h)})},load:function(m,j,f,h,e){function g(){var l=k.dependencies(m);a(l,function(o){var p=k.createUrl(j,o);k.load(p.resource,p,bB,bB)}),f&&(h?f.call(h):f.call(c))}var k=this,i=j;k.urls[m]||("object"==typeof j&&(i=j.prefix+j.resource+j.suffix),0!==i.indexOf("/")&&i.indexOf("://")==-1&&(i=b.baseURL+"/"+i),k.urls[m]=i.substring(0,i.lastIndexOf("/")),k.lookup[m]?g():c.ScriptLoader.add(i,g,h,e))}},b.PluginManager=new b,b.ThemeManager=new b,b}),bD(b1,[],function(){function h(a){return function(e){return !!e&&e.nodeType==a}}function d(a){return a=a.toLowerCase().split(" "),function(e){var l,i;if(e&&e.nodeType){for(i=e.nodeName.toLowerCase(),l=0;l<a.length;l++){if(i===a[l]){return !0}}}return !1}}function k(i,a){return a=a.toLowerCase().split(" "),function(m){var l,e;if(f(m)){for(l=0;l<a.length;l++){if(e=getComputedStyle(m,null).getPropertyValue(i),e===a[l]){return !0}}}return !1}}function g(i,a){return function(e){return f(e)&&e[i]===a}}function c(i,a){return function(e){return f(e)&&e.getAttribute(i)===a}}function j(a){return f(a)&&a.hasAttribute("data-mce-bogus")}function b(a){return function(e){if(f(e)){if(e.contentEditable===a){return !0}if(e.getAttribute("data-mce-contenteditable")===a){return !0}}return !1}}var f=h(1);return{isText:h(3),isElement:f,isComment:h(8),isBr:d("br"),isContentEditableTrue:b("true"),isContentEditableFalse:b("false"),matchNodeNames:d,hasPropValue:g,hasAttributeValue:c,matchStyleValues:k,isBogus:j}}),bD(cd,[],function(){function b(d){return d==c}function a(d){return d.replace(new RegExp(c,"g"),"")}var c="\ufeff";return{isZwsp:b,ZWSP:c,trim:a}}),bD(bM,[b1,cd],function(I,q){function B(a){return b(a)&&(a=a.parentNode),j(a)&&a.hasAttribute("data-mce-caret")}function x(a){return b(a)&&q.isZwsp(a.data)}function E(a){return B(a)||x(a)}function A(c){var a=c.parentNode;a&&a.removeChild(c)}function L(c){try{return c.nodeValue}catch(a){return""}}function w(c,a){0===a.length?A(c):c.nodeValue=a}function D(g,i){var f,h,c,d;if(f=g.ownerDocument,c=f.createTextNode(q.ZWSP),d=g.parentNode,i){if(h=g.previousSibling,b(h)){if(E(h)){return h}if(F(h)){return h.splitText(h.data.length-1)}}d.insertBefore(c,g)}else{if(h=g.nextSibling,b(h)){if(E(h)){return h}if(z(h)){return h.splitText(1),h}}g.nextSibling?d.insertBefore(c,g.nextSibling):d.appendChild(c)}return c}function k(){var a=document.createElement("br");return a.setAttribute("data-mce-bogus","1"),a}function K(f,c,h){var d,a,g;return d=c.ownerDocument,a=d.createElement(f),a.setAttribute("data-mce-caret",h?"before":"after"),a.setAttribute("data-mce-bogus","all"),a.appendChild(k()),g=c.parentNode,h?g.insertBefore(a,c):c.nextSibling?g.insertBefore(a,c.nextSibling):g.appendChild(a),a}function J(a){return a.firstChild!==a.lastChild||!I.isBr(a.firstChild)}function H(a){if(j(a)&&E(a)&&(J(a)?a.removeAttribute("data-mce-caret"):A(a)),b(a)){var c=q.trim(L(a));w(a,c)}}function z(a){return b(a)&&a.data[0]==q.ZWSP}function F(a){return b(a)&&a.data[a.data.length-1]==q.ZWSP}function C(a){var d=a.getElementsByTagName("br"),c=d[d.length-1];I.isBogus(c)&&c.parentNode.removeChild(c)}function G(a){return a&&a.hasAttribute("data-mce-caret")?(C(a),a.removeAttribute("data-mce-caret"),a.removeAttribute("data-mce-bogus"),a.removeAttribute("style"),a.removeAttribute("_moz_abspos"),a):null}var j=I.isElement,b=I.isText;return{isCaretContainer:E,isCaretContainerBlock:B,isCaretContainerInline:x,showCaretContainerBlock:G,insertInline:D,insertBlock:K,hasContent:J,remove:H,startsWithCaretContainer:z,endsWithCaretContainer:F}}),bD(cb,[bK,bu,b1,bY,bM],function(G,k,z,w,C){function y(a){return A(a)||E(a)}function J(c,a){var d=c.childNodes;return a--,a>d.length-1?a=d.length-1:a<0&&(a=0),d[a]||c}function q(c,a,d){for(;c&&c!==a;){if(d(c)){return c}c=c.parentNode}return null}function B(c,a,d){return null!==q(c,a,d)}function j(a){return"_mce_caret"===a.id}function I(c,a){return b(c)&&B(c,a,j)===!1}function H(a){this.walk=function(X,L){function e(d){var c;return c=d[0],3===c.nodeType&&c===N&&W>=c.nodeValue.length&&d.splice(0,1),c=d[d.length-1],0===R&&d.length>0&&c===S&&3===c.nodeType&&d.splice(d.length-1,1),d}function O(f,c,g){for(var d=[];f&&f!=g;f=f[c]){d.push(f)}return d}function K(d,c){do{if(d.parentNode==c){return d}d=d.parentNode}while(d)}function Y(f,d,g){var c=g?"nextSibling":"previousSibling";for(P=f,V=P.parentNode;P&&P!=d;P=V){V=P.parentNode,U=O(P==f?P:P[c],c),U.length&&(g||U.reverse(),L(e(U)))}}var N=X.startContainer,W=X.startOffset,S=X.endContainer,R=X.endOffset,Q,h,M,P,V,U,T;if(T=a.select("td[data-mce-selected],th[data-mce-selected]"),T.length>0){return void D(T,function(c){L([c])})}if(1==N.nodeType&&N.hasChildNodes()&&(N=N.childNodes[W]),1==S.nodeType&&S.hasChildNodes()&&(S=J(S,R)),N==S){return L(e([N]))}for(Q=a.findCommonAncestor(N,S),P=N;P;P=P.parentNode){if(P===S){return Y(N,Q,!0)}if(P===Q){break}}for(P=S;P;P=P.parentNode){if(P===N){return Y(S,Q)}if(P===Q){break}}h=K(N,Q)||N,M=K(S,Q)||S,Y(N,h,!0),U=O(h==N?h:h.nextSibling,"nextSibling",M==S?M.nextSibling:M),U.length&&L(e(U)),Y(S,M)},this.split=function(g){function d(m,i){return m.splitText(i)}var l=g.startContainer,f=g.startOffset,c=g.endContainer,h=g.endOffset;return l==c&&3==l.nodeType?f>0&&f<l.nodeValue.length&&(c=d(l,f),l=c.previousSibling,h>f?(h-=f,l=c=d(c,h).previousSibling,h=c.nodeValue.length,f=0):h=0):(3==l.nodeType&&f>0&&f<l.nodeValue.length&&(l=d(l,f),f=0),3==c.nodeType&&h>0&&h<c.nodeValue.length&&(c=d(c,h).previousSibling,h=c.nodeValue.length)),{startContainer:l,startOffset:f,endContainer:c,endOffset:h}},this.normalize=function(f){function d(g){function P(h){return h&&/^(TD|TH|CAPTION)$/.test(h.nodeName)}function R(m,l){for(var h=new k(m,a.getParent(m.parentNode,a.isBlock)||o);m=h[l?"prev":"next"]();){if("BR"===m.nodeName){return !0}}}function t(h){for(;h&&h!=o;){if(E(h)){return !0}h=h.parentNode}return !1}function Q(l,h){return l.previousSibling&&l.previousSibling.nodeName==h}function L(S,u){var m,p,h;if(u=u||K,h=a.getParent(u.parentNode,a.isBlock)||o,S&&"BR"==u.nodeName&&O&&a.isEmpty(h)){return K=u.parentNode,n=a.nodeIndex(u),void (c=!0)}for(m=new k(u,h);N=m[S?"prev":"next"]();){if("false"===a.getContentEditableParent(N)||I(N,a.getRoot())){return}if(3===N.nodeType&&N.nodeValue.length>0){return K=N,n=S?N.nodeValue.length:0,void (c=!0)}if(a.isBlock(N)||M[N.nodeName.toLowerCase()]){return}p=N}e&&p&&(K=p,c=!0,n=0)}var K,n,v,o=a.getRoot(),N,M,i,O;if(K=f[(g?"start":"end")+"Container"],n=f[(g?"start":"end")+"Offset"],O=1==K.nodeType&&n===K.childNodes.length,M=a.schema.getNonEmptyElements(),i=g,!b(K)){if(1==K.nodeType&&n>K.childNodes.length-1&&(i=!1),9===K.nodeType&&(K=a.getRoot(),n=0),K===o){if(i&&(N=K.childNodes[n>0?n-1:0])){if(b(N)){return}if(M[N.nodeName]||"TABLE"==N.nodeName){return}}if(K.hasChildNodes()){if(n=Math.min(!i&&n>0?n-1:n,K.childNodes.length-1),K=K.childNodes[n],n=0,!e&&K===o.lastChild&&"TABLE"===K.nodeName){return}if(t(K)||b(K)){return}if(K.hasChildNodes()&&!/TABLE/.test(K.nodeName)){N=K,v=new k(K,o);do{if(E(N)||b(N)){c=!1;break}if(3===N.nodeType&&N.nodeValue.length>0){n=i?0:N.nodeValue.length,K=N,c=!0;break}if(M[N.nodeName.toLowerCase()]&&!P(N)){n=a.nodeIndex(N),K=N.parentNode,"IMG"!=N.nodeName||i||n++,c=!0;break}}while(N=i?v.next():v.prev())}}}e&&(3===K.nodeType&&0===n&&L(!0),1===K.nodeType&&(N=K.childNodes[n],N||(N=K.childNodes[n-1]),!N||"BR"!==N.nodeName||Q(N,"A")||R(N)||R(N,!0)||L(!0,N))),i&&!e&&3===K.nodeType&&n===K.nodeValue.length&&L(!1),c&&f["set"+(g?"Start":"End")](K,n)}}var c,e;return e=f.collapsed,d(!0),e||d(),c&&e&&f.collapse(!0),c}}function F(e,l,g){var d,h,c;if(d=g.elementFromPoint(e,l),h=g.body.createTextRange(),d&&"HTML"!=d.tagName||(d=g.body),h.moveToElementText(d),c=G.toArray(h.getClientRects()),c=c.sort(function(i,a){return i=Math.abs(Math.max(i.top-l,i.bottom-l)),a=Math.abs(Math.max(a.top-l,a.bottom-l)),i-a}),c.length>0){l=(c[0].bottom+c[0].top)/2;try{return h.moveToPoint(e,l),h.collapse(!0),h}catch(f){}}return null}function x(c,a){var d=c&&c.parentElement?c.parentElement():null;return E(q(d,a,y))?null:c}var D=G.each,A=z.isContentEditableTrue,E=z.isContentEditableFalse,b=C.isCaretContainer;return H.compareRanges=function(c,a){if(c&&a){if(!c.item&&!c.duplicate){return c.startContainer==a.startContainer&&c.startOffset==a.startOffset}if(c.item&&a.item&&c.item(0)===a.item(0)){return !0}if(c.isEqual&&a.isEqual&&a.isEqual(c)){return !0}}return !1},H.getCaretRangeFromPoint=function(f,c,h){var d,a;if(h.caretPositionFromPoint){a=h.caretPositionFromPoint(f,c),d=h.createRange(),d.setStart(a.offsetNode,a.offset),d.collapse(!0)}else{if(h.caretRangeFromPoint){d=h.caretRangeFromPoint(f,c)}else{if(h.body.createTextRange){d=h.body.createTextRange();try{d.moveToPoint(f,c),d.collapse(!0)}catch(g){d=F(f,c,h)}return x(d,h.body)}}}return d},H.getSelectedNode=function(c){var a=c.startContainer,d=c.startOffset;return a.hasChildNodes()&&c.endOffset==d+1?a.childNodes[d]:null},H.getNode=function(c,a){return 1==c.nodeType&&c.hasChildNodes()&&(a>=c.childNodes.length&&(a=c.childNodes.length-1),c=c.childNodes[a]),c},H}),bD(cf,[cb,bW,bX],function(b,a,c){return function(f){function e(i){var h,j;if(j=f.$(i).parentsUntil(f.getBody()).add(i),j.length===d.length){for(h=j.length;h>=0&&j[h]===d[h];h--){}if(h===-1){return d=j,!0}}return d=j,!1}var g,d=[];"onselectionchange" in f.getDoc()||f.on("NodeChange Click MouseUp KeyUp Focus",function(j){var k,h;k=f.selection.getRng(),h={startContainer:k.startContainer,startOffset:k.startOffset,endContainer:k.endContainer,endOffset:k.endOffset},"nodechange"!=j.type&&b.compareRanges(h,g)||f.fire("SelectionChange"),g=h}),f.on("contextmenu",function(){f.fire("SelectionChange")}),f.on("SelectionChange",function(){var h=f.selection.getStart(!0);!a.range&&f.selection.isCollapsed()||!e(h)&&f.dom.isChildOf(h,f.getBody())&&f.nodeChanged({selectionChange:!0})}),f.on("MouseUp",function(h){h.isDefaultPrevented()||("IMG"==f.selection.getNode().nodeName?c.setEditorTimeout(f,function(){f.nodeChanged()}):f.nodeChanged())}),this.nodeChanged=function(k){var j=f.selection,m,h,l;f.initialized&&j&&!f.settings.disable_nodechange&&!f.readonly&&(l=f.getBody(),m=j.getStart()||l,m.ownerDocument==f.getDoc()&&f.dom.isChildOf(m,l)||(m=l),"IMG"==m.nodeName&&j.isCollapsed()&&(m=m.parentNode),h=[],f.dom.getParent(m,function(i){return i===l||void h.push(i)}),k=k||{},k.element=m,k.parents=h,f.fire("NodeChange",k))}}}),bD(cF,[],function(){function c(k,h,m){var j,g,l=m?"lastChild":"firstChild",f=m?"prev":"next";if(k[l]){return k[l]}if(k!==h){if(j=k[f]){return j}for(g=k.parent;g&&g!==h;g=g.parent){if(j=g[f]){return j}}}}function a(g,f){this.name=g,this.type=f,1===f&&(this.attributes=[],this.attributes.map={})}var d=/^[ \t\r\n]*$/,b={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return a.prototype={replace:function(g){var f=this;return g.parent&&g.remove(),f.insert(g,f),f.remove(),f},attr:function(j,g){var l=this,h,f,k;if("string"!=typeof j){for(f in j){l.attr(f,j[f])}return l}if(h=l.attributes){if(g!==k){if(null===g){if(j in h.map){for(delete h.map[j],f=h.length;f--;){if(h[f].name===j){return h=h.splice(f,1),l}}}return l}if(j in h.map){for(f=h.length;f--;){if(h[f].name===j){h[f].value=g;break}}}else{h.push({name:j,value:g})}return h.map[j]=g,l}return h.map[j]}},clone:function(){var k=this,m=new a(k.name,k.type),j,g,l,f,h;if(l=k.attributes){for(h=[],h.map={},j=0,g=l.length;j<g;j++){f=l[j],"id"!==f.name&&(h[h.length]={name:f.name,value:f.value},h.map[f.name]=f.value)}m.attributes=h}return m.value=k.value,m.shortEnded=k.shortEnded,m},wrap:function(g){var f=this;return f.parent.insert(g,f),g.append(f),f},unwrap:function(){var g=this,f,h;for(f=g.firstChild;f;){h=f.next,g.insert(f,g,!0),f=h}g.remove()},remove:function(){var h=this,f=h.parent,i=h.next,g=h.prev;return f&&(f.firstChild===h?(f.firstChild=i,i&&(i.prev=null)):g.next=i,f.lastChild===h?(f.lastChild=g,g&&(g.next=null)):i.prev=g,h.parent=h.next=h.prev=null),h},append:function(g){var f=this,h;return g.parent&&g.remove(),h=f.lastChild,h?(h.next=g,g.prev=h,f.lastChild=g):f.lastChild=f.firstChild=g,g.parent=f,g},insert:function(h,f,i){var g;return h.parent&&h.remove(),g=f.parent||this,i?(f===g.firstChild?g.firstChild=h:f.prev.next=h,h.prev=f.prev,h.next=f,f.prev=h):(f===g.lastChild?g.lastChild=h:f.next.prev=h,h.next=f.next,h.prev=f,f.next=h),h.parent=g,h},getAll:function(f){var h=this,g,e=[];for(g=h.firstChild;g;g=c(g,h)){g.name===f&&e.push(g)}return e},empty:function(){var f=this,h,g,e;if(f.firstChild){for(h=[],e=f.firstChild;e;e=c(e,f)){h.push(e)}for(g=h.length;g--;){e=h[g],e.parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return f.firstChild=f.lastChild=null,f},isEmpty:function(g,j){var f=this,k=f.firstChild,e,h;if(j=j||{},k){do{if(1===k.type){if(k.attributes.map["data-mce-bogus"]){continue}if(g[k.name]){return !1}for(e=k.attributes.length;e--;){if(h=k.attributes[e].name,"name"===h||0===h.indexOf("data-mce-bookmark")){return !1}}}if(8===k.type){return !1}if(3===k.type&&!d.test(k.value)){return !1}if(3===k.type&&k.parent&&j[k.parent.name]&&d.test(k.value)){return !1}}while(k=c(k,f))}return !0},walk:function(e){return c(this,null,e)}},a.create=function(g,j){var f,h;if(f=new a(g,b[g]||1),j){for(h in j){f.attr(h,j[h])}}return f},a}),bD(cD,[bK],function(j){function q(a,c){return a=j.trim(a),a?a.split(c||" "):[]}function f(x){function s(E,G,D){function l(I,u){var J={},H,c;for(H=0,c=I.length;H<c;H++){J[I[H]]=u||{}}return J}var C,a,F;for(D=D||[],G=G||"","string"==typeof D&&(D=q(D)),E=q(E),C=E.length;C--;){a=q([t,G].join(" ")),F={attributes:l(a),attributesOrder:a,children:l(D,d)},A[E[C]]=F}}function i(u,D){var l,a,C,c;for(u=q(u),l=u.length,D=q(D);l--;){for(a=A[u[l]],C=0,c=D.length;C<c;C++){a.attributes[D[C]]={},a.attributesOrder.push(D[C])}}}var A={},t,B,z,y,w,o;return h[x]?h[x]:(t="id accesskey class dir lang style tabindex title",B="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",z="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=x&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",B+=" article aside details dialog figure header footer hgroup section nav",z+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=x&&(t+=" xml:lang",o="acronym applet basefont big font strike tt",z=[z,o].join(" "),v(q(o),function(a){s(a,"",z)}),w="center dir isindex noframes",B=[B,w].join(" "),y=[B,z].join(" "),v(q(w),function(a){s(a,"",y)})),y=y||[B,z].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",y),s("address dt dd div caption","",y),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",z),s("blockquote","cite",y),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",y),s("dl","","dt dd"),s("a","href target rel media hreflang type",z),s("q","cite",z),s("ins del","cite datetime",y),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",y),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[y,"param"].join(" ")),s("param","name value"),s("map","name",[y,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"==x?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",y),s("th","colspan rowspan headers scope abbr",y),s("form","accept-charset action autocomplete enctype method name novalidate target",y),s("fieldset","disabled form name",[y,"legend"].join(" ")),s("label","form for",z),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==x?y:z),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[y,"li"].join(" ")),s("noscript","",y),"html4"!=x&&(s("wbr"),s("ruby","",[z,"rt rp"].join(" ")),s("figcaption","",y),s("mark rt rp summary bdi","",z),s("canvas","width height",y),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[y,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[y,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[z,"option"].join(" ")),s("article section nav aside header footer","",y),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[y,"figcaption"].join(" ")),s("time","datetime",z),s("dialog","open",y),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",z),s("progress","value max",z),s("meter","value min max low high optimum",z),s("details","open",[y,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=x&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=x&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),v(q("a form meter progress dfn"),function(a){A[a]&&delete A[a].children[a]}),delete A.caption.children.table,delete A.script,h[x]=A,A)}function b(c,a){var i;return c&&(i={},"string"==typeof c&&(c={"*":c}),v(c,function(n,l){i[l]=i[l.toUpperCase()]="map"==a?m(n,/[, ]/):p(n,/[, ]/)})),i}var h={},d={},m=j.makeMap,v=j.each,g=j.extend,p=j.explode,k=j.inArray;return function(Z){function Q(e,y,w){var x=Z[e];return x?x=m(x,/[, ]/,m(x.toUpperCase(),/[, ]/)):(x=h[e],x||(x=m(y," ",m(y.toUpperCase()," ")),x=g(x,w),h[e]=x)),x}function ae(o){return new RegExp("^"+o.replace(/([?+*])/g,".$1")+"$")}function Y(c8){var ct,be,c4,ce,R,c2,M,c7,bt,c5,c1,c6,L,c9,C,D,P,B,da,A=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,c3=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,y=/[*?+]/;if(c8){for(c8=q(c8,","),t["@"]&&(D=t["@"].attributes,P=t["@"].attributesOrder),ct=0,be=c8.length;ct<be;ct++){if(R=A.exec(c8[ct])){if(c9=R[1],bt=R[2],C=R[3],c7=R[5],c6={},L=[],c2={attributes:c6,attributesOrder:L},"#"===c9&&(c2.paddEmpty=!0),"-"===c9&&(c2.removeEmpty=!0),"!"===R[4]&&(c2.removeEmptyAttrs=!0),D){for(B in D){c6[B]=D[B]}L.push.apply(L,P)}if(c7){for(c7=q(c7,"|"),c4=0,ce=c7.length;c4<ce;c4++){if(R=c3.exec(c7[c4])){if(M={},c1=R[1],c5=R[2].replace(/::/g,":"),c9=R[3],da=R[4],"!"===c1&&(c2.attributesRequired=c2.attributesRequired||[],c2.attributesRequired.push(c5),M.required=!0),"-"===c1){delete c6[c5],L.splice(k(L,c5),1);continue}c9&&("="===c9&&(c2.attributesDefault=c2.attributesDefault||[],c2.attributesDefault.push({name:c5,value:da}),M.defaultValue=da),":"===c9&&(c2.attributesForced=c2.attributesForced||[],c2.attributesForced.push({name:c5,value:da}),M.forcedValue=da),"<"===c9&&(M.validValues=m(da,"?"))),y.test(c5)?(c2.attributePatterns=c2.attributePatterns||[],M.pattern=ae(c5),c2.attributePatterns.push(M)):(c6[c5]||L.push(c5),c6[c5]=M)}}}D||"@"!=bt||(D=c6,P=L),C&&(c2.outputName=bt,t[C]=c2),y.test(bt)?(c2.pattern=ae(bt),I.push(c2)):t[bt]=c2}}}}function O(o){t={},I=[],Y(o),v(G,function(x,w){an[w]=x.children})}function W(o){var w=/^(~)?(.+)$/;o&&(h.text_block_elements=h.block_elements=null,v(q(o,","),function(C){var A=w.exec(C),B="~"===A[1],y=B?"span":"div",D=A[2];if(an[D]=an[y],r[D]=y,B||(i[D.toUpperCase()]={},i[D]={}),!t[D]){var x=t[y];x=g({},x),delete x.removeEmptyAttrs,delete x.removeEmpty,t[D]=x}v(an,function(L,E){L[y]&&(an[E]=L=g({},an[E]),L[D]=L[y])})}))}function U(o){var e=/^([+\-]?)(\w+)\[([^\]]+)\]$/;h[Z.schema]=null,o&&v(q(o,","),function(x){var A=e.exec(x),w,y;A&&(y=A[1],w=y?an[A[2]]:an[A[2]]={"#comment":{}},w=an[A[2]],v(q(A[3],"|"),function(B){"-"===y?delete w[B]:w[B]={}}))})}function X(w){var o=t[w],x;if(o){return o}for(x=I.length;x--;){if(o=I[x],o.pattern.test(w)){return o}}}var F=this,t={},an={},I=[],u,z,G,n,at,c,V,a,i,K,J,H,s,r={},l={};Z=Z||{},G=f(Z.schema),Z.verify_html===!1&&(Z.valid_elements="*[*]"),u=b(Z.valid_styles),z=b(Z.invalid_styles,"map"),a=b(Z.valid_classes,"map"),n=Q("whitespace_elements","pre script noscript style textarea video audio iframe object code"),at=Q("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),c=Q("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),V=Q("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),K=Q("non_empty_elements","td th iframe video audio object script pre code",c),J=Q("move_caret_before_on_enter_elements","table",K),H=Q("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),i=Q("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",H),s=Q("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),v((Z.special||"script noscript style textarea").split(" "),function(o){l[o]=new RegExp("</"+o+"[^>]*>","gi")}),Z.valid_elements?O(Z.valid_elements):(v(G,function(w,o){t[o]={attributes:w.attributes,attributesOrder:w.attributesOrder},an[o]=w.children}),"html5"!=Z.schema&&v(q("strong/b em/i"),function(o){o=q(o,"/"),t[o[1]].outputName=o[0]}),v(q("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(o){t[o]&&(t[o].removeEmpty=!0)}),v(q("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(o){t[o].paddEmpty=!0}),v(q("span"),function(o){t[o].removeEmptyAttrs=!0})),W(Z.custom_elements),U(Z.valid_children),Y(Z.extended_valid_elements),U("+ol[ul|ol],+ul[ul|ol]"),v({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(o,w){t[w]&&(t[w].parentsRequired=q(o))}),Z.invalid_elements&&v(p(Z.invalid_elements),function(o){t[o]&&delete t[o]}),X("span")||Y("span[!data-mce-type|*]"),F.children=an,F.getValidStyles=function(){return u},F.getInvalidStyles=function(){return z},F.getValidClasses=function(){return a},F.getBoolAttrs=function(){return V},F.getBlockElements=function(){return i},F.getTextBlockElements=function(){return H},F.getTextInlineElements=function(){return s},F.getShortEndedElements=function(){return c},F.getSelfClosingElements=function(){return at},F.getNonEmptyElements=function(){return K},F.getMoveCaretBeforeOnEnterElements=function(){return J},F.getWhiteSpaceElements=function(){return n},F.getSpecialElements=function(){return l},F.isValidChild=function(w,o){var x=an[w];return !(!x||!x[o])},F.isValid=function(y,w){var A,x,o=X(y);if(o){if(!w){return !0}if(o.attributes[w]){return !0}if(A=o.attributePatterns){for(x=A.length;x--;){if(A[x].pattern.test(y)){return !0}}}}return !1},F.getElementRule=X,F.getCustomElements=function(){return r},F.addValidElements=Y,F.setValidElements=O,F.addCustomElements=W,F.addValidChildren=U,F.elements=t}}),bD(cA,[cD,cC,bK],function(d,b,g){function c(p,k,u){var m=1,j,q,h,l;for(l=p.getShortEndedElements(),h=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,h.lastIndex=j=u;q=h.exec(k);){if(j=h.lastIndex,"/"===q[1]){m--}else{if(!q[1]){if(q[2] in l){continue}m++}}if(0===m){break}}return j}function a(j,h){function k(){}var e=this;j=j||{},e.schema=h=h||new d,j.fix_self_closing!==!1&&(j.fix_self_closing=!0),f("comment cdata text start end pi doctype".split(" "),function(i){i&&(e[i]=j[i]||k)}),e.parse=function(dh){function da(m){var l,o;for(l=c9.length;l--&&c9[l].name!==m;){}if(l>=0){for(o=c9.length-1;o>=l;o--){m=c9[o],m.valid&&dc.end(m.name)}c9.length=l}}function c8(x,B,v,m,p){var z,C,w=/[\s\u0000-\u001F]+/g;if(B=B.toLowerCase(),v=B in c4?B:c2(v||m||p||""),at&&!c3&&0!==B.indexOf("data-")){if(z=r[B],!z&&G){for(C=G.length;C--&&(z=G[C],!z.pattern.test(B));){}C===-1&&(z=null)}if(!z){return}if(z.validValues&&!(v in z.validValues)){return}}if(i[B]&&!j.allow_script_urls){var A=v.replace(w,"");try{A=decodeURIComponent(A)}catch(y){A=unescape(A)}if(n.test(A)){return}if(!j.allow_html_data_urls&&c1.test(A)&&!/^data:image\//i.test(A)){return}}de.map[B]=v,de.push({name:B,value:v})}var dc=this,c7,dj=0,di,dg,c9=[],de,db,df,c6,c3,dk,bt,c4,c5,at,Q,dl,t,dd,r,G,ct,ce,be,Y,X,J,K,ae,Z,an=0,c2=b.decode,q,i=g.makeMap("src,href,data,background,formaction,poster"),n=/((java|vb)script|mhtml):/i,c1=/^data:/i;for(J=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),K=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,bt=h.getShortEndedElements(),X=j.self_closing_elements||h.getSelfClosingElements(),c4=h.getBoolAttrs(),at=j.validate,dk=j.remove_internals,q=j.fix_self_closing,ae=h.getSpecialElements();c7=J.exec(dh);){if(dj<c7.index&&dc.text(c2(dh.substr(dj,c7.index-dj))),di=c7[6]){di=di.toLowerCase(),":"===di.charAt(0)&&(di=di.substr(1)),da(di)}else{if(di=c7[7]){if(di=di.toLowerCase(),":"===di.charAt(0)&&(di=di.substr(1)),c5=di in bt,q&&X[di]&&c9.length>0&&c9[c9.length-1].name===di&&da(di),!at||(Q=h.getElementRule(di))){if(dl=!0,at&&(r=Q.attributes,G=Q.attributePatterns),(dd=c7[8])?(c3=dd.indexOf("data-mce-type")!==-1,c3&&dk&&(dl=!1),de=[],de.map={},dd.replace(K,c8)):(de=[],de.map={}),at&&!c3){if(ct=Q.attributesRequired,ce=Q.attributesDefault,be=Q.attributesForced,Y=Q.removeEmptyAttrs,Y&&!de.length&&(dl=!1),be){for(db=be.length;db--;){t=be[db],c6=t.name,Z=t.value,"{$uid}"===Z&&(Z="mce_"+an++),de.map[c6]=Z,de.push({name:c6,value:Z})}}if(ce){for(db=ce.length;db--;){t=ce[db],c6=t.name,c6 in de.map||(Z=t.value,"{$uid}"===Z&&(Z="mce_"+an++),de.map[c6]=Z,de.push({name:c6,value:Z}))}}if(ct){for(db=ct.length;db--&&!(ct[db] in de.map);){}db===-1&&(dl=!1)}if(t=de.map["data-mce-bogus"]){if("all"===t){dj=c(h,dh,J.lastIndex),J.lastIndex=dj;continue}dl=!1}}dl&&dc.start(di,de,c5)}else{dl=!1}if(dg=ae[di]){dg.lastIndex=dj=c7.index+c7[0].length,(c7=dg.exec(dh))?(dl&&(df=dh.substr(dj,c7.index-dj)),dj=c7.index+c7[0].length):(df=dh.substr(dj),dj=dh.length),dl&&(df.length>0&&dc.text(df,!0),dc.end(di)),J.lastIndex=dj;continue}c5||(dd&&dd.indexOf("/")==dd.length-1?dl&&dc.end(di):c9.push({name:di,valid:dl}))}else{(di=c7[1])?(">"===di.charAt(0)&&(di=" "+di),j.allow_conditional_comments||"[if"!==di.substr(0,3).toLowerCase()||(di=" "+di),dc.comment(di)):(di=c7[2])?dc.cdata(di):(di=c7[3])?dc.doctype(di):(di=c7[4])&&dc.pi(di,c7[5])}}dj=c7.index+c7[0].length}for(dj<dh.length&&dc.text(c2(dh.substr(dj))),db=c9.length-1;db>=0;db--){di=c9[db],di.valid&&dc.end(di.name)}}}var f=g.each;return a.findEndTag=c,a}),bD(cn,[cF,cD,cA,bK],function(h,m,d,b){var g=b.makeMap,c=b.each,j=b.explode,p=b.extend,f=function(a,e){a.padd_empty_with_br?e.empty().append(new h("br","1")).shortEnded=!0:e.empty().append(new h("#text","3")).value="\xa0"},k=function(i,a){return i&&i.firstChild===i.lastChild&&i.firstChild.name===a};return function(r,q){function n(N){var A,u,z,L,O,D,H,G,E,B,F,M,J,I,w,K;for(M=g("tr,td,th,tbody,thead,tfoot,table"),B=q.getNonEmptyElements(),F=q.getWhiteSpaceElements(),J=q.getTextBlockElements(),I=q.getSpecialElements(),A=0;A<N.length;A++){if(u=N[A],u.parent&&!u.fixed){if(J[u.name]&&"li"==u.parent.name){for(w=u.next;w&&J[w.name];){w.name="li",w.fixed=!0,u.parent.insert(w,u.parent),w=w.next}u.unwrap(u)}else{for(L=[u],z=u.parent;z&&!q.isValidChild(z.name,u.name)&&!M[z.name];z=z.parent){L.push(z)}if(z&&L.length>1){for(L.reverse(),O=D=o.filterNode(L[0].clone()),E=0;E<L.length-1;E++){for(q.isValidChild(D.name,L[E].name)?(H=o.filterNode(L[E].clone()),D.append(H)):H=D,G=L[E].firstChild;G&&G!=L[E+1];){K=G.next,H.append(G),G=K}D=H}O.isEmpty(B,F)?z.insert(u,L[0],!0):(z.insert(O,L[0],!0),z.insert(u,O)),z=L[0],(z.isEmpty(B,F)||k(z,"br"))&&z.empty().remove()}else{if(u.parent){if("li"===u.name){if(w=u.prev,w&&("ul"===w.name||"ul"===w.name)){w.append(u);continue}if(w=u.next,w&&("ul"===w.name||"ul"===w.name)){w.insert(u,w.firstChild,!0);continue}u.wrap(o.filterNode(new h("ul",1)));continue}q.isValidChild(u.parent.name,"div")&&q.isValidChild("div",u.name)?u.wrap(o.filterNode(new h("div",1))):I[u.name]?u.empty().remove():u.unwrap()}}}}}}var o=this,i={},a=[],l={},e={};r=r||{},r.validate=!("validate" in r)||r.validate,r.root_name=r.root_name||"body",o.schema=q=q||new m,o.filterNode=function(v){var s,w,u;w in i&&(u=l[w],u?u.push(v):l[w]=[v]),s=a.length;for(;s--;){w=a[s].name,w in v.attributes.map&&(u=e[w],u?u.push(v):e[w]=[v])}return v},o.addNodeFilter=function(u,s){c(j(u),function(t){var v=i[t];v||(i[t]=v=[]),v.push(s)})},o.addAttributeFilter=function(u,s){c(j(u),function(t){var v;for(v=0;v<a.length;v++){if(a[v].name===t){return void a[v].callbacks.push(s)}}a.push({name:t,callbacks:[s]})})},o.parse=function(be,ct){function c4(){function x(t){t&&(u=t.firstChild,u&&3==u.type&&(u.value=u.value.replace(c2,"")),u=t.lastChild,u&&3==u.type&&(u.value=u.value.replace(U,"")))}var u=c6.firstChild,y,w;if(q.isValidChild(c6.name,ae.toLowerCase())){for(;u;){y=u.next,3==u.type||1==u.type&&"p"!==u.name&&!z[u.name]&&!u.attr("data-mce-type")?w?w.append(u):(w=c7(ae,1),w.attr(r.forced_root_block_attrs),c6.insert(w,u),w.append(u)):(x(w),w=null),u=y}x(w)}}function c7(w,y){var x=new h(w,y),u;return w in i&&(u=l[w],u?u.push(x):l[w]=[x]),x}function an(y){var w,B,x,u,A=q.getBlockElements();for(w=y.prev;w&&3===w.type;){if(x=w.value.replace(U,""),x.length>0){return void (w.value=x)}if(B=w.next){if(3==B.type&&B.value.length){w=w.prev;continue}if(!A[B.name]&&"script"!=B.name&&"style"!=B.name){w=w.prev;continue}}u=w.prev,w.remove(),w=u}}function c3(w){var u,x={};for(u in w){"li"!==u&&"p"!=u&&(x[u]=w[u])}return x}var V,c6,ce,X,Z,at,K,c8,v,c5,s,z,c2,c1=[],bt,U,Q,G,J,Y,W,ae;if(ct=ct||{},l={},e={},z=p(g("script,style,head,html,body,title,meta,param"),q.getBlockElements()),W=q.getNonEmptyElements(),Y=q.children,s=r.validate,ae="forced_root_block" in ct?ct.forced_root_block:r.forced_root_block,J=q.getWhiteSpaceElements(),c2=/^[ \t\r\n]+/,U=/[ \t\r\n]+$/,Q=/[ \t\r\n]+/g,G=/^[ \t\r\n]+$/,V=new d({validate:s,allow_script_urls:r.allow_script_urls,allow_conditional_comments:r.allow_conditional_comments,self_closing_elements:c3(q.getSelfClosingElements()),cdata:function(t){ce.append(c7("#cdata",4)).value=t},text:function(w,u){var x;bt||(w=w.replace(Q," "),ce.lastChild&&z[ce.lastChild.name]&&(w=w.replace(c2,""))),0!==w.length&&(x=c7("#text",3),x.raw=!!u,ce.append(x).value=w)},comment:function(t){ce.append(c7("#comment",8)).value=t},pi:function(w,u){ce.append(c7(w,7)).value=u,an(ce)},doctype:function(w){var u;u=ce.append(c7("#doctype",10)),u.value=w,an(ce)},start:function(B,x,D){var A,w,C,y,u;if(C=s?q.getElementRule(B):{}){for(A=c7(C.outputName||B,1),A.attributes=x,A.shortEnded=D,ce.append(A),u=Y[ce.name],u&&Y[A.name]&&!u[A.name]&&c1.push(A),w=a.length;w--;){y=a[w].name,y in x.map&&(v=e[y],v?v.push(A):e[y]=[A])}z[B]&&an(A),D||(ce=A),!bt&&J[B]&&(bt=!0)}},end:function(y){var w,B,x,u,A;if(B=s?q.getElementRule(y):{}){if(z[y]&&!bt){if(w=ce.firstChild,w&&3===w.type){if(x=w.value.replace(c2,""),x.length>0){w.value=x,w=w.next}else{for(u=w.next,w.remove(),w=u;w&&3===w.type;){x=w.value,u=w.next,(0===x.length||G.test(x))&&(w.remove(),w=u),w=u}}}if(w=ce.lastChild,w&&3===w.type){if(x=w.value.replace(U,""),x.length>0){w.value=x,w=w.prev}else{for(u=w.prev,w.remove(),w=u;w&&3===w.type;){x=w.value,u=w.prev,(0===x.length||G.test(x))&&(w.remove(),w=u),w=u}}}}if(bt&&J[y]&&(bt=!1),(B.removeEmpty||B.paddEmpty)&&ce.isEmpty(W,J)){if(B.paddEmpty){f(r,ce)}else{if(!ce.attributes.map.name&&!ce.attributes.map.id){return A=ce.parent,z[ce.name]?ce.empty().remove():ce.unwrap(),void (ce=A)}}}ce=ce.parent}}},q),c6=ce=new h(ct.context||r.root_name,11),V.parse(be),s&&c1.length&&(ct.context?ct.invalid=!0:n(c1)),ae&&("body"==c6.name||ct.isRootContent)&&c4(),!ct.invalid){for(c5 in l){for(v=i[c5],X=l[c5],K=X.length;K--;){X[K].parent||X.splice(K,1)}for(Z=0,at=v.length;Z<at;Z++){v[Z](X,c5,ct)}}for(Z=0,at=a.length;Z<at;Z++){if(v=a[Z],v.name in e){for(X=e[v.name],K=X.length;K--;){X[K].parent||X.splice(K,1)}for(K=0,c8=v.callbacks.length;K<c8;K++){v.callbacks[K](X,v.name,ct)}}}}return c6},r.remove_trailing_brs&&o.addNodeFilter("br",function(H){var y,s=H.length,A,x=p({},q.getBlockElements()),E=q.getNonEmptyElements(),G,D,w,B,z=q.getNonEmptyElements(),C,F;for(x.body=1,y=0;y<s;y++){if(A=H[y],G=A.parent,x[A.parent.name]&&A===G.lastChild){for(w=A.prev;w;){if(B=w.name,"span"!==B||"bookmark"!==w.attr("data-mce-type")){if("br"!==B){break}if("br"===B){A=null;break}}w=w.prev}A&&(A.remove(),G.isEmpty(E,z)&&(C=q.getElementRule(G.name),C&&(C.removeEmpty?G.remove():C.paddEmpty&&f(r,G))))}else{for(D=A;G&&G.firstChild===D&&G.lastChild===D&&(D=G,!x[G.name]);){G=G.parent}D===G&&r.padd_empty_with_br!==!0&&(F=new h("#text",3),F.value="\xa0",A.replace(F))}}}),r.allow_unsafe_link_target||o.addAttributeFilter("href",function(z){function x(s){return s=B(s),s?[s,u].join(" "):u}function B(C){var s=new RegExp("("+u.replace(" ","|")+")","g");return C&&(C=b.trim(C.replace(s,""))),C?C:null}function w(t,s){return s?x(t):B(t)}for(var A=z.length,v,y,u="noopener noreferrer";A--;){v=z[A],y=v.attr("rel"),"a"===v.name&&v.attr("rel",w(y,"_blank"==v.attr("target")))}}),r.allow_html_in_named_anchor||o.addAttributeFilter("id,name",function(w){for(var u=w.length,y,v,s,x;u--;){if(x=w[u],"a"===x.name&&x.firstChild&&!x.attr("href")){s=x.parent,y=x.lastChild;do{v=y.prev,s.insert(y,x),y=v}while(y)}}}),r.fix_list_elements&&o.addNodeFilter("ul,ol",function(u){for(var x=u.length,v,s;x--;){if(v=u[x],s=v.parent,"ul"===s.name||"ol"===s.name){if(v.prev&&"li"===v.prev.name){v.prev.append(v)}else{var w=new h("li",1);w.attr("style","list-style-type: none"),v.wrap(w)}}}}),r.validate&&q.getValidClasses()&&o.addAttributeFilter("class",function(A){for(var D=A.length,x,v,z,w,B,E=q.getValidClasses(),y,C;D--;){for(x=A[D],v=x.attr("class").split(" "),B="",z=0;z<v.length;z++){w=v[z],C=!1,y=E["*"],y&&y[w]&&(C=!0),y=E[x.name],!C&&y&&y[w]&&(C=!0),C&&(B&&(B+=" "),B+=w)}B.length||(B=null),x.attr("class",B)}})}}),bD(cm,[cC,bK],function(b,a){var c=a.makeMap;return function(g){var j=[],f,k,e,h,d;return g=g||{},f=g.indent,k=c(g.indent_before||""),e=c(g.indent_after||""),h=b.getEncodeFunc(g.entity_encoding||"raw",g.entities),d="html"==g.element_format,{start:function(o,l,r){var i,q,p,m;if(f&&k[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n")),j.push("<",o),l){for(i=0,q=l.length;i<q;i++){p=l[i],j.push(" ",p.name,'="',h(p.value,!0),'"')}}!r||d?j[j.length]=">":j[j.length]=" />",r&&f&&e[o]&&j.length>0&&(m=j[j.length-1],m.length>0&&"\n"!==m&&j.push("\n"))},end:function(l){var i;j.push("</",l,">"),f&&e[l]&&j.length>0&&(i=j[j.length-1],i.length>0&&"\n"!==i&&j.push("\n"))},text:function(l,i){l.length>0&&(j[j.length]=i?l:h(l))},cdata:function(i){j.push("<![CDATA[",i,"]]>")},comment:function(i){j.push("<!--",i,"-->")},pi:function(l,i){i?j.push("<?",l," ",h(i),"?>"):j.push("<?",l,"?>"),f&&j.push("\n")},doctype:function(i){j.push("<!DOCTYPE",i,">",f?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}}),bD(ci,[cm,cD],function(b,a){return function(f,d){var c=this,e=new b(f);f=f||{},f.validate=!("validate" in f)||f.validate,c.schema=d=d||new a,c.writer=e,c.serialize=function(k){function j(w){var o=h[w.type],A,r,z,y,x,v,i,t,q;if(o){o(w)}else{if(A=w.name,r=w.shortEnded,z=w.attributes,g&&z&&z.length>1&&(v=[],v.map={},q=d.getElementRule(w.name))){for(i=0,t=q.attributesOrder.length;i<t;i++){y=q.attributesOrder[i],y in z.map&&(x=z.map[y],v.map[y]=x,v.push({name:y,value:x}))}for(i=0,t=z.length;i<t;i++){y=z[i].name,y in v.map||(x=z.map[y],v.map[y]=x,v.push({name:y,value:x}))}z=v}if(e.start(w.name,z,r),!r){if(w=w.firstChild){do{j(w)}while(w=w.next)}e.end(A)}}}var h,g;return g=f.validate,h={3:function(i){e.text(i.value,i.raw)},8:function(i){e.comment(i.value)},7:function(i){e.pi(i.name,i.value)},10:function(i){e.doctype(i.value)},4:function(i){e.cdata(i.value)},11:function(i){if(i=i.firstChild){do{j(i)}while(i=i.next)}}},e.reset(),1!=k.type||f.inner?h[11](k):j(k),e.getContent()}}}),bD(cj,[bx,cn,cA,cC,ci,cF,cD,bW,bK,cd],function(v,A,j,b,m,h,y,B,k,z){function x(d){function a(i){return i&&"br"===i.name}var f,c;f=d.lastChild,a(f)&&(c=f.prev,a(c)&&(f.remove(),c.remove()))}var w=k.each,q=k.trim,g=v.DOM;return function(l,c){function f(u){var o=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+r.join("|")+')="[^"]+"'].join("|"),"gi");return u=z.trim(u.replace(o,""))}function d(E){var I=E,o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,D,G,J,C,H,F=c.schema;for(I=f(I),H=F.getShortEndedElements();C=o.exec(I);){G=o.lastIndex,J=C[0].length,D=H[C[1]]?G:j.findEndTag(F,I,G),I=I.substring(0,G-J)+I.substring(D),o.lastIndex=G-J}return I}function i(){return d(c.getBody().innerHTML)}function s(o){k.inArray(r,o)===-1&&(a.addAttributeFilter(o,function(C,u){for(var D=C.length;D--;){C[D].attr(u,null)}}),r.push(o))}var n,p,a,r=["data-mce-selected"];return c&&(n=c.dom,p=c.schema),n=n||g,p=p||new y(l),l.entity_encoding=l.entity_encoding||"named",l.remove_trailing_brs=!("remove_trailing_brs" in l)||l.remove_trailing_brs,a=new A(l,p),a.addAttributeFilter("data-mce-tabindex",function(C,o){for(var D=C.length,u;D--;){u=C[D],u.attr("tabindex",u.attributes.map["data-mce-tabindex"]),u.attr(o,null)}}),a.addAttributeFilter("src,href,style",function(I,D){for(var e=I.length,F,C,G="data-mce-"+D,J=l.url_converter,E=l.url_converter_scope,H;e--;){F=I[e],C=F.attributes.map[G],C!==H?(F.attr(D,C.length>0?C:null),F.attr(G,null)):(C=F.attributes.map[D],"style"===D?C=n.serializeStyle(n.parseStyle(C),F.name):J&&(C=J.call(E,C,D,F.name)),F.attr(D,C.length>0?C:null))}}),a.addAttributeFilter("class",function(C){for(var o=C.length,D,u;o--;){D=C[o],u=D.attr("class"),u&&(u=D.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),D.attr("class",u.length>0?u:null))}}),a.addAttributeFilter("data-mce-type",function(D,u,E){for(var C=D.length,o;C--;){o=D[C],"bookmark"!==o.attributes.map["data-mce-type"]||E.cleanup||o.remove()}}),a.addNodeFilter("noscript",function(u){for(var o=u.length,C;o--;){C=u[o].firstChild,C&&(C.value=b.decode(C.value))}}),a.addNodeFilter("script,style",function(F,D){function H(o){return o.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var E=F.length,C,G,u;E--;){C=F[E],G=C.firstChild?C.firstChild.value:"","script"===D?(u=C.attr("type"),u&&C.attr("type","mce-no/type"==u?null:u.replace(/^mce\-/,"")),G.length>0&&(C.firstChild.value="// <![CDATA[\n"+H(G)+"\n// ]]>")):G.length>0&&(C.firstChild.value="<!--\n"+H(G)+"\n-->")}}),a.addNodeFilter("#comment",function(u){for(var o=u.length,C;o--;){C=u[o],0===C.value.indexOf("[CDATA[")?(C.name="#cdata",C.type=4,C.value=C.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===C.value.indexOf("mce:protected ")&&(C.name="#text",C.type=3,C.raw=!0,C.value=unescape(C.value).substr(14))}}),a.addNodeFilter("xml:namespace,input",function(C,o){for(var D=C.length,u;D--;){u=C[D],7===u.type?u.remove():1===u.type&&("input"!==o||"type" in u.attributes.map||u.attr("type","text"))}}),a.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(u,o){for(var C=u.length;C--;){u[C].attr(o,null)}}),{schema:p,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:function(I,D){var e=this,C,H,F,u,G,E;return B.ie&&n.select("script,style,select,map").length>0?(G=I.innerHTML,I=I.cloneNode(!1),n.setHTML(I,G)):I=I.cloneNode(!0),C=document.implementation,C.createHTMLDocument&&(H=C.createHTMLDocument(""),w("BODY"==I.nodeName?I.childNodes:[I],function(o){H.body.appendChild(H.importNode(o,!0))}),I="BODY"!=I.nodeName?H.body.firstChild:H.body,F=n.doc,n.doc=H),D=D||{},D.format=D.format||"html",D.selection&&(D.forced_root_block=""),D.no_events||(D.node=I,e.onPreProcess(D)),E=a.parse(q(D.getInner?I.innerHTML:n.getOuterHTML(I)),D),x(E),u=new m(l,p),D.content=u.serialize(E),D.cleanup||(D.content=z.trim(D.content),D.content=D.content.replace(/\uFEFF/g,"")),D.no_events||e.onPostProcess(D),F&&(n.doc=F),D.node=null,D.content},addRules:function(o){p.addValidElements(o)},setRules:function(o){p.setValidElements(o)},onPreProcess:function(o){c&&c.fire("PreProcess",o)},onPostProcess:function(o){c&&c.fire("PostProcess",o)},addTempAttr:s,trimHtml:f,getTrimmedContent:i,trimContent:d}}}),bD(cu,[],function(){function a(f){function c(z,k){var e,p=0,j,x,A,m,y,w,v=-1,q;if(e=z.duplicate(),e.collapse(k),q=e.parentElement(),q.ownerDocument===f.dom.doc){for(;"false"===q.contentEditable;){q=q.parentNode}if(!q.hasChildNodes()){return{node:q,inside:1}}for(A=q.children,j=A.length-1;p<=j;){if(w=Math.floor((p+j)/2),m=A[w],e.moveToElementText(m),v=e.compareEndPoints(k?"StartToStart":"EndToEnd",z),v>0){j=w-1}else{if(!(v<0)){return{node:m}}p=w+1}}if(v<0){for(m?e.collapse(!1):(e.moveToElementText(q),e.collapse(!0),m=q,x=!0),y=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",1)&&q==e.parentElement();){y++}}else{for(e.collapse(!0),y=0;0!==e.compareEndPoints(k?"StartToStart":"StartToEnd",z)&&0!==e.move("character",-1)&&q==e.parentElement();){y++}}return{node:m,position:v,offset:y,inside:x}}}function h(){function i(z){var B=c(e,z),y,w,x=0,o,v,A;if(y=B.node,w=B.offset,B.inside&&!y.hasChildNodes()){return void q[z?"setStart":"setEnd"](y,0)}if(w===v){return void q[z?"setStartBefore":"setEndAfter"](y)}if(B.position<0){if(o=B.inside?y.firstChild:y.nextSibling,!o){return void q[z?"setStartAfter":"setEndAfter"](y)}if(!w){return void (3==o.nodeType?q[z?"setStart":"setEnd"](o,0):q[z?"setStartBefore":"setEndBefore"](o))}for(;o;){if(3==o.nodeType&&(A=o.nodeValue,x+=A.length,x>=w)){y=o,x-=w,x=A.length-x;break}o=o.nextSibling}}else{if(o=y.previousSibling,!o){return q[z?"setStartBefore":"setEndBefore"](y)}if(!w){return void (3==y.nodeType?q[z?"setStart":"setEnd"](o,y.nodeValue.length):q[z?"setStartAfter":"setEndAfter"](o))}for(;o;){if(3==o.nodeType&&(x+=o.nodeValue.length,x>=w)){y=o,x-=w;break}o=o.previousSibling}}q[z?"setStart":"setEnd"](y,x)}var e=f.getRng(),q=b.createRng(),t,j,r,p,m;if(t=e.item?e.item(0):e.parentElement(),t.ownerDocument!=b.doc){return q}if(j=f.isCollapsed(),e.item){return q.setStart(t.parentNode,b.nodeIndex(t)),q.setEnd(q.startContainer,q.startOffset+1),q}try{i(!0),j||i()}catch(k){if(k.number!=-2147024809){throw k}m=d.getBookmark(2),r=e.duplicate(),r.collapse(!0),t=r.parentElement(),j||(r=e.duplicate(),r.collapse(!1),p=r.parentElement(),p.innerHTML=p.innerHTML),t.innerHTML=t.innerHTML,d.moveToBookmark(m),e=f.getRng(),i(!0),j||i()}return q}var d=this,b=f.dom,g=!1;this.getBookmark=function(l){function j(s){var p,v,q,u,m=[];for(p=s.parentNode,v=b.getRoot().parentNode;p!=v&&9!==p.nodeType;){for(q=p.children,u=q.length;u--;){if(s===q[u]){m.push(u);break}}s=p,p=p.parentNode}return m}function k(m){var o;if(o=c(e,m)){return{position:o.position,offset:o.offset,indexes:j(o.node),inside:o.inside}}}var e=f.getRng(),i={};return 2===l&&(e.item?i.start={ctrl:!0,indexes:j(e.item(0))}:(i.start=k(!0),f.isCollapsed()||(i.end=k()))),i},this.moveToBookmark=function(k){function i(s){var p,v,q,u;for(p=b.getRoot(),v=s.length-1;v>=0;v--){u=p.children,q=s[v],q<=u.length-1&&(p=u[q])}return p}function m(t){var q=k[t?"start":"end"],o,r,e,p;q&&(o=q.position>0,r=l.createTextRange(),r.moveToElementText(i(q.indexes)),p=q.offset,p!==e?(r.collapse(q.inside||o),r.moveStart("character",o?-p:p)):r.collapse(t),j.setEndPoint(t?"StartToStart":"EndToStart",r),t&&j.collapse(!0))}var j,l=b.doc.body;k.start&&(k.start.ctrl?(j=l.createControlRange(),j.addElement(i(k.start.indexes)),j.select()):(j=l.createTextRange(),m(!0),m(),j.select()))},this.addRange=function(B){function j(r){var m,u,l,s,p;l=b.create("a"),m=r?C:A,u=r?o:y,s=e.duplicate(),m!=w&&m!=w.documentElement||(m=i,u=0),3==m.nodeType?(m.parentNode.insertBefore(l,m),s.moveToElementText(l),s.moveStart("character",u),b.remove(l),e.setEndPoint(r?"StartToStart":"EndToEnd",s)):(p=m.childNodes,p.length?(u>=p.length?b.insertAfter(l,p[p.length-1]):m.insertBefore(l,p[u]),s.moveToElementText(l)):m.canHaveHTML&&(m.innerHTML="<span>&#xFEFF;</span>",l=m.firstChild,s.moveToElementText(l),s.collapse(g)),e.setEndPoint(r?"StartToStart":"EndToEnd",s),b.remove(l))}var e,z,C,o,A,y,x,w=f.dom.doc,i=w.body,q,k;if(C=B.startContainer,o=B.startOffset,A=B.endContainer,y=B.endOffset,e=i.createTextRange(),C==A&&1==C.nodeType){if(o==y&&!C.hasChildNodes()){if(C.canHaveHTML){return x=C.previousSibling,x&&!x.hasChildNodes()&&b.isBlock(x)?x.innerHTML="&#xFEFF;":x=null,C.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",e.moveToElementText(C.lastChild),e.select(),b.doc.selection.clear(),C.innerHTML="",void (x&&(x.innerHTML=""))}o=b.nodeIndex(C),C=C.parentNode}if(o==y-1){try{if(k=C.childNodes[o],z=i.createControlRange(),z.addElement(k),z.select(),q=f.getRng(),q.item&&k===q.item(0)){return}}catch(v){}}}j(!0),j(),e.select()},this.getRangeAt=h}return a}),bD(cs,[bW],function(a){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(b){return b.shiftKey||b.ctrlKey||b.altKey||this.metaKeyPressed(b)},metaKeyPressed:function(b){return a.mac?b.metaKey:b.ctrlKey&&!b.altKey}}}),bD(cx,[cs,bK,bX,bW,b1],function(h,d,k,g,c){function j(i,a){for(;a&&a!=i;){if(f(a)||b(a)){return a}a=a.parentNode}return null}var b=c.isContentEditableFalse,f=c.isContentEditableTrue;return function(dp,dh){function dl(l){var i=dh.settings.object_resizing;return i!==!1&&!g.iOS&&("string"!=typeof i&&(i="table,img,div"),"false"!==l.getAttribute("data-mce-resize")&&(l!=dh.getBody()&&dh.dom.is(l,i)))}function dg(p){var u,q,m,s,l;u=p.screenX-bt,q=p.screenY-be,r=u*c8[2]+c2,n=q*c8[3]+c1,r=r<5?5:r,n=n<5?5:n,m="IMG"==dm.nodeName&&dh.settings.resize_img_proportional!==!1?!h.modifierPressed(p):h.modifierPressed(p)||"IMG"==dm.nodeName&&c8[2]*c8[3]!==0,m&&(dn(u)>dn(q)?(n=a(r*c4),r=a(n/c4)):(r=a(n/c4),n=a(r*c4))),dw.setStyles(t,{width:r,height:n}),s=c8.startPos.x+u,l=c8.startPos.y+q,s=s>0?s:0,l=l>0?l:0,dw.setStyles(Z,{left:s,top:l,display:"block"}),Z.innerHTML=r+" &times; "+n,c8[2]<0&&t.clientWidth<=r&&dw.setStyle(t,"left",ae+(c2-r)),c8[3]<0&&t.clientHeight<=n&&dw.setStyle(t,"top",an+(c1-n)),u=e.scrollWidth-ce,q=e.scrollHeight-c3,u+q!==0&&dw.setStyles(Z,{left:s-u,top:l-q}),db||(dh.fire("ObjectResizeStart",{target:dm,width:c2,height:c1}),db=!0)}function du(){function i(m,l){l&&(dm.style[m]||!dh.schema.isValid(dm.nodeName.toLowerCase(),m)?dw.setStyle(dm,m,l):dw.setAttrib(dm,m,l))}db=!1,i("width",r),i("height",n),dw.unbind(o,"mousemove",dg),dw.unbind(o,"mouseup",du),da!=o&&(dw.unbind(da,"mousemove",dg),dw.unbind(da,"mouseup",du)),dw.remove(t),dw.remove(Z),di&&"TABLE"!=dm.nodeName||dt(dm),dh.fire("ObjectResized",{target:dm,width:r,height:n}),dw.setAttrib(dm,"style",dw.getAttrib(dm,"style")),dh.nodeChanged()}function dt(u,q,x){var m,w,l,v,s;ds(),dd(),m=dw.getPos(u,e),ae=m.x,an=m.y,s=u.getBoundingClientRect(),w=s.width||s.right-s.left,l=s.height||s.bottom-s.top,dm!=u&&(c7(),dm=u,r=n=0),v=dh.fire("ObjectSelected",{target:u}),dl(u)&&!v.isDefaultPrevented()?Q(c9,function(A,y){function z(i){bt=i.screenX,be=i.screenY,c2=dm.clientWidth,c1=dm.clientHeight,c4=c1/c2,c8=A,A.startPos={x:w*A[0]+ae,y:l*A[1]+an},ce=e.scrollWidth,c3=e.scrollHeight,t=dm.cloneNode(!0),dw.addClass(t,"mce-clonedresizable"),dw.setAttrib(t,"data-mce-bogus","all"),t.contentEditable=!1,t.unSelectabe=!0,dw.setStyles(t,{left:ae,top:an,margin:0}),t.removeAttribute("data-mce-selected"),e.appendChild(t),dw.bind(o,"mousemove",dg),dw.bind(o,"mouseup",du),da!=o&&(dw.bind(da,"mousemove",dg),dw.bind(da,"mouseup",du)),Z=dw.add(e,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},c2+" &times; "+c1)}var p;return q?void (y==q&&z(x)):(p=dw.get("mceResizeHandle"+y),p&&dw.remove(p),p=dw.add(e,"div",{id:"mceResizeHandle"+y,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+y+"-resize; margin:0; padding:0"}),g.ie&&(p.contentEditable=!1),dw.bind(p,"mousedown",function(i){i.stopImmediatePropagation(),i.preventDefault(),z(i)}),A.elm=p,void dw.setStyles(p,{left:w*A[0]+ae-p.offsetWidth/2,top:l*A[1]+an-p.offsetHeight/2}))}):ds(),dm.setAttribute("data-mce-selected","1")}function ds(){var l,i;dd(),dm&&dm.removeAttribute("data-mce-selected");for(l in c9){i=dw.get("mceResizeHandle"+l),i&&(dw.unbind(i),dw.remove(i))}}function dj(m){function i(s,q){if(s){do{if(s===q){return !0}}while(s=s.parentNode)}}var p,l;if(!db&&!dh.removed){return Q(dw.select("img[data-mce-selected],hr[data-mce-selected]"),function(q){q.removeAttribute("data-mce-selected")}),l="mousedown"==m.type?m.target:dp.getNode(),l=dw.$(l).closest(di?"table":"table,img,hr")[0],i(l,e)&&(de(),p=dp.getStart(!0),i(p,l)&&i(dp.getEnd(!0),l)&&(!di||l!=p&&"IMG"!==p.nodeName))?void dt(l):void ds()}}function dq(l,i,m){l&&l.attachEvent&&l.attachEvent("on"+i,m)}function dk(l,i,m){l&&l.detachEvent&&l.detachEvent("on"+i,m)}function dr(w){var z=w.srcElement,q,m,v,p,x,s,y;q=z.getBoundingClientRect(),s=c6.clientX-q.left,y=c6.clientY-q.top;for(m in c9){if(v=c9[m],p=z.offsetWidth*v[0],x=z.offsetHeight*v[1],dn(p-s)<8&&dn(x-y)<8){c8=v;break}}db=!0,dh.fire("ObjectResizeStart",{target:dm,width:dm.clientWidth,height:dm.clientHeight}),dh.getDoc().selection.empty(),dt(z,m,c6)}function df(i){i.preventDefault?i.preventDefault():i.returnValue=!1}function dc(i){return b(j(dh.getBody(),i))}function dv(l){var i=l.srcElement;if(dc(i)){return void df(l)}if(i!=dm){if(dh.fire("ObjectSelected",{target:i}),c7(),0===i.id.indexOf("mceResizeHandle")){return void (l.returnValue=!1)}"IMG"!=i.nodeName&&"TABLE"!=i.nodeName||(ds(),dm=i,dq(i,"resizestart",dr))}}function c7(){dk(dm,"resizestart",dr)}function dd(){for(var l in c9){var i=c9[l];i.elm&&(dw.unbind(i.elm),delete i.elm)}}function de(){try{dh.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(i){}}function c5(l){var i;if(di){i=o.body.createControlRange();try{return i.addElement(l),i.select(),!0}catch(m){}}}function at(){dm=t=null,di&&(c7(),dk(e,"controlselect",dv))}var dw=dh.dom,Q=d.each,dm,t,Z,c9,c8,c6,bt,be,ae,an,c2,c1,c4,db,r,n,o=dh.getDoc(),da=document,di=g.ie&&g.ie<11,dn=Math.abs,a=Math.round,e=dh.getBody(),ce,c3;c9={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var ct=".mce-content-body";return dh.contentStyles.push(ct+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+ct+" .mce-resizehandle:hover {background: #000}"+ct+" img[data-mce-selected],"+ct+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+ct+" .mce-clonedresizable {position: absolute;"+(g.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+ct+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),dh.on("init",function(){di?(dh.on("ObjectResized",function(l){"TABLE"!=l.target.nodeName&&(ds(),c5(l.target))}),dq(e,"controlselect",dv),dh.on("mousedown",function(l){c6=l})):(de(),g.ie>=11&&(dh.on("mousedown click",function(m){var l=m.target,p=l.nodeName;db||!/^(TABLE|IMG|HR)$/.test(p)||dc(l)||(dh.selection.select(l,"TABLE"==p),"mousedown"==m.type&&dh.nodeChanged())}),dh.dom.bind(e,"mscontrolselect",function(m){function l(p){k.setEditorTimeout(dh,function(){dh.selection.select(p)})}return dc(m.target)?(m.preventDefault(),void l(m.target)):void (/^(TABLE|IMG|HR)$/.test(m.target.nodeName)&&(m.preventDefault(),"IMG"==m.target.tagName&&l(m.target)))})));var i=k.throttle(function(l){dh.composing||dj(l)});dh.on("nodechange ResizeEditor ResizeWindow drop",i),dh.on("keyup compositionend",function(l){dm&&"TABLE"==dm.nodeName&&i(l)}),dh.on("hide blur",ds)}),dh.on("remove",dd),{isResizable:dl,showResizeRect:dt,hideResizeRect:ds,updateResizeRect:dj,controlSelect:c5,destroy:at}}}),bD(bs,[],function(){function h(a){return function(){return a}}function d(a){return function(e){return !a(e)}}function k(i,a){return function(e){return i(a(e))}}function g(){var a=f.call(arguments);return function(e){for(var i=0;i<a.length;i++){if(a[i](e)){return !0}}return !1}}function c(){var a=f.call(arguments);return function(e){for(var i=0;i<a.length;i++){if(!a[i](e)){return !1}}return !0}}function j(i){var a=f.call(arguments);return a.length-1>=i.length?i.apply(this,a.slice(1)):function(){var l=a.concat([].slice.call(arguments));return j.apply(this,l)}}function b(){}var f=[].slice;return{constant:h,negate:d,and:c,or:g,curry:j,compose:k,noop:b}}),bD(ca,[b1,bR,bM],function(z,E,k){function b(a){return !q(a)&&(A(a)?!y(a.parentNode):g(a)||B(a)||x(a)||D(a))}function w(c,a){for(c=c.parentNode;c&&c!=a;c=c.parentNode){if(D(c)){return !1}if(v(c)){return !0}}return !0}function j(a){return !!D(a)&&E.reduce(a.getElementsByTagName("*"),function(d,c){return d||v(c)},!1)!==!0}function C(a){return g(a)||j(a)}function F(c,a){return b(c)&&w(c,a)}var v=z.isContentEditableTrue,D=z.isContentEditableFalse,B=z.isBr,A=z.isText,y=z.matchNodeNames("script style textarea"),g=z.matchNodeNames("img input textarea hr iframe video audio object"),x=z.matchNodeNames("table"),q=k.isCaretContainer;return{isCaretCandidate:b,isInEditable:w,isAtomic:C,isEditableCaretCandidate:F}}),bD(b7,[],function(){function j(a){return a?{left:k(a.left),top:k(a.top),bottom:k(a.bottom),right:k(a.right),width:k(a.width),height:k(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function q(a,c){return a=j(a),c?a.right=a.left:(a.left=a.left+a.width,a.right=a.left),a.width=0,a}function f(c,a){return c.left===a.left&&c.top===a.top&&c.bottom===a.bottom&&c.right===a.right}function b(c,a,i){return c>=0&&c<=Math.min(a.height,i.height)/2}function h(c,a){return c.bottom<a.top||!(c.top>a.bottom)&&b(a.top-c.bottom,c,a)}function d(c,a){return c.top>a.bottom||!(c.bottom<a.top)&&b(a.bottom-c.top,c,a)}function m(c,a){return c.left<a.left}function v(c,a){return c.right>a.right}function g(c,a){return h(c,a)?-1:d(c,a)?1:m(c,a)?-1:v(c,a)?1:0}function p(c,a,i){return a>=c.left&&a<=c.right&&i>=c.top&&i<=c.bottom}var k=Math.round;return{clone:j,collapse:q,isEqual:f,isAbove:h,isBelow:d,isLeft:m,isRight:v,compare:g,containsXY:p}}),bD(b8,[],function(){function b(c){return"string"==typeof c&&c.charCodeAt(0)>=768&&a.test(c)}var a=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:b}}),bD(cQ,[bs,b1,bx,cb,ca,b7,b8],function(N,z,G,D,J,F,R){function A(a){return"createRange" in a?a.createRange():G.DOM.createRng()}function I(a){return a&&/[\r\n\t ]/.test(a)}function w(c){var a=c.startContainer,d=c.startOffset,b;return !!(I(c.toString())&&q(a.parentNode)&&(b=a.data,I(b[d-1])||I(b[d+1])))}function P(m){function u(v){var l=v.ownerDocument,x=A(l),p=l.createTextNode("\xa0"),d=v.parentNode,c;return d.insertBefore(p,v),x.setStart(p,0),x.setEnd(p,1),c=F.clone(x.getBoundingClientRect()),d.removeChild(p),c}function f(d){var i,c;return c=d.getClientRects(),i=c.length>0?F.clone(c[0]):F.clone(d.getBoundingClientRect()),Q(d)&&0===i.left?u(d):i}function a(d,c){return d=F.collapse(d,c),d.width=1,d.right=d.left+1,d}function h(c){0!==c.height&&(s.length>0&&F.isEqual(c,s[s.length-1])||s.push(c))}function g(d,c){var i=A(d.ownerDocument);if(c<d.data.length){if(R.isExtendingChar(d.data[c])){return s}if(R.isExtendingChar(d.data[c-1])&&(i.setStart(d,c),i.setEnd(d,c+1),!w(i))){return h(a(f(i),!1)),s}}c>0&&(i.setStart(d,c-1),i.setEnd(d,c),w(i)||h(a(f(i),!1))),c<d.data.length&&(i.setStart(d,c),i.setEnd(d,c+1),w(i)||h(a(f(i),!0)))}var s=[],o,b;if(j(m.container())){return g(m.container(),m.offset()),s}if(M(m.container())){if(m.isAtEnd()){b=k(m.container(),m.offset()),j(b)&&g(b,b.data.length),L(b)&&!Q(b)&&h(a(f(b),!1))}else{if(b=k(m.container(),m.offset()),j(b)&&g(b,0),L(b)&&m.isAtEnd()){return h(a(f(b),!1)),s}o=k(m.container(),m.offset()-1),L(o)&&!Q(o)&&(K(o)||K(b)||!L(b))&&h(a(f(o),!1)),L(b)&&h(a(f(b),!0))}}return s}function O(x,e,b){function h(){return j(x)?0===e:0===e}function d(){return j(x)?e>=x.data.length:e>=x.childNodes.length}function s(){var a;return a=A(x.ownerDocument),a.setStart(x,e),a.setEnd(x,e),a}function g(){return b||(b=P(new O(x,e))),b}function v(){return g().length>0}function m(a){return a&&x===a.container()&&e===a.offset()}function c(a){return k(x,a?e-1:e)}return{container:N.constant(x),offset:N.constant(e),toRange:s,getClientRects:g,isVisible:v,isAtStart:h,isAtEnd:d,isEqual:m,getNode:c}}var M=z.isElement,E=J.isCaretCandidate,K=z.matchStyleValues("display","block table"),H=z.matchStyleValues("float","left right"),L=N.and(M,E,N.negate(H)),q=N.negate(z.matchStyleValues("white-space","pre pre-line pre-wrap")),j=z.isText,Q=z.isBr,B=G.nodeIndex,k=D.getNode;return O.fromRangeStart=function(a){return new O(a.startContainer,a.startOffset)},O.fromRangeEnd=function(a){return new O(a.endContainer,a.endOffset)},O.after=function(a){return new O(a.parentNode,B(a)+1)},O.before=function(a){return new O(a.parentNode,B(a))},O}),bD(bE,[b1,bx,bs,bR,cQ],function(I,q,B,x,E){function A(c){var a=c.parentNode;return j(a)?A(a):a}function L(a){return a?x.reduce(a.childNodes,function(d,c){return j(c)&&"BR"!=c.nodeName?d=d.concat(L(c)):d.push(c),d},[]):[]}function w(c,a){for(;(c=c.previousSibling)&&G(c);){a+=c.data.length}return a}function D(a){return function(c){return a===c}}function k(c){var e,a,d;return e=L(A(c)),a=x.findIndex(e,D(c),c),e=e.slice(0,a+1),d=x.reduce(e,function(h,f,g){return G(f)&&G(e[g-1])&&h++,h},0),e=x.filter(e,I.matchNodeNames(c.nodeName)),a=x.findIndex(e,D(c),c),a-d}function K(c){var a;return a=G(c)?"text()":c.nodeName.toLowerCase(),a+"["+k(c)+"]"}function J(d,a,f){var c=[];for(a=a.parentNode;a!=d&&(!f||!f(a));a=a.parentNode){c.push(a)}return c}function H(h,g){var r,d,c=[],e,m,n;return r=g.container(),d=g.offset(),G(r)?e=w(r,d):(m=r.childNodes,d>=m.length?(e="after",d=m.length-1):e="before",r=m[d]),c.push(K(r)),n=J(h,r),n=x.filter(n,B.negate(I.isBogus)),c=c.concat(x.map(n,function(a){return K(a)})),c.reverse().join("/")+","+e}function z(c,e,a){var d=L(c);return d=x.filter(d,function(g,f){return !G(g)||!G(d[f-1])}),d=x.filter(d,I.matchNodeNames(e)),d[a]}function F(d,a){for(var g=d,c=0,f;G(g);){if(f=g.data.length,a>=c&&a<=c+f){d=g,a-=c;break}if(!G(g.nextSibling)){d=g,a=f;break}c+=f,g=g.nextSibling}return a>d.data.length&&(a=d.data.length),new E(d,a)}function C(f,d){var h,g,c;return d?(h=d.split(","),d=h[0].split("/"),c=h.length>1?h[1]:"before",g=x.reduce(d,function(i,a){return(a=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(a))?("text()"===a[1]&&(a[1]="#text"),z(i,a[1],parseInt(a[2],10))):null},f),g?G(g)?F(g,parseInt(c,10)):(c="after"===c?b(g)+1:b(g),new E(g.parentNode,c)):null):null}var G=I.isText,j=I.isBogus,b=q.nodeIndex;return{create:H,resolve:C}}),bD(bN,[bW,bK,bM,bE,cQ,b1,cb],function(h,k,d,b,g,c,j){function m(e){var a=e.dom;this.getBookmark=function(s,u){function t(v,w){var p=0;return k.each(a.select(v),function(x){if("all"!==x.getAttribute("data-mce-bogus")){return x!=w&&void p++}}),p}function r(v){function p(x){var E,y,w,C=x?"start":"end";E=v[C+"Container"],y=v[C+"Offset"],1==E.nodeType&&"TR"==E.nodeName&&(w=E.childNodes,E=w[Math.min(x?y:y-1,w.length-1)],E&&(y=x?0:E.childNodes.length,v["set"+(x?"Start":"End")](E,y)))}return p(!0),p(),v}function l(w){function p(K,H){var J=K[H?"startContainer":"endContainer"],E=K[H?"startOffset":"endOffset"],L=[],C,I,y=0;if(3==J.nodeType){if(u){for(C=J.previousSibling;C&&3==C.nodeType;C=C.previousSibling){E+=C.nodeValue.length}}L.push(E)}else{I=J.childNodes,E>=I.length&&I.length&&(y=1,E=Math.max(0,I.length-1)),L.push(a.nodeIndex(I[E],u)+y)}for(;J&&J!=x;J=J.parentNode){L.push(a.nodeIndex(J,u))}return L}var x=a.getRoot(),v={};return v.start=p(w,!0),e.isCollapsed()||(v.end=p(w)),v}function o(v){function p(y,w){var x;if(c.isElement(y)&&(y=j.getNode(y,w),f(y))){return y}if(d.isCaretContainer(y)){if(c.isText(y)&&d.isCaretContainerBlock(y)&&(y=y.parentNode),x=y.previousSibling,f(x)){return x}if(x=y.nextSibling,f(x)){return x}}}return p(v.startContainer,v.startOffset)||p(v.endContainer,v.endOffset)}var n,q,F,A,z,i,B="&#xFEFF;",D;if(2==s){return i=e.getNode(),z=i?i.nodeName:null,n=e.getRng(),f(i)||"IMG"==z?{name:z,index:t(z,i)}:e.tridentSel?e.tridentSel.getBookmark(s):(i=o(n),i?(z=i.tagName,{name:z,index:t(z,i)}):l(n))}if(3==s){return n=e.getRng(),{start:b.create(a.getRoot(),g.fromRangeStart(n)),end:b.create(a.getRoot(),g.fromRangeEnd(n))}}if(s){return{rng:e.getRng()}}if(n=e.getRng(),F=a.uniqueId(),A=e.isCollapsed(),D="overflow:hidden;line-height:0px",n.duplicate||n.item){if(n.item){return i=n.item(0),z=i.nodeName,{name:z,index:t(z,i)}}q=n.duplicate();try{n.collapse(),n.pasteHTML('<span data-mce-type="bookmark" id="'+F+'_start" style="'+D+'">'+B+"</span>"),A||(q.collapse(!1),n.moveToElementText(q.parentElement()),0===n.compareEndPoints("StartToEnd",q)&&q.move("character",-1),q.pasteHTML('<span data-mce-type="bookmark" id="'+F+'_end" style="'+D+'">'+B+"</span>"))}catch(G){return null}}else{if(i=e.getNode(),z=i.nodeName,"IMG"==z){return{name:z,index:t(z,i)}}q=r(n.cloneRange()),A||(q.collapse(!1),q.insertNode(a.create("span",{"data-mce-type":"bookmark",id:F+"_end",style:D},B))),n=r(n),n.collapse(!0),n.insertNode(a.create("span",{"data-mce-type":"bookmark",id:F+"_start",style:D},B))}return e.moveToBookmark({id:F,keep:1}),{id:F}},this.moveToBookmark=function(s){function v(C){var p=s[C?"start":"end"],B,n,D,l;if(p){for(D=p[0],n=y,B=p.length-1;B>=1;B--){if(l=n.childNodes,p[B]>l.length-1){return}n=l[p[B]]}3===n.nodeType&&(D=Math.min(p[0],n.nodeValue.length)),1===n.nodeType&&(D=Math.min(p[0],n.childNodes.length)),C?z.setStart(n,D):z.setEnd(n,D)}return !0}function r(D){var B=a.get(s.id+"_"+D),E,p,C,n,F=s.keep;if(B&&(E=B.parentNode,"start"==D?(F?(E=B.firstChild,p=1):p=a.nodeIndex(B),x=q=E,w=t=p):(F?(E=B.firstChild,p=1):p=a.nodeIndex(B),q=E,t=p),!F)){for(n=B.previousSibling,C=B.nextSibling,k.each(k.grep(B.childNodes),function(i){3==i.nodeType&&(i.nodeValue=i.nodeValue.replace(/\uFEFF/g,""))});B=a.get(s.id+"_"+D);){a.remove(B,1)}n&&C&&n.nodeType==C.nodeType&&3==n.nodeType&&!h.opera&&(p=n.nodeValue.length,n.appendData(C.nodeValue),a.remove(C),"start"==D?(x=q=n,w=t=p):(q=n,t=p))}}function A(i){return !a.isBlock(i)||i.innerHTML||h.ie||(i.innerHTML='<br data-mce-bogus="1" />'),i}function u(){var l,i;return l=a.createRng(),i=b.resolve(a.getRoot(),s.start),l.setStart(i.container(),i.offset()),i=b.resolve(a.getRoot(),s.end),l.setEnd(i.container(),i.offset()),l}var z,y,x,q,w,t;if(s){if(k.isArray(s.start)){if(z=a.createRng(),y=a.getRoot(),e.tridentSel){return e.tridentSel.moveToBookmark(s)}v(!0)&&v()&&e.setRng(z)}else{"string"==typeof s.start?e.setRng(u(s)):s.id?(r("start"),r("end"),x&&(z=a.createRng(),z.setStart(A(x),w),z.setEnd(A(q),t),e.setRng(z))):s.name?e.select(a.select(s.name)[s.index]):s.rng&&e.setRng(s.rng)}}}}var f=c.isContentEditableFalse;return m.isBookmarkNode=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},m}),bD(b5,[bu,cu,cx,cb,bN,b1,bW,bK,cQ],function(t,j,b,m,h,x,z,k,y){function w(n,f,d,c){var l=this;l.dom=n,l.win=f,l.serializer=d,l.editor=c,l.bookmarkManager=new h(l),l.controlSelection=new b(l,c),l.win.getSelection||(l.tridentSel=new j(l))}var v=k.each,q=k.trim,g=z.ie;return w.prototype={setCursorLocation:function(d,a){var f=this,c=f.dom.createRng();d?(c.setStart(d,a),c.setEnd(d,a),f.setRng(c),f.collapse(!1)):(f._moveEndPoint(c,f.editor.getBody(),!0),f.setRng(c))},getContent:function(A){var C=this,u=C.getRng(),f=C.dom.create("body"),B=C.getSel(),d,p,c;return A=A||{},d=p="",A.get=!0,A.format=A.format||"html",A.selection=!0,C.editor.fire("BeforeGetContent",A),"text"==A.format?C.isCollapsed()?"":u.text||(B.toString?B.toString():""):(u.cloneContents?(c=u.cloneContents(),c&&f.appendChild(c)):u.item!==bB||u.htmlText!==bB?(f.innerHTML="<br>"+(u.item?u.item(0).outerHTML:u.htmlText),f.removeChild(f.firstChild)):f.innerHTML=u.toString(),/^\s/.test(f.innerHTML)&&(d=" "),/\s+$/.test(f.innerHTML)&&(p=" "),A.getInner=!0,A.content=C.isCollapsed()?"":d+C.serializer.serialize(f,A)+p,C.editor.fire("GetContent",A),A.content)},setContent:function(A,C){var f=this,c=f.getRng(),u,d=f.win.document,B,D;if(C=C||{format:"html"},C.set=!0,C.selection=!0,C.content=A,C.no_events||f.editor.fire("BeforeSetContent",C),A=C.content,c.insertNode){A+='<span id="__caret">_</span>',c.startContainer==d&&c.endContainer==d?d.body.innerHTML=A:(c.deleteContents(),0===d.body.childNodes.length?d.body.innerHTML=A:c.createContextualFragment?c.insertNode(c.createContextualFragment(A)):(B=d.createDocumentFragment(),D=d.createElement("div"),B.appendChild(D),D.outerHTML=A,c.insertNode(B))),u=f.dom.get("__caret"),c=d.createRange(),c.setStartBefore(u),c.setEndBefore(u),f.setRng(c),f.dom.remove("__caret");try{f.setRng(c)}catch(p){}}else{c.item&&(d.execCommand("Delete",!1,null),c=f.getRng()),/^\s+/.test(A)?(c.pasteHTML('<span id="__mce_tmp">_</span>'+A),f.dom.remove("__mce_tmp")):c.pasteHTML(A)}C.no_events||f.editor.fire("SetContent",C)},getStart:function(p){var f=this,u=f.getRng(),l,d,s,c;if(u.duplicate||u.item){if(u.item){return u.item(0)}for(s=u.duplicate(),s.collapse(1),l=s.parentElement(),l.ownerDocument!==f.dom.doc&&(l=f.dom.getRoot()),d=c=u.parentElement();c=c.parentNode;){if(c==l){l=d;break}}return l}return l=u.startContainer,1==l.nodeType&&l.hasChildNodes()&&(p&&u.collapsed||(l=l.childNodes[Math.min(l.childNodes.length-1,u.startOffset)])),l&&3==l.nodeType?l.parentNode:l},getEnd:function(f){var c=this,l=c.getRng(),d,a;return l.duplicate||l.item?l.item?l.item(0):(l=l.duplicate(),l.collapse(0),d=l.parentElement(),d.ownerDocument!==c.dom.doc&&(d=c.dom.getRoot()),d&&"BODY"==d.nodeName?d.lastChild||d:d):(d=l.endContainer,a=l.endOffset,1==d.nodeType&&d.hasChildNodes()&&(f&&l.collapsed||(d=d.childNodes[a>0?a-1:a])),d&&3==d.nodeType?d.parentNode:d)},getBookmark:function(c,a){return this.bookmarkManager.getBookmark(c,a)},moveToBookmark:function(a){return this.bookmarkManager.moveToBookmark(a)},select:function(f,c){var p=this,d=p.dom,a=d.createRng(),l;if(p.lastFocusBookmark=null,f){if(!c&&p.controlSelection.controlSelect(f)){return}l=d.nodeIndex(f),a.setStart(f.parentNode,l),a.setEnd(f.parentNode,l+1),c&&(p._moveEndPoint(a,f,!0),p._moveEndPoint(a,f)),p.setRng(a)}return f},isCollapsed:function(){var c=this,a=c.getRng(),d=c.getSel();return !(!a||a.item)&&(a.compareEndPoints?0===a.compareEndPoints("StartToEnd",a):!d||a.collapsed)},collapse:function(d){var a=this,f=a.getRng(),c;f.item&&(c=f.item(0),f=a.win.document.body.createTextRange(),f.moveToElementText(c)),f.collapse(!!d),a.setRng(f)},getSel:function(){var a=this.win;return a.getSelection?a.getSelection():a.document.selection},getRng:function(C){function G(i,a,l){try{return a.compareBoundaryPoints(i,l)}catch(c){return -1}}var p=this,d,B,f,E,H,A;if(!p.win){return null}if(E=p.win.document,"undefined"==typeof E||null===E){return null}if(!C&&p.lastFocusBookmark){var F=p.lastFocusBookmark;return F.startContainer?(B=E.createRange(),B.setStart(F.startContainer,F.startOffset),B.setEnd(F.endContainer,F.endOffset)):B=F,B}if(C&&p.tridentSel){return p.tridentSel.getRangeAt(0)}try{(d=p.getSel())&&(B=d.rangeCount>0?d.getRangeAt(0):d.createRange?d.createRange():E.createRange())}catch(D){}if(A=p.editor.fire("GetSelectionRange",{range:B}),A.range!==B){return A.range}if(g&&B&&B.setStart&&E.selection){try{H=E.selection.createRange()}catch(D){}H&&H.item&&(f=H.item(0),B=E.createRange(),B.setStartBefore(f),B.setEndAfter(f))}return B||(B=E.createRange?E.createRange():E.body.createTextRange()),B.setStart&&9===B.startContainer.nodeType&&B.collapsed&&(f=p.dom.getRoot(),B.setStart(f,0),B.setEnd(f,0)),p.selectedRange&&p.explicitRange&&(0===G(B.START_TO_START,B,p.selectedRange)&&0===G(B.END_TO_END,B,p.selectedRange)?B=p.explicitRange:(p.selectedRange=null,p.explicitRange=null)),B},setRng:function(p,f){var u=this,l,d,s;if(p){if(p.select){u.explicitRange=null;try{p.select()}catch(c){}}else{if(u.tridentSel){if(p.cloneRange){try{u.tridentSel.addRange(p)}catch(c){}}}else{if(l=u.getSel(),s=u.editor.fire("SetSelectionRange",{range:p}),p=s.range,l){u.explicitRange=p;try{l.removeAllRanges(),l.addRange(p)}catch(c){}f===!1&&l.extend&&(l.collapse(p.endContainer,p.endOffset),l.extend(p.startContainer,p.startOffset)),u.selectedRange=l.rangeCount>0?l.getRangeAt(0):null}p.collapsed||p.startContainer!=p.endContainer||!l.setBaseAndExtent||z.ie||p.endOffset-p.startOffset<2&&p.startContainer.hasChildNodes()&&(d=p.startContainer.childNodes[p.startOffset],d&&"IMG"==d.tagName&&(l.setBaseAndExtent(p.startContainer,p.startOffset,p.endContainer,p.endOffset),l.anchorNode===p.startContainer&&l.focusNode===p.endContainer||l.setBaseAndExtent(d,0,d,1))),u.editor.fire("AfterSetSelectionRange",{range:p})}}}},setNode:function(c){var a=this;return a.setContent(a.dom.getOuterHTML(c)),c},getNode:function(){function A(i,a){for(var l=i;i&&3===i.nodeType&&0===i.length;){i=a?i.nextSibling:i.previousSibling}return i||l}var C=this,f=C.getRng(),c,u,d,B,D,p=C.dom.getRoot();return f?(u=f.startContainer,d=f.endContainer,B=f.startOffset,D=f.endOffset,f.setStart?(c=f.commonAncestorContainer,!f.collapsed&&(u==d&&D-B<2&&u.hasChildNodes()&&(c=u.childNodes[B]),3===u.nodeType&&3===d.nodeType&&(u=u.length===B?A(u.nextSibling,!0):u.parentNode,d=0===D?A(d.previousSibling,!1):d.parentNode,u&&u===d))?u:c&&3==c.nodeType?c.parentNode:c):(c=f.item?f.item(0):f.parentElement(),c.ownerDocument!==C.win.document&&(c=p),c)):p},getSelectedBlocks:function(f,B){var u=this,e=u.dom,A,d,p=[];if(d=e.getRoot(),f=e.getParent(f||u.getStart(),e.isBlock),B=e.getParent(B||u.getEnd(),e.isBlock),f&&f!=d&&p.push(f),f&&B&&f!=B){A=f;for(var c=new t(f,d);(A=c.next())&&A!=B;){e.isBlock(A)&&p.push(A)}}return B&&f!=B&&B!=d&&p.push(B),p},isForward:function(){var d=this.dom,a=this.getSel(),f,c;return !(a&&a.anchorNode&&a.focusNode)||(f=d.createRng(),f.setStart(a.anchorNode,a.anchorOffset),f.collapse(!0),c=d.createRng(),c.setStart(a.focusNode,a.focusOffset),c.collapse(!0),f.compareBoundaryPoints(f.START_TO_START,c)<=0)},normalize:function(){var c=this,a=c.getRng();return z.range&&new m(c.dom).normalize(a)&&c.setRng(a,c.isForward()),a},selectorChanged:function(d,a){var f=this,c;return f.selectorChangedData||(f.selectorChangedData={},c={},f.editor.on("NodeChange",function(r){var p=r.element,n=f.dom,s=n.getParents(p,null,n.getRoot()),l={};v(f.selectorChangedData,function(o,i){v(s,function(e){if(n.is(e,i)){return c[i]||(v(o,function(u){u(!0,{node:e,selector:i,parents:s})}),c[i]=o),l[i]=o,!1}})}),v(c,function(i,o){l[o]||(delete c[o],v(i,function(u){u(!1,{node:p,selector:o,parents:s})}))})})),f.selectorChangedData[d]||(f.selectorChangedData[d]=[]),f.selectorChangedData[d].push(a),f},getScrollContainer:function(){for(var c,a=this.dom.getRoot();a&&"BODY"!=a.nodeName;){if(a.scrollHeight>a.clientHeight){c=a;break}a=a.parentNode}return c},scrollIntoView:function(E,I){function A(f){for(var c=0,i=0,d=f;d&&d.nodeType;){c+=d.offsetLeft||0,i+=d.offsetTop||0,d=d.offsetParent}return{x:c,y:i}}var a,C,p=this,J=p.dom,B=J.getRoot(),H,G,F=0;if(x.isElement(E)){if(I===!1&&(F=E.offsetHeight),"BODY"!=B.nodeName){var D=p.getScrollContainer();if(D){return a=A(E).y-A(D).y+F,G=D.clientHeight,H=D.scrollTop,void ((a<H||a+25>H+G)&&(D.scrollTop=a<H?a:a-G+25))}}C=J.getViewPort(p.editor.getWin()),a=J.getPos(E).y+F,H=C.y,G=C.h,(a<C.y||a+25>H+G)&&p.editor.getWin().scrollTo(0,a<H?a:a-G+25)}},placeCaretAt:function(c,a){this.setRng(m.getCaretRangeFromPoint(c,a,this.editor.getDoc()))},_moveEndPoint:function(e,p,f){var d=p,l=new t(p,d),c=this.dom.schema.getNonEmptyElements();do{if(3==p.nodeType&&0!==q(p.nodeValue).length){return void (f?e.setStart(p,0):e.setEnd(p,p.nodeValue.length))}if(c[p.nodeName]&&!/^(TD|TH)$/.test(p.nodeName)){return void (f?e.setStartBefore(p):"BR"==p.nodeName?e.setEndBefore(p):e.setEndAfter(p))}if(z.ie&&z.ie<11&&this.dom.isBlock(p)&&this.dom.isEmpty(p)){return void (f?e.setStart(p,0):e.setEnd(p,0))}}while(p=f?l.next():l.prev());"BODY"==d.nodeName&&(f?e.setStart(d,0):e.setEnd(d,d.childNodes.length))},getBoundingClientRect:function(){var a=this.getRng();return a.collapsed?y.fromRangeStart(a).getClientRects()[0]:a.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},w}),bD(b6,[bN,bK],function(c,a){function d(e){this.compare=function(j,g){function h(i){var k={};return b(e.getAttribs(i),function(m){var l=m.nodeName.toLowerCase();0!==l.indexOf("_")&&"style"!==l&&0!==l.indexOf("data-")&&(k[l]=e.getAttrib(i,l))}),k}function f(l,i){var m,k;for(k in l){if(l.hasOwnProperty(k)){if(m=i[k],"undefined"==typeof m){return !1}if(l[k]!=m){return !1}delete i[k]}}for(k in i){if(i.hasOwnProperty(k)){return !1}}return !0}return j.nodeName==g.nodeName&&(!!f(h(j),h(g))&&(!!f(e.parseStyle(e.getAttrib(j,"style")),e.parseStyle(e.getAttrib(g,"style")))&&(!c.isBookmarkNode(j)&&!c.isBookmarkNode(g))))}}var b=a.each;return d}),bD(co,[bx,bK,cD],function(h,m,d){function b(w,n){function u(i,a){a.classes.length&&k.addClass(i,a.classes.join(" ")),k.setAttribs(i,a.attrs)}function q(i){var a;return y="string"==typeof i?{name:i,classes:[],attrs:{}}:i,a=k.create(y.name),u(a,y),a}function z(s,C){var l="string"!=typeof s?s.nodeName.toLowerCase():s,a=v.getElementRule(l),B=a.parentsRequired;return !(!B||!B.length)&&(C&&m.inArray(B,C)!==-1?C:B[0])}function A(C,F,s){var o,a,E,D=F.length&&F[0],B=D&&D.name;if(E=z(C,B)){B==E?(a=F[0],F=F.slice(1)):a=E}else{if(D){a=F[0],F=F.slice(1)}else{if(!s){return C}}}return a&&(o=q(a),o.appendChild(C)),s&&(o||(o=k.create("div"),o.appendChild(C)),m.each(s,function(e){var i=q(e);o.insertBefore(i,C)})),A(o,F,a&&a.siblings)}var t,y,x,v=n&&n.schema||new d({});return w&&w.length?(y=w[0],t=q(y),x=k.create("div"),x.appendChild(A(t,w.slice(1),y.siblings)),x):""}function g(i,a){return b(j(i),a)}function c(i){var l,a={classes:[],attrs:{}};return i=a.selector=m.trim(i),"*"!==i&&(l=i.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(u,w,r,v,q){switch(w){case"#":a.attrs.id=r;break;case".":a.classes.push(r);break;case":":m.inArray("checked disabled enabled read-only required".split(" "),r)!==-1&&(a.attrs[r]=r)}if("["==v){var t=q.match(/([\w\-]+)(?:\=\"([^\"]+))?/);t&&(a.attrs[t[1]]=t[2])}return""})),a.name=l||"div",a}function j(a){return a&&"string"==typeof a?(a=a.split(/\s*,\s*/)[0],a=a.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),m.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),function(l){var o=m.map(l.split(/(?:~\+|~|\+)/),c),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[]}function p(v,y){function q(i){return i.replace(/%(\w+)/g,"")}var r,l,z,x,w="",u,a;if(a=v.settings.preview_styles,a===!1){return""}if("string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof y){if(y=v.formatter.get(y),!y){return}y=y[0]}return"preview" in y&&(a=y.preview,a===!1)?"":(r=y.block||y.inline||"span",x=j(y.selector),x.length?(x[0].name||(x[0].name=r),r=y.selector,l=b(x,v)):l=b([r],v),z=k.select(r,l)[0]||l.firstChild,f(y.styles,function(n,i){n=q(n),n&&k.setStyle(z,i,n)}),f(y.attributes,function(n,i){n=q(n),n&&k.setAttrib(z,i,n)}),f(y.classes,function(i){i=q(i),k.hasClass(z,i)||k.addClass(z,i)}),v.fire("PreviewFormats"),k.setStyles(l,{position:"absolute",left:-65535}),v.getBody().appendChild(l),u=k.getStyle(v.getBody(),"fontSize",!0),u=/px$/.test(u)?parseInt(u,10):0,f(a.split(" "),function(e){var i=k.getStyle(z,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(i)&&(i=k.getStyle(v.getBody(),e,!0),"#ffffff"==k.toHex(i).toLowerCase())||"color"==e&&"#000000"==k.toHex(i).toLowerCase())){if("font-size"==e&&/em|%$/.test(i)){if(0===u){return}i=parseFloat(i,10)/(/%$/.test(i)?100:1),i=i*u+"px"}"border"==e&&i&&(w+="padding:0 2px;"),w+=e+":"+i+";"}}),v.fire("AfterPreviewFormats"),k.remove(l),w)}var f=m.each,k=h.DOM;return{getCssText:p,parseSelector:j,selectorToHtml:g}}),bD(cv,[bR,b1,bS],function(h,d,k){function g(i,a){var l=j[i];l||(j[i]=l=[]),j[i].push(a)}function c(i,a){f(j[i],function(l){l(a)})}var j={},b=h.filter,f=h.each;return g("pre",function(n){function m(i){return e(i.previousSibling)&&h.indexOf(q,i.previousSibling)!=-1}function p(l,i){k(i).remove(),k(l).append("<br><br>").append(i.childNodes)}var a=n.selection.getRng(),e,q;e=d.matchNodeNames("pre"),a.collapsed||(q=n.selection.getSelectedBlocks(),f(b(b(q,e),m),function(i){p(i.previousSibling,i)}))}),{postProcess:c}}),bD(cq,[bu,cb,bN,b6,bs,bK,co,cv],function(h,d,k,g,c,j,b,f){return function(dH){function dD(l){return l.nodeType&&(l=l.nodeName),!!dH.schema.getTextBlockElements()[l.toLowerCase()]}function dO(l){return/^(TH|TD)$/.test(l.nodeName)}function dN(l){return l&&/^(IMG)$/.test(l.nodeName)}function dM(m,l){return bt.getParents(m,l,bt.getRoot())}function dF(l){return 1===l.nodeType&&"_mce_caret"===l.id}function dK(){dC({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(m,l,p){dk(p,function(q,u){bt.setAttrib(m,u,q)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),dk("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(l){dC(l,{block:l,remove:"all"})}),dC(dH.settings.formats)}function dG(){dH.addShortcut("meta+b","bold_desc","Bold"),dH.addShortcut("meta+i","italic_desc","Italic"),dH.addShortcut("meta+u","underline_desc","Underline");for(var l=1;l<=6;l++){dH.addShortcut("access+"+l,"",["FormatBlock",!1,"h"+l])}dH.addShortcut("access+7","",["FormatBlock",!1,"p"]),dH.addShortcut("access+8","",["FormatBlock",!1,"div"]),dH.addShortcut("access+9","",["FormatBlock",!1,"address"])}function dL(l){return l?c6[l]:c6}function dC(m,l){m&&("string"!=typeof m?dk(m,function(q,p){dC(p,q)}):(l=l.length?l:[l],dk(l,function(p){p.deep===dr&&(p.deep=!p.selector),p.split===dr&&(p.split=!p.selector||p.inline),p.remove===dr&&p.selector&&!p.inline&&(p.remove="none"),p.selector&&p.inline&&(p.mixed=!0,p.block_expand=!0),"string"==typeof p.classes&&(p.classes=p.classes.split(/\s+/))}),c6[m]=l))}function dx(l){return l&&c6[l]&&delete c6[l],c6}function dP(p,l){var q=dL(l);if(q){for(var m=0;m<q.length;m++){if(q[m].inherit===!1&&bt.is(p,q[m].selector)){return !0}}}return !1}function df(m){var l;return dH.dom.getParent(m,function(p){return l=dH.dom.getStyle(p,"text-decoration"),l&&"none"!==l}),l}function dz(m){var l;1===m.nodeType&&m.parentNode&&1===m.parentNode.nodeType&&(l=df(m.parentNode),dH.dom.getStyle(m,"color")&&l?dH.dom.setStyle(m,"text-decoration",l):dH.dom.getStyle(m,"text-decoration")===l&&dH.dom.setStyle(m,"text-decoration",null))}function dA(I,u,l){function x(y,v){if(v=v||A,y){if(v.onformat&&v.onformat(y,v,u,l),dk(v.styles,function(C,J){bt.setStyle(y,J,da(C,u))}),v.styles){var m=bt.getAttrib(y,"style");m&&y.setAttribute("data-mce-style",m)}dk(v.attributes,function(C,J){bt.setAttrib(y,J,da(C,u))}),dk(v.classes,function(C){C=da(C,u),bt.hasClass(y,C)||bt.addClass(y,C)})}}function q(v,m){var y=!1;return !!A.selector&&(dk(v,function(C){if(!("collapsed" in C&&C.collapsed!==H)){return bt.is(m,C.selector)&&!dF(m)?(x(m,C),y=!0,!1):void 0}}),y)}function G(){function y(M,N){var L=new h(N);for(l=L.prev2();l;l=L.prev2()){if(3==l.nodeType&&l.data.length>0){return l}if(l.childNodes.length>1||l==M||"BR"==l.tagName){return l}}}var K=dH.selection.getRng(),v=K.startContainer,J=K.endContainer;if(v!=J&&0===K.endOffset){var m=y(v,J),C=3==m.nodeType?m.data.length:m.childNodes.length;K.setEnd(m,C)}return K}function D(K,J,v){var C=[],m,L,y=!0;m=A.inline||A.block,L=bt.create(m),x(L),dQ.walk(K,function(O){function N(S){var R,Q,U,P;if(P=y,R=S.nodeName.toLowerCase(),Q=S.parentNode.nodeName.toLowerCase(),1===S.nodeType&&dg(S)&&(P=y,y="true"===dg(S),U=!0),dd(R,"br")){return M=0,void (A.block&&bt.remove(S))}if(A.wrapper&&dS(S,I,u)){return void (M=0)}if(y&&!U&&A.block&&!A.wrapper&&dD(R)&&o(Q,m)){return S=bt.rename(S,m),x(S),C.push(S),void (M=0)}if(A.selector){var T=q(B,S);if(!A.inline||T){return void (M=0)}}!y||U||!o(m,R)||!o(Q,m)||!v&&3===S.nodeType&&1===S.nodeValue.length&&65279===S.nodeValue.charCodeAt(0)||dF(S)||A.inline&&a(S)?(M=0,dk(dj(S.childNodes),N),U&&(y=P),M=0):(M||(M=bt.clone(L,dm),S.parentNode.insertBefore(M,S),C.push(M)),M.appendChild(S))}var M;dk(O,N)}),A.links===!0&&dk(C,function(N){function M(O){"A"===O.nodeName&&x(O,A),dk(dj(O.childNodes),M)}M(N)}),dk(C,function(Q){function P(U){var T=0;return dk(U.childNodes,function(V){dw(V)||dR(V)||T++}),T}function R(U){var T=!1;return dk(U.childNodes,function(V){if(c3(V)){return T=V,!1}}),T}function N(U,T){do{if(1!==P(U)){break}if(U=R(U),!U){break}if(T(U)){return U}}while(U);return null}function M(U){var T,V;return T=R(U),T&&!dR(T)&&dh(T,A)&&(V=bt.clone(T,dm),x(V),bt.replace(V,U,du),bt.remove(T,1)),V||U}var O;if(O=P(Q),(C.length>1||!a(Q))&&0===O){return void bt.remove(Q,1)}if(A.inline||A.wrapper){if(A.exact||1!==O||(Q=M(Q)),dk(B,function(T){dk(bt.select(T.inline,Q),function(U){dR(U)||dq(T,u,U,T.exact?U:null)})}),dS(Q.parentNode,I,u)&&dq(A,u,Q)&&(Q=0),A.merge_with_parents&&bt.getParent(Q.parentNode,function(T){if(dS(T,I,u)){return dq(A,u,Q)&&(Q=0),du}}),!a(Q)&&!c8(Q,"fontSize")){var S=N(Q,ct("fontSize"));S&&dA("fontsize",{value:c8(S,"fontSize")},Q)}Q&&A.merge_siblings!==!1&&(Q=i(dJ(Q),Q),Q=i(Q,dJ(Q,du)))}})}var B=dL(I),A=B[0],z,w,H=!l&&e.isCollapsed();if("false"!==dg(e.getNode())){if(A){if(l){l.nodeType?q(B,l)||(w=bt.createRng(),w.setStartBefore(l),w.setEndAfter(l),D(r(w,B),null,!0)):D(l,null,!0)}else{if(H&&A.inline&&!bt.select("td[data-mce-selected],th[data-mce-selected]").length){c5("apply",I,u)}else{var F=dH.selection.getNode();dy||!B[0].defaultBlock||bt.getParent(F,bt.isBlock)||dA(B[0].defaultBlock),dH.selection.setRng(G()),z=e.getBookmark(),D(r(e.getRng(du),B),z),A.styles&&((A.styles.color||A.styles.textDecoration)&&(dn(F,dz,"childNodes"),dz(F)),A.styles.backgroundColor&&c4(F,ct("fontSize"),c1("backgroundColor",da(A.styles.backgroundColor,u)))),e.moveToBookmark(z),c9(e.getRng(du)),dH.nodeChanged()}}f.postProcess(I,dH)}}else{l=e.getNode();for(var E=0,p=B.length;E<p;E++){if(B[E].ceFalseOverride&&bt.is(l,B[E].selector)){return void x(l,B[E])}}}}function db(D,L,z,l){function B(v){var y,u,x,m,p;if(1===v.nodeType&&dg(v)&&(m=G,G="true"===dg(v),p=!0),y=dj(v.childNodes),G&&!p){for(u=0,x=q.length;u<x&&!dq(q[u],L,v,v);u++){}}if(C.deep&&y.length){for(u=0,x=y.length;u<x;u++){B(y[u])}p&&(G=m)}}function w(p){var m;return dk(dM(p.parentNode).reverse(),function(v){var u;m||"_start"==v.id||"_end"==v.id||(u=dS(v,D,L,l),u&&u.split!==!1&&(m=v))}),m}function I(N,v,m,y){var p,P,R,x,Q,O;if(N){for(O=N.parentNode,p=v.parentNode;p&&p!=O;p=p.parentNode){for(P=bt.clone(p,dm),Q=0;Q<q.length;Q++){if(dq(q[Q],L,P,P)){P=0;break}}P&&(R&&P.appendChild(R),x||(x=P),R=P)}!y||C.mixed&&a(N)||(v=bt.split(N,v)),R&&(m.parentNode.insertBefore(R,m),x.appendChild(m))}return v}function M(m){return I(w(m),m,m,!0)}function K(p){var m=bt.get(p?"_start":"_end"),u=m[p?"firstChild":"lastChild"];return dR(u)&&(u=u[p?"firstChild":"lastChild"]),3==u.nodeType&&0===u.data.length&&(u=p?m.previousSibling||m.nextSibling:m.nextSibling||m.previousSibling),bt.remove(m,!0),u}function E(u){var m,v,p=u.commonAncestorContainer;if(u=r(u,q,du),C.split){if(m=n(u,du),v=n(u),m!=v){if(/^(TR|TH|TD)$/.test(m.nodeName)&&m.firstChild&&(m="TR"==m.nodeName?m.firstChild.firstChild||m:m.firstChild||m),p&&/^T(HEAD|BODY|FOOT|R)$/.test(p.nodeName)&&dO(v)&&v.firstChild&&(v=v.firstChild||v),bt.isChildOf(m,v)&&!a(v)&&!dO(m)&&!dO(v)){return m=t(m,"span",{id:"_start","data-mce-type":"bookmark"}),M(m),void (m=K(du))}m=t(m,"span",{id:"_start","data-mce-type":"bookmark"}),v=t(v,"span",{id:"_end","data-mce-type":"bookmark"}),M(m),M(v),m=K(du),v=K()}else{m=v=M(m)}u.startContainer=m.parentNode?m.parentNode:m,u.startOffset=dt(m),u.endContainer=v.parentNode?v.parentNode:v,u.endOffset=dt(v)+1}dQ.walk(u,function(x){dk(x,function(y){B(y),1===y.nodeType&&"underline"===dH.dom.getStyle(y,"text-decoration")&&y.parentNode&&"underline"===df(y.parentNode)&&dq({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,y)})})}var q=dL(D),C=q[0],A,J,G=!0;if(z){return void (z.nodeType?(J=bt.createRng(),J.setStartBefore(z),J.setEndAfter(z),E(J)):E(z))}if("false"!==dg(e.getNode())){e.isCollapsed()&&C.inline&&!bt.select("td[data-mce-selected],th[data-mce-selected]").length?c5("remove",D,L,l):(A=e.getBookmark(),E(e.getRng(du)),e.moveToBookmark(A),C.inline&&at(D,L,e.getStart())&&c9(e.getRng(!0)),dH.nodeChanged())}else{z=e.getNode();for(var F=0,H=q.length;F<H&&(!q[F].ceFalseOverride||!dq(q[F],L,z,z));F++){}}}function c2(p,l,q){var m=dL(p);!at(p,l,q)||"toggle" in m[0]&&!m[0].toggle?dA(p,l,q):db(p,l,q)}function dS(w,y,q,m){function v(F,D,C){var G,B,E=D[C],A;if(D.onmatch){return D.onmatch(F,D,C)}if(E){if(E.length===dr){for(G in E){if(E.hasOwnProperty(G)){if(B="attributes"===C?bt.getAttrib(F,G):c8(F,G),m&&!B&&!D.exact){return}if((!m||D.exact)&&!dd(B,c7(da(E[G],q),G))){return}}}}else{for(A=0;A<E.length;A++){if("attributes"===C?bt.getAttrib(F,E[A]):c8(F,E[A])){return D}}}}return D}var p=dL(y),x,z,u;if(p&&w){for(z=0;z<p.length;z++){if(x=p[z],dh(w,x)&&v(w,x,"attributes")&&v(w,x,"styles")){if(u=x.classes){for(z=0;z<u.length;z++){if(!bt.hasClass(w,u[z])){return}}}return x}}}}function at(q,m,u){function p(w){var v=bt.getRoot();return w!==v&&(w=bt.getParent(w,function(x){return !!dP(x,q)||(x.parentNode===v||!!dS(x,q,m,!0))}),dS(w,q,m))}var l;return u?p(u):(u=e.getNode(),p(u)?du:(l=e.getStart(),l!=u&&p(l)?du:dm))}function dI(q,m){var u,p=[],l={};return u=e.getStart(),bt.getParent(u,function(x){var w,v;for(w=0;w<q.length;w++){v=q[w],!l[v]&&dS(x,v,m)&&(l[v]=!0,p.push(v))}},bt.getRoot()),p}function an(u){var p=dL(u),w,q,m,v,l;if(p){for(w=e.getStart(),q=dM(w),v=p.length-1;v>=0;v--){if(l=p[v].selector,!l||p[v].defaultBlock){return du}for(m=q.length-1;m>=0;m--){if(bt.is(q[m],l)){return du}}}}return dm}function be(p,l,q){var m;return dB||(dB={},m={},dH.on("NodeChange",function(v){var u=dM(v.element),w={};u=j.grep(u,function(x){return 1==x.nodeType&&!x.getAttribute("data-mce-bogus")}),dk(dB,function(y,x){dk(u,function(z){return dS(z,x,{},y.similar)?(m[x]||(dk(y,function(A){A(!0,{node:z,format:x,parents:u})}),m[x]=y),w[x]=y,!1):!dP(z,x)&&void 0})}),dk(m,function(x,y){w[y]||(delete m[y],dk(x,function(z){z(!1,{node:v.element,format:y,parents:u})}))})})),dk(p.split(","),function(u){dB[u]||(dB[u]=[],dB[u].similar=q),dB[u].push(l)}),this}function di(l){return b.getCssText(dH,l)}function dh(m,l){return dd(m,l.inline)?du:dd(m,l.block)?du:l.selector?1==m.nodeType&&bt.is(m,l.selector):void 0}function dd(m,l){return m=m||"",l=l||"",m=""+(m.nodeName||m),l=""+(l.nodeName||l),m.toLowerCase()==l.toLowerCase()}function c4(m,l,p){dk(m.childNodes,function(q){c3(q)&&(l(q)&&p(q),q.hasChildNodes()&&c4(q,l,p))})}function c3(l){return 1==l.nodeType&&!dR(l)&&!dw(l)&&!dF(l)}function ct(l){return c.curry(function(p,m){return !(!m||!c8(m,p))},l)}function c1(m,l){return c.curry(function(q,p,u){bt.setStyle(u,q,p)},m,l)}function c8(m,l){return c7(bt.getStyle(m,l),l)}function c7(m,l){return"color"!=l&&"backgroundColor"!=l||(m=bt.toHex(m)),"fontWeight"==l&&700==m&&(m="bold"),"fontFamily"==l&&(m=m.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+m}function da(m,l){return"string"!=typeof m?m=m(l):l&&(m=m.replace(/%(\w+)/g,function(p,q){return l[q]||p})),m}function dw(l){return l&&3===l.nodeType&&/^([\t \r\n]+|)$/.test(l.nodeValue)}function t(p,l,q){var m=bt.create(l,q);return p.parentNode.insertBefore(m,p),m.appendChild(p),m}function r(I,w,l){function z(L){function v(N){return"BR"==N.nodeName&&N.getAttribute("data-mce-bogus")&&!N.nextSibling}var K,p,M,m,y;if(K=p=L?B:F,m=L?"previousSibling":"nextSibling",y=bt.getRoot(),3==K.nodeType&&!dw(K)&&(L?H>0:E<K.nodeValue.length)){return K}for(;;){if(!w[0].block_expand&&a(p)){return p}for(M=p[m];M;M=M[m]){if(!dR(M)&&!dw(M)&&!v(M)){return p}}if(p==y||p.parentNode==y){K=p;break}p=p.parentNode}return K}function u(p,m){for(m===dr&&(m=3===p.nodeType?p.length:p.childNodes.length);p&&p.hasChildNodes();){p=p.childNodes[m],p&&(m=3===p.nodeType?p.length:p.childNodes.length)}return{node:p,offset:m}}function G(p){for(var m=p;m;){if(1===m.nodeType&&dg(m)){return"false"===dg(m)?m:p}m=m.parentNode}return p}function J(y,N,v){function L(Q,P){var S,R,O=Q.nodeValue;return"undefined"==typeof P&&(P=v?O.length:0),v?(S=O.lastIndexOf(" ",P),R=O.lastIndexOf("\xa0",P),S=S>R?S:R,S===-1||l||S++):(S=O.indexOf(" ",P),R=O.indexOf("\xa0",P),S=S!==-1&&(R===-1||S<R)?S:R),S}var m,K,p,M;if(3===y.nodeType){if(p=L(y,N),p!==-1){return{container:y,offset:p}}M=y}for(m=new h(y,bt.getParent(y,a)||dH.getBody());K=m[v?"prev":"next"]();){if(3===K.nodeType){if(M=K,p=L(K),p!==-1){return{container:K,offset:p}}}else{if(a(K)){break}}}if(M){return N=v?0:M.length,{container:M,offset:N}}}function D(K,y){var p,L,m,v;for(3==K.nodeType&&0===K.nodeValue.length&&K[y]&&(K=K[y]),p=dM(K),L=0;L<p.length;L++){for(m=0;m<w.length;m++){if(v=w[m],!("collapsed" in v&&v.collapsed!==I.collapsed)&&bt.is(p[L],v.selector)){return p[L]}}}return K}function C(y,p){var v,m=bt.getRoot();if(w[0].wrapper||(v=bt.getParent(y,w[0].block,m)),v||(v=bt.getParent(3==y.nodeType?y.parentNode:y,function(K){return K!=m&&dD(K)})),v&&w[0].wrapper&&(v=dM(v,"ul,ol").reverse()[0]||v),!v){for(v=y;v[p]&&!a(v[p])&&(v=v[p],!dd(v,"br"));){}}return v||y}var q,A,x,B=I.startContainer,H=I.startOffset,F=I.endContainer,E=I.endOffset;if(1==B.nodeType&&B.hasChildNodes()&&(q=B.childNodes.length-1,B=B.childNodes[H>q?q:H],3==B.nodeType&&(H=0)),1==F.nodeType&&F.hasChildNodes()&&(q=F.childNodes.length-1,F=F.childNodes[E>q?q:E-1],3==F.nodeType&&(E=F.nodeValue.length)),B=G(B),F=G(F),(dR(B.parentNode)||dR(B))&&(B=dR(B)?B:B.parentNode,B=B.nextSibling||B,3==B.nodeType&&(H=0)),(dR(F.parentNode)||dR(F))&&(F=dR(F)?F:F.parentNode,F=F.previousSibling||F,3==F.nodeType&&(E=F.length)),w[0].inline&&(I.collapsed&&(x=J(B,H,!0),x&&(B=x.container,H=x.offset),x=J(F,E),x&&(F=x.container,E=x.offset)),A=u(F,E),A.node)){for(;A.node&&0===A.offset&&A.node.previousSibling;){A=u(A.node.previousSibling)}A.node&&A.offset>0&&3===A.node.nodeType&&" "===A.node.nodeValue.charAt(A.offset-1)&&A.offset>1&&(F=A.node,F.splitText(A.offset-1))}return(w[0].inline||w[0].block_expand)&&(w[0].inline&&3==B.nodeType&&0!==H||(B=z(!0)),w[0].inline&&3==F.nodeType&&E!==F.nodeValue.length||(F=z())),w[0].selector&&w[0].expand!==dm&&!w[0].inline&&(B=D(B,"previousSibling"),F=D(F,"nextSibling")),(w[0].block||w[0].selector)&&(B=C(B,"previousSibling"),F=C(F,"nextSibling"),w[0].block&&(a(B)||(B=z(!0)),a(F)||(F=z()))),1==B.nodeType&&(H=dt(B),B=B.parentNode),1==F.nodeType&&(E=dt(F)+1,F=F.parentNode),{startContainer:B,startOffset:H,endContainer:F,endOffset:E}}function s(m,l){return l.links&&"A"==m.tagName}function dq(v,p,x,u){var m,w,l;if(!dh(x,v)&&!s(x,v)){return dm}if("all"!=v.remove){for(dk(v.styles,function(y,z){y=c7(da(y,p),z),"number"==typeof z&&(z=y,u=0),(v.remove_similar||!u||dd(c8(u,z),y))&&bt.setStyle(x,z,""),l=1}),l&&""===bt.getAttrib(x,"style")&&(x.removeAttribute("style"),x.removeAttribute("data-mce-style")),dk(v.attributes,function(z,y){var A;if(z=da(z,p),"number"==typeof y&&(y=z,u=0),!u||dd(bt.getAttrib(u,y),z)){if("class"==y&&(z=bt.getAttrib(x,y),z&&(A="",dk(z.split(/\s+/),function(B){/mce\-\w+/.test(B)&&(A+=(A?" ":"")+B)}),A))){return void bt.setAttrib(x,y,A)}"class"==y&&x.removeAttribute("className"),dc.test(y)&&x.removeAttribute("data-mce-"+y),x.removeAttribute(y)}}),dk(v.classes,function(y){y=da(y,p),u&&!bt.hasClass(u,y)||bt.removeClass(x,y)}),w=bt.getAttribs(x),m=0;m<w.length;m++){var q=w[m].nodeName;if(0!==q.indexOf("_")&&0!==q.indexOf("data-")){return dm}}}return"none"!=v.remove?(dE(x,v),du):void 0}function dE(q,m){function u(w,v,x){return w=dJ(w,v,x),!w||"BR"==w.nodeName||a(w)}var p=q.parentNode,l;m.block&&(dy?p==bt.getRoot()&&(m.list_block&&dd(q,m.list_block)||dk(dj(q.childNodes),function(v){o(dy,v.nodeName.toLowerCase())?l?l.appendChild(v):(l=t(v,dy),bt.setAttribs(l,dH.settings.forced_root_block_attrs)):l=0})):a(q)&&!a(p)&&(u(q,dm)||u(q.firstChild,du,1)||q.insertBefore(bt.create("br"),q.firstChild),u(q,du)||u(q.lastChild,dm,1)||q.appendChild(bt.create("br")))),m.selector&&m.inline&&!dd(m.inline,q)||bt.remove(q,1)}function dJ(m,l,p){if(m){for(l=l?"nextSibling":"previousSibling",m=p?m:m[l];m;m=m[l]){if(1==m.nodeType||!dw(m)){return m}}}}function i(q,p){function v(x,w){for(m=x;m;m=m[w]){if(3==m.nodeType&&0!==m.nodeValue.length){return x}if(1==m.nodeType&&!dR(m)){return m}}return x}var m,u,l=new g(bt);if(q&&p&&(q=v(q,"previousSibling"),p=v(p,"nextSibling"),l.compare(q,p))){for(m=q.nextSibling;m&&m!=p;){u=m,m=m.nextSibling,q.appendChild(u)}return bt.remove(p),dk(dj(p.childNodes),function(w){q.appendChild(w)}),q}return p}function n(m,u){var p,l,q;return p=m[u?"startContainer":"endContainer"],l=m[u?"startOffset":"endOffset"],1==p.nodeType&&(q=p.childNodes.length-1,!u&&l&&l--,p=p.childNodes[l>q?q:l]),3===p.nodeType&&u&&l>=p.nodeValue.length&&(p=new h(p,dH.getBody()).next()||p),3!==p.nodeType||u||0!==l||(p=new h(p,dH.getBody()).prev()||p),p}function c5(F,w,l,y){function u(p){var m=bt.create("span",{id:x,"data-mce-bogus":!0,style:E?"color:red":""});return p&&m.appendChild(dH.getDoc().createTextNode(dv)),m}function D(p,m){for(;p;){if(3===p.nodeType&&p.nodeValue!==dv||p.childNodes.length>1){return !1}m&&1===p.nodeType&&m.push(p),p=p.firstChild}return !0}function G(m){for(;m;){if(m.id===x){return m}m=m.parentNode}}function C(m){var p;if(m){for(p=new h(m,m),m=p.current();m;m=p.next()){if(3===m.nodeType){return m}}}}function B(v,m){var H,p;if(v){p=e.getRng(!0),D(v)?(m!==!1&&(p.setStartBefore(v),p.setEndBefore(v)),bt.remove(v)):(H=C(v),H.nodeValue.charAt(0)===dv&&(H.deleteData(0,1),p.startContainer==H&&p.startOffset>0&&p.setStart(H,p.startOffset-1),p.endContainer==H&&p.endOffset>0&&p.setEnd(H,p.endOffset-1)),bt.remove(v,1)),e.setRng(p)}else{if(v=G(e.getStart()),!v){for(;v=bt.get(x);){B(v,!1)}}}}function A(){var K,I,H,p,m,v,L;K=e.getRng(!0),p=K.startOffset,v=K.startContainer,L=v.nodeValue,I=G(e.getStart()),I&&(H=C(I));var J=/[^\s\u00a0\u00ad\u200b\ufeff]/;L&&p>0&&p<L.length&&J.test(L.charAt(p))&&J.test(L.charAt(p-1))?(m=e.getBookmark(),K.collapse(!0),K=r(K,dL(w)),K=dQ.split(K),dA(w,l,K),e.moveToBookmark(m)):(I&&H.nodeValue===dv?dA(w,l,I):(I=u(!0),H=I.firstChild,K.insertNode(I),p=1,dA(w,l,I)),e.setCursorLocation(H,p))}function q(){var L=e.getRng(!0),P,O,Q,I,N,M,K=[],v,J;for(P=L.startContainer,O=L.startOffset,N=P,3==P.nodeType&&(O!=P.nodeValue.length&&(I=!0),N=N.parentNode);N;){if(dS(N,w,l,y)){M=N;break}N.nextSibling&&(I=!0),K.push(N),N=N.parentNode}if(M){if(I){Q=e.getBookmark(),L.collapse(!0),L=r(L,dL(w),!0),L=dQ.split(L),db(w,l,L),e.moveToBookmark(Q)}else{for(J=u(),N=J,v=K.length-1;v>=0;v--){N.appendChild(bt.clone(K[v],!1)),N=N.firstChild}N.appendChild(bt.doc.createTextNode(dv)),N=N.firstChild;var H=bt.getParent(M,dD);H&&bt.isEmpty(H)?M.parentNode.replaceChild(J,M):bt.insertAfter(J,M),e.setCursorLocation(N,1),bt.isEmpty(M)&&bt.remove(M)}}}function z(){var m;m=G(e.getStart()),m&&!bt.isEmpty(m)&&dn(m,function(p){1!=p.nodeType||p.id===x||bt.isEmpty(p)||bt.setAttrib(p,"data-mce-bogus",null)},"childNodes")}var x="_mce_caret",E=dH.settings.caret_debug;dH._hasCaretEvents||(dl=function(){var p=[],m;if(D(G(e.getStart()),p)){for(m=p.length;m--;){bt.setAttrib(p[m],"data-mce-bogus","1")}}},ds=function(p){var m=p.keyCode;B(),8==m&&e.isCollapsed()&&e.getStart().innerHTML==dv&&B(G(e.getStart())),37!=m&&39!=m||B(G(e.getStart())),z()},dH.on("SetContent",function(m){m.selection&&z()}),dH._hasCaretEvents=!0),"apply"==F?A():q()}function c9(u){var y=u.startContainer,w=u.startOffset,q,x,p,v,m;if((u.startContainer!=u.endContainer||!dN(u.startContainer.childNodes[u.startOffset]))&&(3==y.nodeType&&w>=y.nodeValue.length&&(w=dt(y),y=y.parentNode,q=!0),1==y.nodeType)){for(v=y.childNodes,y=v[Math.min(w,v.length-1)],x=new h(y,bt.getParent(y,bt.isBlock)),(w>v.length-1||q)&&x.next(),p=x.current();p;p=x.next()){if(3==p.nodeType&&!dw(p)){return m=bt.create("a",{"data-mce-bogus":"all"},dv),p.parentNode.insertBefore(m,p),u.setStart(p,0),e.setRng(u),void bt.remove(m)}}}}var c6={},bt=dH.dom,e=dH.selection,dQ=new d(bt),o=dH.schema.isValidChild,a=bt.isBlock,dy=dH.settings.forced_root_block,dt=bt.nodeIndex,dv="\ufeff",dc=/^(src|href|style)$/,dm=!1,du=!0,dB,dr,dg=bt.getContentEditable,ds,dl,dR=k.isBookmarkNode,dk=j.each,dj=j.grep,dn=j.walk,dp=j.extend;dp(this,{get:dL,register:dC,unregister:dx,apply:dA,remove:db,toggle:c2,match:at,matchAll:dI,matchNode:dS,canApply:an,formatChanged:be,getCssText:di}),dK(),dG(),dH.on("BeforeGetContent",function(l){dl&&"raw"!=l.format&&dl()}),dH.on("mouseup keydown",function(l){ds&&ds(l)})}}),bD(ch,[],function(){var c=0,a=1,d=2,b=function(e,j){var g=e.length+j.length+2,p=new Array(g),t=new Array(g),h=function(i,f,l){return{start:i,end:f,diag:l}},q=function(r,z,A,v,y){var x=m(r,z,A,v);if(null===x||x.start===z&&x.diag===z-v||x.end===r&&x.diag===r-A){for(var i=r,w=A;i<z||w<v;){i<z&&w<v&&e[i]===j[w]?(y.push([c,e[i]]),++i,++w):z-r>v-A?(y.push([d,e[i]]),++i):(y.push([a,j[w]]),++w)}}else{q(r,x.start,A,x.start-x.diag,y);for(var u=x.start;u<x.end;++u){y.push([c,e[u]])}q(x.end,z,x.end-x.diag,v,y)}},n=function(l,i,s,r){for(var f=l;f-i<r&&f<s&&e[f]===j[f-i];){++f}return h(l,f,i)},m=function(C,H,s,r){var x=H-C,G=r-s;if(0===x||0===G){return null}var D=x-G,B=G+x,i=(B%2===0?B:B+1)/2;p[1+i]=C,t[1+i]=H+1;for(var z=0;z<=i;++z){for(var w=-z;w<=z;w+=2){var A=w+i;w===-z||w!=z&&p[A-1]<p[A+1]?p[A]=p[A+1]:p[A]=p[A-1]+1;for(var F=p[A],E=F-C+s-w;F<H&&E<r&&e[F]===j[E];){p[A]=++F,++E}if(D%2!=0&&D-z<=w&&w<=D+z&&t[A-D]<=p[A]){return n(t[A-D],w+C-s,H,r)}}for(w=D-z;w<=D+z;w+=2){for(A=w+i-D,w===D-z||w!=D+z&&t[A+1]<=t[A-1]?t[A]=t[A+1]-1:t[A]=t[A-1],F=t[A]-1,E=F-C+s-w;F>=C&&E>=s&&e[F]===j[E];){t[A]=F--,E--}if(D%2===0&&-z<=w&&w<=z&&t[A]<=p[A+D]){return n(t[A],w+C-s,H,r)}}}},k=[];return q(0,e.length,0,j.length,k),k};return{KEEP:c,DELETE:d,INSERT:a,diff:b}}),bD(b3,[bR,cC,ch],function(h,m,d){var b=function(a){return 1===a.nodeType?a.outerHTML:3===a.nodeType?m.encodeRaw(a.data,!1):8===a.nodeType?"<!--"+a.data+"-->":""},g=function(l){var a,o,i;for(i=document.createElement("div"),a=document.createDocumentFragment(),l&&(i.innerHTML=l);o=i.firstChild;){a.appendChild(o)}return a},c=function(l,a,s){var i=g(a);if(l.hasChildNodes()&&s<l.childNodes.length){var q=l.childNodes[s];q.parentNode.insertBefore(i,q)}else{l.appendChild(i)}},j=function(i,a){if(i.hasChildNodes()&&a<i.childNodes.length){var l=i.childNodes[a];l.parentNode.removeChild(l)}},p=function(e,l){var a=0;h.each(e,function(i){i[0]===d.KEEP?a++:i[0]===d.INSERT?(c(l,i[1],a),a++):i[0]===d.DELETE&&j(l,a)})},f=function(a){return h.map(a.childNodes,b)},k=function(e,a){var l=h.map(a.childNodes,b);return p(d.diff(l,e),a),a};return{read:f,write:k}}),bD(bg,[bR,b3],function(h,k){var d=function(a){return a.indexOf("</iframe>")!==-1},b=function(a){return{type:"fragmented",fragments:a,content:"",bookmark:null,beforeBookmark:null}},g=function(a){return{type:"complete",fragments:null,content:a,bookmark:null,beforeBookmark:null}},c=function(p){var i,n,e;return i=k.read(p.getBody()),e=h.map(i,function(a){return p.serializer.trimContent(a)}),n=e.join(""),d(n)?b(e):g(n)},j=function(i,l,a){"fragmented"===l.type?k.write(l.fragments,i.getBody()):i.setContent(l.content,{format:"raw"}),i.selection.moveToBookmark(a?l.beforeBookmark:l.bookmark)},m=function(a){return"fragmented"===a.type?a.fragments.join(""):a.content},f=function(i,a){return m(i)===m(a)};return{createFragmentedLevel:b,createCompleteLevel:g,createFromEditor:c,applyToEditor:j,isEq:f}}),bD(aO,[cs,bK,bg],function(b,a,c){return function(k){function f(d){k.setDirty(d)}function j(d){p.typing=!1,p.add({},d)}function g(){p.typing&&(p.typing=!1,p.add())}var p=this,t=0,h=[],q,n,m=0;return k.on("init",function(){p.add()}),k.on("BeforeExecCommand",function(i){var d=i.command;"Undo"!==d&&"Redo"!==d&&"mceRepaint"!==d&&(g(),p.beforeChange())}),k.on("ExecCommand",function(i){var d=i.command;"Undo"!==d&&"Redo"!==d&&"mceRepaint"!==d&&j(i)}),k.on("ObjectResizeStart Cut",function(){p.beforeChange()}),k.on("SaveContent ObjectResized blur",j),k.on("DragEnd",j),k.on("KeyUp",function(d){var e=d.keyCode;d.isDefaultPrevented()||((e>=33&&e<=36||e>=37&&e<=40||45===e||d.ctrlKey)&&(j(),k.nodeChanged()),46!==e&&8!==e||k.nodeChanged(),n&&p.typing&&(k.isDirty()||(f(h[0]&&!c.isEq(c.createFromEditor(k),h[0])),k.isDirty()&&k.fire("change",{level:h[0],lastLevel:null})),k.fire("TypingUndo"),n=!1,k.nodeChanged()))}),k.on("KeyDown",function(i){var d=i.keyCode;if(!i.isDefaultPrevented()){if(d>=33&&d<=36||d>=37&&d<=40||45===d){return void (p.typing&&j(i))}var l=i.ctrlKey&&!i.altKey||i.metaKey;!(d<16||d>20)||224===d||91===d||p.typing||l||(p.beforeChange(),p.typing=!0,p.add({},i),n=!0)}}),k.on("MouseDown",function(d){p.typing&&j(d)}),k.addShortcut("meta+z","","Undo"),k.addShortcut("meta+y,meta+shift+z","","Redo"),k.on("AddUndo Undo Redo ClearUndos",function(d){d.isDefaultPrevented()||k.nodeChanged()}),p={data:h,typing:!1,beforeChange:function(){m||(q=k.selection.getBookmark(2,!0))},add:function(e,u){var d,v=k.settings,r,s;if(s=c.createFromEditor(k),e=e||{},e=a.extend(e,s),m||k.removed){return null}if(r=h[t],k.fire("BeforeAddUndo",{level:e,lastLevel:r,originalEvent:u}).isDefaultPrevented()){return null}if(r&&c.isEq(r,e)){return null}if(h[t]&&(h[t].beforeBookmark=q),v.custom_undo_redo_levels&&h.length>v.custom_undo_redo_levels){for(d=0;d<h.length-1;d++){h[d]=h[d+1]}h.length--,t=h.length}e.bookmark=k.selection.getBookmark(2,!0),t<h.length-1&&(h.length=t+1),h.push(e),t=h.length-1;var l={level:e,lastLevel:r,originalEvent:u};return k.fire("AddUndo",l),t>0&&(f(!0),k.fire("change",l)),e},undo:function(){var d;return p.typing&&(p.add(),p.typing=!1),t>0&&(d=h[--t],c.applyToEditor(k,d,!0),f(!0),k.fire("undo",{level:d})),d},redo:function(){var d;return t<h.length-1&&(d=h[++t],c.applyToEditor(k,d,!1),f(!0),k.fire("redo",{level:d})),d},clear:function(){h=[],t=0,p.typing=!1,p.data=h,k.fire("ClearUndos")},hasUndo:function(){return t>0||p.typing&&h[0]&&!c.isEq(c.createFromEditor(k),h[0])},hasRedo:function(){return t<h.length-1&&!p.typing},transact:function(d){g(),p.beforeChange();try{m++,d()}finally{m--}return p.add()},extra:function(e,l){var d,s;p.transact(e)&&(s=h[t].bookmark,d=h[t-1],c.applyToEditor(k,d,!0),p.transact(l)&&(h[t-1].beforeBookmark=s))}}}}),bD(cG,[bu,cb,bM,bW],function(d,b,f,c){var a=c.ie&&c.ie<11;return function(g){function m(da){function c7(v){return v&&q.isBlock(v)&&!/^(TD|TH|CAPTION|FORM)$/.test(v.nodeName)&&!/^(fixed|absolute)/i.test(v.style.position)&&"true"!==q.getContentEditable(v)}function c5(v){return v&&/^(TD|TH|CAPTION)$/.test(v.nodeName)}function c8(w){var v;q.isBlock(w)&&(v=h.getRng(),w.appendChild(q.create("span",null,"\xa0")),h.select(w),w.lastChild.outerHTML="",h.setRng(v))}function bt(x){var v=x,y=[],w;if(v){for(;v=v.firstChild;){if(q.isBlock(v)){return}1!=v.nodeType||i[v.nodeName.toLowerCase()]||y.push(v)}for(w=y.length;w--;){v=y[w],!v.hasChildNodes()||v.firstChild==v.lastChild&&""===v.firstChild.nodeValue?q.remove(v):"A"==v.nodeName&&" "===(v.innerText||v.textContent)&&q.remove(v)}}}function Z(y){function C(D){for(;D;){if(1==D.nodeType||3==D.nodeType&&D.data&&/[\r\n\s]/.test(D.data)){return D}D=D.nextSibling}}var x,A,v,w=y,B;if(y){if(c.ie&&c.ie<9&&G&&G.firstChild&&G.firstChild==G.lastChild&&"BR"==G.firstChild.tagName&&q.remove(G.firstChild),/^(LI|DT|DD)$/.test(y.nodeName)){var z=C(y.firstChild);z&&/^(UL|OL|DL)$/.test(z.nodeName)&&y.insertBefore(q.doc.createTextNode("\xa0"),y.firstChild)}if(v=q.createRng(),c.ie||y.normalize(),y.hasChildNodes()){for(x=new d(y,y);A=x.current();){if(3==A.nodeType){v.setStart(A,0),v.setEnd(A,0);break}if(e[A.nodeName.toLowerCase()]){v.setStartBefore(A),v.setEndBefore(A);break}w=A,A=x.next()}A||(v.setStart(w,0),v.setEnd(w,0))}else{"BR"==y.nodeName?y.nextSibling&&q.isBlock(y.nextSibling)?((!J||J<9)&&(B=q.create("br"),y.parentNode.insertBefore(B,y)),v.setStartBefore(y),v.setEndBefore(y)):(v.setStartAfter(y),v.setEndAfter(y)):(v.setStart(y,0),v.setEnd(y,0))}h.setRng(v),q.remove(B),h.scrollIntoView(y)}}function c9(w){var v=n.forced_root_block;v&&v.toLowerCase()===w.tagName.toLowerCase()&&q.setAttribs(w,n.forced_root_block_attrs)}function c2(v){v.innerHTML=a?"":'<br data-mce-bogus="1">'}function an(y){var w=X,A,x,z,v=j.getTextInlineElements();if(y||"TABLE"==p?(A=q.create(y||o),c9(A)):A=G.cloneNode(!1),z=A,n.keep_styles!==!1){do{if(v[w.nodeName]){if("_mce_caret"==w.id){continue}x=w.cloneNode(!1),q.setAttrib(x,"id",""),A.hasChildNodes()?(x.appendChild(A.firstChild),A.appendChild(x)):(z=x,A.appendChild(x))}}while((w=w.parentNode)&&w!=c1)}return a||(z.innerHTML='<br data-mce-bogus="1">'),A}function be(w){var y,x,v;if(3==X.nodeType&&(w?Q>0:Q<X.nodeValue.length)){return !1}if(X.parentNode==G&&s&&!w){return !0}if(w&&1==X.nodeType&&X==G.firstChild){return !0}if("TABLE"===X.nodeName||X.previousSibling&&"TABLE"==X.previousSibling.nodeName){return s&&!w||!s&&w}for(y=new d(X,G),3==X.nodeType&&(w&&0===Q?y.prev():w||Q!=X.nodeValue.length||y.next());x=y.current();){if(1===x.nodeType){if(!x.getAttribute("data-mce-bogus")&&(v=x.nodeName.toLowerCase(),i[v]&&"br"!==v)){return !1}}else{if(3===x.nodeType&&!/^[ \t\r\n]*$/.test(x.nodeValue)){return !1}}w?y.prev():y.next()}return !0}function ct(z,D){var w,v,y,B,x,C,A=o||"P";if(v=q.getParent(z,q.isBlock),!v||!c7(v)){if(v=v||c1,C=v==g.getBody()||c5(v)?v.nodeName.toLowerCase():v.parentNode.nodeName.toLowerCase(),!v.hasChildNodes()){return w=q.create(A),c9(w),v.appendChild(w),c4.setStart(w,0),c4.setEnd(w,0),w}for(B=z;B.parentNode!=v;){B=B.parentNode}for(;B&&!q.isBlock(B);){y=B,B=B.previousSibling}if(y&&j.isValidChild(C,A.toLowerCase())){for(w=q.create(A),c9(w),y.parentNode.insertBefore(w,y),B=y;B&&!q.isBlock(B);){x=B.nextSibling,w.appendChild(B),B=x}c4.setStart(z,D),c4.setEnd(z,D)}}return z}function K(){function w(z){for(var y=Y[z?"firstChild":"lastChild"];y&&1!=y.nodeType;){y=y[z?"nextSibling":"previousSibling"]}return y===G}function v(){var y=Y.parentNode;return/^(LI|DT|DD)$/.test(y.nodeName)?y:Y}if(Y!=g.getBody()){var x=Y.parentNode.nodeName;/^(OL|UL|LI)$/.test(x)&&(o="LI"),ae=o?an(o):q.create("BR"),w(!0)&&w()?"LI"==x?q.insertAfter(ae,v()):q.replace(ae,Y):w(!0)?"LI"==x?(q.insertAfter(ae,v()),ae.appendChild(q.doc.createTextNode(" ")),ae.appendChild(Y)):Y.parentNode.insertBefore(ae,Y):w()?(q.insertAfter(ae,v()),c8(ae)):(Y=v(),c3=c4.cloneRange(),c3.setStartAfter(G),c3.setEndAfter(Y),ce=c3.extractContents(),"LI"==o&&"LI"==ce.firstChild.nodeName?(ae=ce.firstChild,q.insertAfter(ce,Y)):(q.insertAfter(ce,Y),q.insertAfter(ae,Y))),q.remove(G),Z(ae),k.add()}}function db(){g.execCommand("InsertLineBreak",!1,da)}function t(v){do{3===v.nodeType&&(v.nodeValue=v.nodeValue.replace(/^[\r\n]+/,"")),v=v.firstChild}while(v)}function c6(x){var v=q.getRoot(),y,w;for(y=x;y!==v&&"false"!==q.getContentEditable(y);){"true"===q.getContentEditable(y)&&(w=y),y=y.parentNode}return y!==v?w:v}function r(w){var v;a||(w.normalize(),v=w.lastChild,v&&!/^(left|right)$/gi.test(q.getStyle(v,"float",!0))||q.add(w,"br"))}function u(){ae=/^(H[1-6]|PRE|FIGURE)$/.test(p)&&"HGROUP"!=l?an(o):an(),n.end_container_on_empty_block&&c7(Y)&&q.isEmpty(G)?ae=q.split(Y,G):q.insertAfter(ae,G),Z(ae)}var c4,c3,c1,X,Q,G,J,at,ae,ce,Y,p,l,o,s;if(c4=h.getRng(!0),!da.isDefaultPrevented()){if(!c4.collapsed){return void g.execCommand("Delete")}if(new b(q).normalize(c4),X=c4.startContainer,Q=c4.startOffset,o=(n.force_p_newlines?"p":"")||n.forced_root_block,o=o?o.toUpperCase():"",J=q.doc.documentMode,at=da.shiftKey,1==X.nodeType&&X.hasChildNodes()&&(s=Q>X.childNodes.length-1,X=X.childNodes[Math.min(Q,X.childNodes.length-1)]||X,Q=s&&3==X.nodeType?X.nodeValue.length:0),c1=c6(X)){if(k.beforeChange(),!q.isBlock(c1)&&c1!=q.getRoot()){return void (o&&!at||db())}if((o&&!at||!o&&at)&&(X=ct(X,Q)),G=q.getParent(X,q.isBlock),Y=G?q.getParent(G.parentNode,q.isBlock):null,p=G?G.nodeName.toUpperCase():"",l=Y?Y.nodeName.toUpperCase():"","LI"!=l||da.ctrlKey||(G=Y,p=l),g.undoManager.typing&&(g.undoManager.typing=!1,g.undoManager.add()),/^(LI|DT|DD)$/.test(p)){if(!o&&at){return void db()}if(q.isEmpty(G)){return void K()}}if("PRE"==p&&n.br_in_pre!==!1){if(!at){return void db()}}else{if(!o&&!at&&"LI"!=p||o&&at){return void db()}}o&&G===g.getBody()||(o=o||"P",f.isCaretContainerBlock(G)?(ae=f.showCaretContainerBlock(G),q.isEmpty(G)&&c2(G),Z(ae)):be()?u():be(!0)?(ae=G.parentNode.insertBefore(an(),G),c8(ae),Z(G)):(c3=c4.cloneRange(),c3.setEndAfter(G),ce=c3.extractContents(),t(ce),ae=ce.firstChild,q.insertAfter(ce,G),bt(ae),r(G),q.isEmpty(G)&&c2(G),ae.normalize(),q.isEmpty(ae)?(q.remove(ae),u()):Z(ae)),q.setAttrib(ae,"id",""),g.fire("NewBlock",{newBlock:ae}),k.typing=!1,k.add())}}}var q=g.dom,h=g.selection,n=g.settings,k=g.undoManager,j=g.schema,i=j.getNonEmptyElements(),e=j.getMoveCaretBeforeOnEnterElements();g.on("keydown",function(l){13==l.keyCode&&m(l)!==!1&&l.preventDefault()})}}),bD(a9,[],function(){return function(g){function d(){var F=c.getStart(),G=g.getBody(),k,E,w,r,q,e,n,i=-16777215,o,D,A,z,a;if(a=j.forced_root_block,F&&1===F.nodeType&&a){for(;F&&F!=G;){if(b[F.nodeName]){return}F=F.parentNode}if(k=c.getRng(),k.setStart){E=k.startContainer,w=k.startOffset,r=k.endContainer,q=k.endOffset;try{D=g.getDoc().activeElement===G}catch(B){}}else{k.item&&(F=k.item(0),k=g.getDoc().body.createTextRange(),k.moveToElementText(F)),D=k.parentElement().ownerDocument===g.getDoc(),A=k.duplicate(),A.collapse(!0),w=A.move("character",i)*-1,A.collapsed||(A=k.duplicate(),A.collapse(!1),q=A.move("character",i)*-1-w)}for(F=G.firstChild,z=G.nodeName.toLowerCase();F;){if((3===F.nodeType||1==F.nodeType&&!b[F.nodeName])&&h.isValidChild(z,a.toLowerCase())){if(3===F.nodeType&&0===F.nodeValue.length){n=F,F=F.nextSibling,f.remove(n);continue}e||(e=f.create(a,g.settings.forced_root_block_attrs),F.parentNode.insertBefore(e,F),o=!0),n=F,F=F.nextSibling,e.appendChild(n)}else{e=null,F=F.nextSibling}}if(o&&D){if(k.setStart){k.setStart(E,w),k.setEnd(r,q),c.setRng(k)}else{try{k=g.getDoc().body.createTextRange(),k.moveToElementText(G),k.collapse(!0),k.moveStart("character",w),q>0&&k.moveEnd("character",q),k.select()}catch(B){}}g.nodeChanged()}}}var j=g.settings,f=g.dom,c=g.selection,h=g.schema,b=h.getBlockElements();j.forced_root_block&&g.on("NodeChange",d)}}),bD(aD,[bs,bu,b1,cQ,bM,ca],function(an,J,Q,M,X,P){function ce(a){return a>0}function K(a){return a<0}function V(b,a){for(var c;c=b(a);){if(!A(c)){return c}}return null}function H(d,g,c,b,f){var a=new J(d,b);if(K(g)){if((D(d)||A(d))&&(d=V(a.prev,!0),c(d))){return d}for(;d=V(a.prev,f);){if(c(d)){return d}}}if(ce(g)){if((D(d)||A(d))&&(d=V(a.next,!0),c(d))){return d}for(;d=V(a.next,f);){if(c(d)){return d}}}return null}function be(b,a){for(b=b.parentNode;b&&b!=a;b=b.parentNode){if(L(b)){return b}}return a}function at(b,a){for(;b&&b!=a;){if(F(b)){return b}b=b.parentNode}return null}function ae(b,a,c){return at(b.container(),c)==at(a.container(),c)}function O(b,a,c){return be(b.container(),c)==be(a.container(),c)}function Y(c,a){var d,b;return a?(d=a.container(),b=a.offset(),q(d)?d.childNodes[b+c]:null):null}function U(b,a){var c=a.ownerDocument.createRange();return b?(c.setStartBefore(a),c.setEndBefore(a)):(c.setStartAfter(a),c.setEndAfter(a)),c}function Z(b,a,c){return at(a,b)==at(c,b)}function G(d,b,f){var c,a;for(a=d?"previousSibling":"nextSibling";f&&f!=b;){if(c=f[a],I(c)&&(c=c[a]),D(c)){if(Z(b,c,f)){return c}break}if(W(c)){break}f=f.parentNode}return null}function B(g,m,b){var d,i,n,f,k=ct(G,!0,m),h=ct(G,!1,m);if(i=b.startContainer,n=b.startOffset,X.isCaretContainerBlock(i)){if(q(i)||(i=i.parentNode),f=i.getAttribute("data-mce-caret"),"before"==f&&(d=i.nextSibling,D(d))){return j(d)}if("after"==f&&(d=i.previousSibling,D(d))){return z(d)}}if(!b.collapsed){return b}if(Q.isText(i)){if(I(i)){if(1===g){if(d=h(i)){return j(d)}if(d=k(i)){return z(d)}}if(g===-1){if(d=k(i)){return z(d)}if(d=h(i)){return j(d)}}return b}if(X.endsWithCaretContainer(i)&&n>=i.data.length-1){return 1===g&&(d=h(i))?j(d):b}if(X.startsWithCaretContainer(i)&&n<=1){return g===-1&&(d=k(i))?z(d):b}if(n===i.data.length){return d=h(i),d?j(d):b}if(0===n){return d=k(i),d?z(d):b}}return b}function bt(b,a){return D(Y(b,a))}var L=Q.isContentEditableTrue,D=Q.isContentEditableFalse,F=Q.matchStyleValues("display","block table table-cell table-caption"),I=X.isCaretContainer,A=X.isCaretContainerBlock,ct=an.curry,q=Q.isElement,W=P.isCaretCandidate,j=ct(U,!0),z=ct(U,!1);return{isForwards:ce,isBackwards:K,findNode:H,getEditingHost:be,getParentBlock:at,isInSameBlock:ae,isInSameEditingHost:O,isBeforeContentEditableFalse:ct(bt,0),isAfterContentEditableFalse:ct(bt,-1),normalizeRange:B}}),bD(b2,[b1,ca,cQ,aD,bR,bs],function(J,w,C,z,F,B){function N(b,a){for(var c=[];b&&b!=a;){c.push(b),b=b.parentNode}return c}function x(b,a){return b.hasChildNodes()&&a<b.childNodes.length?b.childNodes[a]:null}function E(b,a){if(D(b)){if(k(a.previousSibling)&&!I(a.previousSibling)){return C.before(a)}if(I(a)){return C(a,0)}}if(H(b)){if(k(a.nextSibling)&&!I(a.nextSibling)){return C.after(a)}if(I(a)){return C(a,a.data.length)}}return H(b)?G(a)?C.before(a):C.after(a):C.before(a)}function q(b,a){var c;return !!J.isBr(b)&&(c=L(1,C.after(b),a),!!c&&!z.isInSameBlock(C.before(b),C.before(c),a))}function L(f,m,c){var a,g,i,n,d,l,b;if(!A(c)||!m){return null}if(b=m,a=b.container(),g=b.offset(),I(a)){if(H(f)&&g>0){return C(a,--g)}if(D(f)&&g<a.length){return C(a,++g)}i=a}else{if(H(f)&&g>0&&(n=x(a,g-1),k(n))){return !j(n)&&(d=z.findNode(n,f,M,n))?I(d)?C(d,d.data.length):C.after(d):I(n)?C(n,n.data.length):C.before(n)}if(D(f)&&g<a.childNodes.length&&(n=x(a,g),k(n))){return q(n,c)?L(f,C.after(n),c):!j(n)&&(d=z.findNode(n,f,M,n))?I(d)?C(d,0):C.before(d):I(n)?C(n,0):C.after(n)}i=b.getNode()}return(D(f)&&b.isAtEnd()||H(f)&&b.isAtStart())&&(i=z.findNode(i,f,B.constant(!0),c,!0),M(i))?E(f,i):(n=z.findNode(i,f,M,c),l=F.last(F.filter(N(a,c),K)),!l||n&&l.contains(n)?n?E(f,n):null:b=D(f)?C.after(l):C.before(l))}var K=J.isContentEditableFalse,I=J.isText,A=J.isElement,G=J.isBr,D=z.isForwards,H=z.isBackwards,k=w.isCaretCandidate,j=w.isAtomic,M=w.isEditableCaretCandidate;return function(a){return{next:function(b){return L(1,b,a)},prev:function(b){return L(-1,b,a)}}}}),bD(cN,[bK,b2,cQ],function(G,k,z){var w=function(c){var a=c.firstChild,d=c.lastChild;return a&&"meta"===a.name&&(a=a.next),d&&"mce_marker"===d.attr("id")&&(d=d.prev),!(!a||a!==d)&&("ul"===a.name||"ol"===a.name)},C=function(c){var a=c.firstChild,d=c.lastChild;return a&&"META"===a.nodeName&&a.parentNode.removeChild(a),d&&"mce_marker"===d.id&&d.parentNode.removeChild(d),c},y=function(d,a,g){var c=a.serialize(g),f=d.createFragment(c);return C(f)},J=function(a){return G.grep(a.childNodes,function(c){return"LI"===c.nodeName})},q=function(a){return !a.firstChild},B=function(a){return a.length>0&&q(a[a.length-1])?a.slice(0,-1):a},j=function(c,a){var d=c.getParent(a,c.isBlock);return d&&"LI"===d.nodeName?d:null},I=function(c,a){return !!j(c,a)},H=function(d,a){var f=a.cloneRange(),c=a.cloneRange();return f.setStartBefore(d),c.setEndAfter(d),[f.cloneContents(),c.cloneContents()]},F=function(g,f){var d=z.before(g),h=new k(f),c=h.next(d);return c?c.toRange():null},x=function(g,f){var d=z.after(g),h=new k(f),c=h.prev(d);return c?c.toRange():null},D=function(e,h,f,d){var g=H(e,d),c=e.parentNode;return c.insertBefore(g[0],e),G.each(h,function(a){c.insertBefore(a,e)}),c.insertBefore(g[1],e),c.removeChild(e),x(h[h.length-1],f)},A=function(c,e,d){var a=c.parentNode;return G.each(e,function(f){a.insertBefore(f,c)}),F(c,d)},E=function(d,a,f,c){return c.insertAfter(a.reverse(),d),x(a[0],f)},b=function(m,a,h,L){var o=y(a,m,L),n=j(a,h.startContainer),l=B(J(o.firstChild)),g=1,K=2,u=a.getRoot(),t=function(f){var i=z.fromRangeStart(h),c=new k(a.getRoot()),d=f===g?c.prev(i):c.next(i);return !d||j(a,d.getNode())!==n};return t(g)?A(n,l,u):t(K)?E(n,l,u,a):D(n,l,u,h)};return{isListFragment:w,insertAtCaret:b,isParentBlockLi:I,trimListItems:B,listItems:J}}),bD(aY,[bW,bK,ci,b2,cQ,b6,b1,cN],function(p,y,h,b,k,g,w,z){var j=w.matchNodeNames("td th"),x=function(f,c,l){if("all"===l.getAttribute("data-mce-bogus")){l.parentNode.insertBefore(f.dom.createFragment(c),l)}else{var d=l.firstChild,a=l.lastChild;!d||d===a&&"BR"===d.nodeName?f.dom.setHTML(l,c):f.selection.setContent(c)}},v=function(ct,bt,be){function at(f){function c(B){return d[B]&&3==d[B].nodeType}var A,d,a;return A=t.getRng(!0),d=A.startContainer,a=A.startOffset,3==d.nodeType&&(a>0?f=f.replace(/^&nbsp;/," "):c("previousSibling")||(f=f.replace(/^ /,"&nbsp;")),a<d.length?f=f.replace(/&nbsp;(<br>|)$/," "):c("nextSibling")||(f=f.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),f}function X(){var c,a,d;c=t.getRng(!0),a=c.startContainer,d=c.startOffset,3==a.nodeType&&c.collapsed&&("\xa0"===a.data[d]?(a.deleteData(d,1),/[\u00a0| ]$/.test(bt)||(bt+=" ")):"\xa0"===a.data[d-1]&&(a.deleteData(d-1,1),/[\u00a0| ]$/.test(bt)||(bt=" "+bt)))}function ae(){if(V){var a=ct.getBody(),c=new g(s);y.each(s.select("*[data-mce-fragment]"),function(d){for(var f=d.parentNode;f&&f!=a;f=f.parentNode){Q[d.nodeName.toLowerCase()]&&c.compare(f,d)&&s.remove(d,!0)}})}}function Y(c){for(var a=c;a=a.walk();){1===a.type&&a.attr("data-mce-fragment","1")}}function an(a){y.each(a.getElementsByTagName("*"),function(c){c.removeAttribute("data-mce-fragment")})}function J(a){return !!a.getAttribute("data-mce-fragment")}function u(a){return a&&!ct.schema.getShortEndedElements()[a.nodeName]}function ce(d){function C(D){for(var c=ct.getBody();D&&D!==c;D=D.parentNode){if("false"===ct.dom.getContentEditable(D)){return D}}return null}function A(D){var c=k.fromRangeStart(D),E=new b(ct.getBody());if(c=E.next(c)){return c.toRange()}}var f,a,B;if(d){if(t.scrollIntoView(d),f=C(d)){return s.remove(d),void t.select(f)}Z=s.createRng(),e=d.previousSibling,e&&3==e.nodeType?(Z.setStart(e,e.nodeValue.length),p.ie||(l=d.nextSibling,l&&3==l.nodeType&&(e.appendData(l.data),l.parentNode.removeChild(l)))):(Z.setStartBefore(d),Z.setEndBefore(d)),a=s.getParent(d,s.isBlock),s.remove(d),a&&s.isEmpty(a)&&(ct.$(a).empty(),Z.setStart(a,0),Z.setEnd(a,0),j(a)||J(a)||!(B=A(Z))?s.add(a,s.create("br",{"data-mce-bogus":"1"})):(Z=B,s.remove(a))),t.setRng(Z)}}var U,F,I,K,r,c1,i,Z,e,l,W,V,Q=ct.schema.getTextInlineElements(),t=ct.selection,s=ct.dom;/^ | $/.test(bt)&&(bt=at(bt)),U=ct.parser,V=be.merge,F=new h({validate:ct.settings.validate},ct.schema),W='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',c1={content:bt,format:"html",selection:!0},ct.fire("BeforeSetContent",c1),bt=c1.content,bt.indexOf("{$caret}")==-1&&(bt+="{$caret}"),bt=bt.replace(/\{\$caret\}/,W),Z=t.getRng();var n=Z.startContainer||(Z.parentElement?Z.parentElement():null),o=ct.getBody();n===o&&t.isCollapsed()&&s.isBlock(o.firstChild)&&u(o.firstChild)&&s.isEmpty(o.firstChild)&&(Z=s.createRng(),Z.setStart(o.firstChild,0),Z.setEnd(o.firstChild,0),t.setRng(Z)),t.isCollapsed()||(ct.selection.setRng(ct.selection.getRng()),ct.getDoc().execCommand("Delete",!1,null),X()),I=t.getNode();var G={context:I.nodeName.toLowerCase(),data:be.data};if(r=U.parse(bt,G),be.paste===!0&&z.isListFragment(r)&&z.isParentBlockLi(s,I)){return Z=z.insertAtCaret(F,s,ct.selection.getRng(!0),r),ct.selection.setRng(Z),void ct.fire("SetContent",c1)}if(Y(r),e=r.lastChild,"mce_marker"==e.attr("id")){for(i=e,e=e.prev;e;e=e.walk(!0)){if(3==e.type||!s.isBlock(e.name)){ct.schema.isValidChild(e.parent.name,"span")&&e.parent.insert(i,e,"br"===e.name);break}}}if(ct._selectionOverrides.showBlockCaretContainer(I),G.invalid){for(t.setContent(W),I=t.getNode(),K=ct.getBody(),9==I.nodeType?I=e=K:e=I;e!==K;){I=e,e=e.parentNode}bt=I==K?K.innerHTML:s.getOuterHTML(I),bt=F.serialize(U.parse(bt.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return F.serialize(r)}))),I==K?s.setHTML(K,bt):s.setOuterHTML(I,bt)}else{bt=F.serialize(r),x(ct,bt,I)}ae(),ce(s.get("mce_marker")),an(ct.getBody()),ct.fire("SetContent",c1),ct.addVisual()},q=function(a){var c;return"string"!=typeof a?(c=y.extend({paste:a.paste,data:{paste:a.paste}},a),{content:a.content,details:c}):{content:a,details:{}}},m=function(c,a){var d=q(a);v(c,d.content,d.details)};return{insertAtCaret:m}}),bD(c0,[bW,bK,cb,bu,aY,b1],function(w,k,b,q,j,z){var B=k.each,m=k.extend,A=k.map,y=k.inArray,x=k.explode,v=w.ie&&w.ie<11,g=!0,t=!1;return function(H){function I(N,L,M,E){var Q,C,n=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(N)||E&&E.skip_focus||H.focus(),E=H.fire("BeforeExecCommand",{command:N,ui:L,value:M}),E.isDefaultPrevented()){return !1}if(C=N.toLowerCase(),Q=s.exec[C]){return Q(C,L,M),H.fire("ExecCommand",{command:N,ui:L,value:M}),!0}if(B(H.plugins,function(R){if(R.execCommand&&R.execCommand(N,L,M)){return H.fire("ExecCommand",{command:N,ui:L,value:M}),n=!0,!1}}),n){return n}if(H.theme&&H.theme.execCommand&&H.theme.execCommand(N,L,M)){return H.fire("ExecCommand",{command:N,ui:L,value:M}),!0}try{n=H.getDoc().execCommand(N,L,M)}catch(D){}return !!n&&(H.fire("ExecCommand",{command:N,ui:L,value:M}),!0)}function K(D){var n;if(!H.quirks.isHidden()){if(D=D.toLowerCase(),n=s.state[D]){return n(D)}try{return H.getDoc().queryCommandState(D)}catch(C){}return !1}}function p(D){var n;if(!H.quirks.isHidden()){if(D=D.toLowerCase(),n=s.value[D]){return n(D)}try{return H.getDoc().queryCommandValue(D)}catch(C){}}}function i(C,n){n=n||"exec",B(C,function(D,E){B(E.toLowerCase().split(","),function(L){s[n][L]=D})})}function O(D,n,C){D=D.toLowerCase(),s.exec[D]=function(M,L,N,E){return n.call(C||H,L,N,E)}}function u(C){if(C=C.toLowerCase(),s.exec[C]){return !0}try{return H.getDoc().queryCommandSupported(C)}catch(n){}return !1}function l(D,n,C){D=D.toLowerCase(),s.state[D]=function(){return n.call(C||H)}}function o(D,n,C){D=D.toLowerCase(),s.value[D]=function(){return n.call(C||H)}}function r(n){return n=n.toLowerCase(),!!s.exec[n]}function e(D,C,n){return C===bB&&(C=t),n===bB&&(n=null),H.getDoc().execCommand(D,C,n)}function P(n){return F.match(n)}function c(C,n){F.toggle(C,n?{value:n}:bB),H.nodeChanged()}function J(n){f=G.getBookmark(n)}function a(){G.moveToBookmark(f)}var d,G,F,s={state:{},exec:{},value:{}},h=H.settings,f;H.on("PreInit",function(){d=H.dom,G=H.selection,h=H.settings,F=H.formatter}),m(this,{execCommand:I,queryCommandState:K,queryCommandValue:p,queryCommandSupported:u,addCommands:i,addCommand:O,addQueryStateHandler:l,addQueryValueHandler:o,hasCustomCommand:r}),i({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){H.undoManager.add()},"Cut,Copy,Paste":function(D){var E=H.getDoc(),C;try{e(D)}catch(L){C=g}if("paste"!==D||E.queryCommandEnabled(D)||(C=!0),C||!E.queryCommandSupported(D)){var n=H.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");w.mac&&(n=n.replace(/Ctrl\+/g,"\u2318+")),H.notificationManager.open({text:n,type:"error"})}},unlink:function(){if(G.isCollapsed()){var n=H.dom.getParent(H.selection.getStart(),"a");return void (n&&H.dom.remove(n,!0))}F.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(C){var n=C.substring(7);"full"==n&&(n="justify"),B("left,center,right,justify".split(","),function(D){n!=D&&F.remove("align"+D)}),"none"!=n&&c("align"+n)},"InsertUnorderedList,InsertOrderedList":function(D){var C,E;e(D),C=d.getParent(G.getNode(),"ol,ul"),C&&(E=C.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(E.nodeName)&&(J(),d.split(E,C),a()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){c(n)},"ForeColor,HiliteColor,FontName":function(D,C,E){c(D,E)},FontSize:function(L,D,M){var E,C;M>=1&&M<=7&&(C=x(h.font_size_style_values),E=x(h.font_size_classes),M=E?E[M-1]||M:C[M-1]||M),c(L,M)},RemoveFormat:function(n){F.remove(n)},mceBlockQuote:function(){c("blockquote")},FormatBlock:function(D,C,E){return c(E||"p")},mceCleanup:function(){var n=G.getBookmark();H.setContent(H.getContent({cleanup:g}),{cleanup:g}),G.moveToBookmark(n)},mceRemoveNode:function(E,C,D){var n=D||G.getNode();n!=H.getBody()&&(J(),H.dom.remove(n,g),a())},mceSelectNodeDepth:function(E,C,D){var n=0;d.getParent(G.getNode(),function(L){if(1==L.nodeType&&n++==D){return G.select(L),t}},H.getBody())},mceSelectNode:function(D,C,E){G.select(E)},mceInsertContent:function(D,n,C){j.insertAtCaret(H,C)},mceInsertRawHTML:function(D,n,C){G.setContent("tiny_mce_marker"),H.setContent(H.getContent().replace(/tiny_mce_marker/g,function(){return C}))},mceToggleFormat:function(D,C,E){c(E)},mceSetContent:function(D,n,C){H.setContent(C)},"Indent,Outdent":function(E){var C,D,n;C=h.indentation,D=/[a-z%]+$/i.exec(C),C=parseInt(C,10),K("InsertUnorderedList")||K("InsertOrderedList")?e(E):(h.forced_root_block||d.getParent(G.getNode(),d.isBlock)||F.apply("div"),B(G.getSelectedBlocks(),function(M){if("false"!==d.getContentEditable(M)&&"LI"!==M.nodeName){var L=H.getParam("indent_use_margin",!1)?"margin":"padding";L="TABLE"===M.nodeName?"margin":L,L+="rtl"==d.getStyle(M,"direction",!0)?"Right":"Left","outdent"==E?(n=Math.max(0,parseInt(M.style[L]||0,10)-C),d.setStyle(M,L,n?n+D:"")):(n=parseInt(M.style[L]||0,10)+C+D,d.setStyle(M,L,n))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){H.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){H.hasVisual=!H.hasVisual,H.addVisual()},mceReplaceContent:function(D,n,C){H.execCommand("mceInsertContent",!1,C.replace(/\{\$selection\}/g,G.getContent({format:"text"})))},mceInsertLink:function(E,C,L){var D;"string"==typeof L&&(L={href:L}),D=d.getParent(G.getNode(),"a"),L.href=L.href.replace(" ","%20"),D&&L.href||F.remove("link"),L.href&&F.apply("link",L,D)},selectAll:function(){var D=d.getRoot(),C;if(G.getRng().setStart){var E=d.getParent(G.getStart(),z.isContentEditableTrue);E&&(C=d.createRng(),C.selectNodeContents(E),G.setRng(C))}else{C=G.getRng(),C.item||(C.moveToElementText(D),C.select())}},"delete":function(){e("Delete");var n=H.getBody();d.isEmpty(n)&&(H.setContent(""),n.firstChild&&d.isBlock(n.firstChild)?H.selection.setCursorLocation(n.firstChild,0):H.selection.setCursorLocation(n,0))},mceNewDocument:function(){H.setContent("")},InsertLineBreak:function(X,N,S){function an(){for(var be=new q(T,L),C,at=H.schema.getNonEmptyElements();C=be.next();){if(at[C.nodeName.toLowerCase()]||C.length>0){return !0}}}var Q=S,U,M,Z,Y=G.getRng(!0);new b(d).normalize(Y);var V=Y.startOffset,T=Y.startContainer;if(1==T.nodeType&&T.hasChildNodes()){var W=V>T.childNodes.length-1;T=T.childNodes[Math.min(V,T.childNodes.length-1)]||T,V=W&&3==T.nodeType?T.nodeValue.length:0}var L=d.getParent(T,d.isBlock),n=L?L.nodeName.toUpperCase():"",ae=L?d.getParent(L.parentNode,d.isBlock):null,R=ae?ae.nodeName.toUpperCase():"",D=Q&&Q.ctrlKey;"LI"!=R||D||(L=ae,n=R),T&&3==T.nodeType&&V>=T.nodeValue.length&&(v||an()||(U=d.create("br"),Y.insertNode(U),Y.setStartAfter(U),Y.setEndAfter(U),M=!0)),U=d.create("br"),Y.insertNode(U);var E=d.doc.documentMode;return v&&"PRE"==n&&(!E||E<8)&&U.parentNode.insertBefore(d.doc.createTextNode("\r"),U),Z=d.create("span",{},"&nbsp;"),U.parentNode.insertBefore(Z,U),G.scrollIntoView(Z),d.remove(Z),M?(Y.setStartBefore(U),Y.setEndBefore(U)):(Y.setStartAfter(U),Y.setEndAfter(U)),G.setRng(Y),H.undoManager.add(),g}}),i({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(E){var C="align"+E.substring(7),L=G.isCollapsed()?[d.getParent(G.getNode(),d.isBlock)]:G.getSelectedBlocks(),D=A(L,function(n){return !!F.matchNode(n,C)});return y(D,g)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(n){return P(n)},mceBlockQuote:function(){return P("blockquote")},Outdent:function(){var n;if(h.inline_styles){if((n=d.getParent(G.getStart(),d.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return g}if((n=d.getParent(G.getEnd(),d.isBlock))&&parseInt(n.style.paddingLeft,10)>0){return g}}return K("InsertUnorderedList")||K("InsertOrderedList")||!h.inline_styles&&!!d.getParent(G.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(C){var n=d.getParent(G.getNode(),"ul,ol");return n&&("insertunorderedlist"===C&&"UL"===n.tagName||"insertorderedlist"===C&&"OL"===n.tagName)}},"state"),i({"FontSize,FontName":function(D){var C=0,E;return(E=d.getParent(G.getNode(),"span"))&&(C="fontsize"==D?E.style.fontSize:E.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),C}},"value"),i({Undo:function(){H.undoManager.undo()},Redo:function(){H.undoManager.redo()}})}}),bD(aF,[bK],function(d){function b(m,n){var i=this,k,h;if(m=c(m),n=i.settings=n||{},k=n.base_uri,/^([\w\-]+):([^\/]{2})/i.test(m)||/^\s*#/.test(m)){return void (i.source=m)}var j=0===m.indexOf("//");0!==m.indexOf("/")||j||(m=(k?k.protocol||"http":"http")+"://mce_host"+m),/^[\w\-]*:?\/\//.test(m)||(h=n.base_uri?n.base_uri.path:new b(location.href).directory,""===n.base_uri.protocol?m="//mce_host"+i.toAbsPath(h,m):(m=/([^#?]*)([#?]?.*)/.exec(m),m=(k&&k.protocol||"http")+"://mce_host"+i.toAbsPath(h,m[1])+m[2])),m=m.replace(/@@/g,"(mce_at)"),m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(m),g(a,function(e,o){var l=m[o];l&&(l=l.replace(/\(mce_at\)/g,"@@")),i[e]=l}),k&&(i.protocol||(i.protocol=k.protocol),i.userInfo||(i.userInfo=k.userInfo),i.port||"mce_host"!==i.host||(i.port=k.port),i.host&&"mce_host"!==i.host||(i.host=k.host),i.source=""),j&&(i.protocol="")}var g=d.each,c=d.trim,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),f={ftp:21,http:80,https:443,mailto:25};return b.prototype={setPath:function(i){var h=this;i=/^(.*?)\/?(\w+)?$/.exec(i),h.path=i[0],h.directory=i[1],h.file=i[2],h.source="",h.getURI()},toRelative:function(k){var m=this,j;if("./"===k){return k}if(k=new b(k,{base_uri:m}),"mce_host"!=k.host&&m.host!=k.host&&k.host||m.port!=k.port||m.protocol!=k.protocol&&""!==k.protocol){return k.getURI()}var h=m.getURI(),l=k.getURI();return h==l||"/"==h.charAt(h.length-1)&&h.substr(0,h.length-1)==l?h:(j=m.toRelPath(m.path,k.path),k.query&&(j+="?"+k.query),k.anchor&&(j+="#"+k.anchor),j)},toAbsolute:function(h,i){return h=new b(h,{base_uri:this}),h.getURI(i&&this.isSameOrigin(h))},isSameOrigin:function(i){if(this.host==i.host&&this.protocol==i.protocol){if(this.port==i.port){return !0}var h=f[this.protocol];if(h&&(this.port||h)==(i.port||h)){return !0}}return !1},toRelPath:function(m,k){var q,l=0,j="",p,h;if(m=m.substring(0,m.lastIndexOf("/")),m=m.split("/"),q=k.split("/"),m.length>=q.length){for(p=0,h=m.length;p<h;p++){if(p>=q.length||m[p]!=q[p]){l=p+1;break}}}if(m.length<q.length){for(p=0,h=q.length;p<h;p++){if(p>=m.length||m[p]!=q[p]){l=p+1;break}}}if(1===l){return k}for(p=0,h=m.length-(l-1);p<h;p++){j+="../"}for(p=l-1,h=q.length;p<h;p++){j+=p!=l-1?"/"+q[p]:q[p]}return j},toAbsPath:function(n,k){var m,j=0,p=[],h,l;for(h=/\/$/.test(k)?"/":"",n=n.split("/"),k=k.split("/"),g(n,function(i){i&&p.push(i)}),n=p,m=k.length-1,p=[];m>=0;m--){0!==k[m].length&&"."!==k[m]&&(".."!==k[m]?j>0?j--:p.push(k[m]):j++)}return m=n.length-j,l=m<=0?p.reverse().join("/"):n.slice(0,m).join("/")+"/"+p.reverse().join("/"),0!==l.indexOf("/")&&(l="/"+l),h&&l.lastIndexOf("/")!==l.length-1&&(l+=h),l},getURI:function(i){var h,j=this;return j.source&&!i||(h="",i||(h+=j.protocol?j.protocol+"://":"//",j.userInfo&&(h+=j.userInfo+"@"),j.host&&(h+=j.host),j.port&&(h+=":"+j.port)),j.path&&(h+=j.path),j.query&&(h+="?"+j.query),j.anchor&&(h+="#"+j.anchor),j.source=h),j.source}},b.parseDataUri=function(i){var h,j;return i=decodeURIComponent(i).split(","),j=/data:([^;]+)/.exec(i[0]),j&&(h=j[1]),{type:h,data:i[1]}},b.getDocumentBaseUrl=function(i){var h;return h=0!==i.protocol.indexOf("http")&&"file:"!==i.protocol?i.href:i.protocol+"//"+i.host+i.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(h)&&(h=h.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(h)||(h+="/")),h},b}),bD(bO,[bK],function(d){function b(){}var g=d.each,c=d.extend,a,f;return b.extend=a=function(j){function p(){var u,l,v,s=this;if(!f&&(s.init&&s.init.apply(s,arguments),l=s.Mixins)){for(u=l.length;u--;){v=l[u],v.init&&v.init.apply(s,arguments)}}}function n(){return this}function q(r,l){return function(){var t=this,s=t._super,e;return t._super=o[r],e=l.apply(t,arguments),t._super=s,e}}var h=this,o=h.prototype,m,k,i;f=!0,m=new h,f=!1,j.Mixins&&(g(j.Mixins,function(e){for(var l in e){"init"!==l&&(j[l]=e[l])}}),o.Mixins&&(j.Mixins=o.Mixins.concat(j.Mixins))),j.Methods&&g(j.Methods.split(","),function(e){j[e]=n}),j.Properties&&g(j.Properties.split(","),function(e){var l="_"+e;j[e]=function(v){var s=this,u;return v!==u?(s[l]=v,s):s[l]}}),j.Statics&&g(j.Statics,function(l,r){p[r]=l}),j.Defaults&&o.Defaults&&(j.Defaults=c({},o.Defaults,j.Defaults));for(k in j){i=j[k],"function"==typeof i&&o[k]?m[k]=q(k,i):m[k]=i}return p.prototype=m,p.constructor=p,p.extend=a,p},b}),bD(bo,[bK],function(b){function a(x){function h(){return !1}function e(){return !0}function k(t,n){var z,r,d,f;if(t=t.toLowerCase(),n=n||{},n.type=t,n.target||(n.target=q),n.preventDefault||(n.preventDefault=function(){n.isDefaultPrevented=e},n.stopPropagation=function(){n.isPropagationStopped=e},n.stopImmediatePropagation=function(){n.isImmediatePropagationStopped=e},n.isDefaultPrevented=h,n.isPropagationStopped=h,n.isImmediatePropagationStopped=h),x.beforeFire&&x.beforeFire(n),z=p[t]){for(r=0,d=z.length;r<d;r++){if(f=z[r],f.once&&v(t,f.func),n.isImmediatePropagationStopped()){return n.stopPropagation(),n}if(f.func.call(q,n)===!1){return n.preventDefault(),n}}}return n}function g(u,A,n,B){var f,z,d;if(A===!1&&(A=h),A){for(A={func:A},B&&b.extend(A,B),z=u.toLowerCase().split(" "),d=z.length;d--;){u=z[d],f=p[u],f||(f=p[u]=[],m(u,!0)),n?f.unshift(A):f.push(A)}}return w}function v(u,l){var A,s,f,z,d;if(u){for(z=u.toLowerCase().split(" "),A=z.length;A--;){if(u=z[A],s=p[u],!u){for(f in p){m(f,!1),delete p[f]}return w}if(s){if(l){for(d=s.length;d--;){s[d].func===l&&(s=s.slice(0,d).concat(s.slice(d+1)),p[u]=s)}}else{s.length=0}s.length||(m(u,!1),delete p[u])}}}else{for(u in p){m(u,!1)}p={}}return w}function y(f,d,i){return g(f,d,i,{once:!0})}function j(d){return d=d.toLowerCase(),!(!p[d]||0===p[d].length)}var w=this,q,p={},m;x=x||{},q=x.scope||w,m=x.toggleEvent||h,w.fire=k,w.on=g,w.off=v,w.once=y,w.has=j}var c=b.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return a.isNative=function(d){return !!c[d.toLowerCase()]},a}),bD(a5,[],function(){function a(b){this.create=b.create}return a.create=function(b,c){return new a({create:function(h,g){function f(e){h.set(g,e.value)}function j(i){b.set(c,i.value)}var d;return h.on("change:"+g,j),b.on("change:"+c,f),d=h._bindings,d||(d=h._bindings=[],h.on("destroy",function(){for(var i=d.length;i--;){d[i]()}})),d.push(function(){b.off("change:"+c,f)}),b.get(c)}})},a}),bD(br,[bo],function(b){function a(c){return c._eventDispatcher||(c._eventDispatcher=new b({scope:c,toggleEvent:function(e,d){b.isNative(e)&&c.toggleNativeEvent&&c.toggleNativeEvent(e,d)}})),c._eventDispatcher}return{fire:function(f,h,d){var c=this;if(c.removed&&"remove"!==f){return h}if(h=a(c).fire(f,h,d),d!==!1&&c.parent){for(var g=c.parent();g&&!h.isPropagationStopped();){g.fire(f,h,!1),g=g.parent()}}return h},on:function(d,f,c){return a(this).on(d,f,c)},off:function(c,d){return a(this).off(c,d)},once:function(c,d){return a(this).once(c,d)},hasEventListeners:function(c){return a(this).has(c)}}}),bD(aL,[a5,br,bO,bK],function(d,b,g,c){function a(h){return h.nodeType>0}function f(j,i){var k,h;if(j===i){return !0}if(null===j||null===i){return j===i}if("object"!=typeof j||"object"!=typeof i){return j===i}if(c.isArray(i)){if(j.length!==i.length){return !1}for(k=j.length;k--;){if(!f(j[k],i[k])){return !1}}}if(a(j)||a(i)){return j===i}h={};for(k in i){if(!f(j[k],i[k])){return !1}h[k]=!0}for(k in j){if(!h[k]&&!f(j[k],i[k])){return !1}}return !0}return g.extend({Mixins:[b],init:function(e){var i,h;e=e||{};for(i in e){h=e[i],h instanceof d&&(e[i]=h.create(this,i))}this.data=e},set:function(j,l){var k,h,e=this.data[j];if(l instanceof d&&(l=l.create(this,j)),"object"==typeof j){for(k in j){this.set(k,j[k])}return this}return f(e,l)||(this.data[j]=l,h={target:this,name:j,value:l,oldValue:e},this.fire("change:"+j,h),this.fire("change",h)),this},get:function(h){return this.data[h]},has:function(h){return h in this.data},bind:function(e){return d.create(this,e)},destroy:function(){this.fire("destroy")}})}),bD(cS,[bO],function(g){function d(k){for(var a=[],l=k.length,i;l--;){i=k[l],i.__checked||(a.push(i),i.__checked=1)}for(l=a.length;l--;){delete a[l].__checked}return a}var j=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,f=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,c=/^\s*|\s*$/g,h,b=g.extend({init:function(m){function v(a){if(a){return a=a.toLowerCase(),function(e){return"*"===a||e.type===a}}}function i(a){if(a){return function(e){return e._name===a}}}function q(a){if(a){return a=a.split("."),function(e){for(var l=a.length;l--;){if(!e.classes.contains(a[l])){return !1}}return !0}}}function w(l,a,o){if(l){return function(s){var e=s[l]?s[l]():"";return a?"="===a?e===o:"*="===a?e.indexOf(o)>=0:"~="===a?(" "+e+" ").indexOf(" "+o+" ")>=0:"!="===a?e!=o:"^="===a?0===e.indexOf(o):"$="===a&&e.substr(e.length-o.length)===o:!!o}}}function k(l){var a;if(l){return l=/(?:not\((.+)\))|(.+)/i.exec(l),l[1]?(a=p(l[1],[]),function(o){return !n(o,a)}):(l=l[2],function(e,s,o){return"first"===l?0===s:"last"===l?s===o-1:"even"===l?s%2===0:"odd"===l?s%2===1:!!e[l]&&e[l]()})}}function r(o,l,a){function t(u){u&&l.push(u)}var s;return s=j.exec(o.replace(c,"")),t(v(s[1])),t(i(s[2])),t(q(s[3])),t(w(s[4],s[5],s[6])),t(k(s[7])),l.pseudo=!!s[7],l.direct=a,l}function p(x,u){var z=[],s,y,l;do{if(f.exec(""),y=f.exec(x),y&&(x=y[3],z.push(y[1]),y[2])){s=y[3];break}}while(y);for(s&&p(s,u),x=[],l=0;l<z.length;l++){">"!=z[l]&&x.push(r(z[l],[],">"===z[l-1]))}return u.push(x),u}var n=this.match;this._selectors=p(m,[])},match:function(A,F){var v,k,x,q,D,G,w,E,C,B,z,m,y;for(F=F||this._selectors,v=0,k=F.length;v<k;v++){for(D=F[v],q=D.length,y=A,m=0,x=q-1;x>=0;x--){for(E=D[x];y;){if(E.pseudo){for(z=y.parent().items(),C=B=z.length;C--&&z[C]!==y;){}}for(G=0,w=E.length;G<w;G++){if(!E[G](y,C,B)){G=w+1;break}}if(G===w){m++;break}if(x===q-1){break}y=y.parent()}}if(m===q){return !0}}return !1},find:function(p){function q(w,A,v){var n,y,B,r,z,x=A[v];for(n=0,y=w.length;n<y;n++){for(z=w[n],B=0,r=x.length;B<r;B++){if(!x[B](z,n,y)){B=r+1;break}}if(B===r){v==A.length-1?o.push(z):z.items&&q(z.items(),A,v+1)}else{if(x.direct){return}}z.items&&q(z.items(),A,v)}}var o=[],k,m,a=this._selectors;if(p.items){for(k=0,m=a.length;k<m;k++){q(p.items(),a[k],0)}m>1&&(o=d(o))}return h||(h=b.Collection),new h(o)}});return b}),bD(aU,[bK,cS,bO],function(g,d,j){var f,c,h=Array.prototype.push,b=Array.prototype.slice;return c={length:0,init:function(a){a&&this.add(a)},add:function(a){var e=this;return g.isArray(a)?h.apply(e,a):a instanceof f?e.add(a.toArray()):h.call(e,a),e},set:function(k){var a=this,l=a.length,i;for(a.length=0,a.add(k),i=a.length;i<l;i++){delete a[i]}return a},filter:function(r){var u=this,p,t,m=[],q,k;for("string"==typeof r?(r=new d(r),k=function(a){return r.match(a)}):k=r,p=0,t=u.length;p<t;p++){q=u[p],k(q)&&m.push(q)}return new f(m)},slice:function(){return new f(b.apply(this,arguments))},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},each:function(a){return g.each(this,a),this},toArray:function(){return g.toArray(this)},indexOf:function(i){for(var a=this,k=a.length;k--&&a[k]!==i;){}return k},reverse:function(){return new f(g.toArray(this).reverse())},hasClass:function(a){return !!this[0]&&this[0].classes.contains(a)},prop:function(m,k){var o=this,l,a;return k!==l?(o.each(function(e){e[m]&&e[m](k)}),o):(a=o[0],a&&a[m]?a[m]():void 0)},exec:function(a){var i=this,e=g.toArray(arguments).slice(1);return i.each(function(k){k[a]&&k[a].apply(k,e)}),i},remove:function(){for(var a=this.length;a--;){this[a].remove()}return this},addClass:function(a){return this.each(function(e){e.classes.add(a)})},removeClass:function(a){return this.each(function(e){e.classes.remove(a)})}},g.each("fire on off show hide append prepend before after reflow".split(" "),function(a){c[a]=function(){var e=g.toArray(arguments);return this.each(function(i){a in i&&i[a].apply(i,e)}),this}}),g.each("text name disabled active selected checked visible parent value data".split(" "),function(a){c[a]=function(e){return this.prop(a,e)}}),f=j.extend(c),d.Collection=f,f}),bD(ax,[bW,bK,bx],function(d,b,f){var c=0,a={id:function(){return"mceu_"+c++},create:function(j,h,g){var k=document.createElement(j);return f.DOM.setAttribs(k,h),"string"==typeof g?k.innerHTML=g:b.each(g,function(i){i.nodeType&&k.appendChild(i)}),k},createFragment:function(g){return f.DOM.createFragment(g)},getWindowSize:function(){return f.DOM.getViewPort()},getSize:function(i){var g,j;if(i.getBoundingClientRect){var h=i.getBoundingClientRect();g=Math.max(h.width||h.right-h.left,i.offsetWidth),j=Math.max(h.height||h.bottom-h.bottom,i.offsetHeight)}else{g=i.offsetWidth,j=i.offsetHeight}return{width:g,height:j}},getPos:function(h,g){return f.DOM.getPos(h,g||a.getContainer())},getContainer:function(){return d.container?d.container:document.body},getViewPort:function(g){return f.DOM.getViewPort(g)},get:function(g){return document.getElementById(g)},addClass:function(h,g){return f.DOM.addClass(h,g)},removeClass:function(h,g){return f.DOM.removeClass(h,g)},hasClass:function(h,g){return f.DOM.hasClass(h,g)},toggleClass:function(i,g,h){return f.DOM.toggleClass(i,g,h)},css:function(i,g,h){return f.DOM.setStyle(i,g,h)},getRuntimeStyle:function(h,g){return f.DOM.getStyle(h,g,!0)},on:function(k,h,j,g){return f.DOM.bind(k,h,j,g)},off:function(i,g,h){return f.DOM.unbind(i,g,h)},fire:function(i,g,h){return f.DOM.fire(i,g,h)},innerHtml:function(h,g){f.DOM.setHTML(h,g)}};return a}),bD(cU,[],function(){return{parseBox:function(b){var a,c=10;if(b){return"number"==typeof b?(b=b||0,{top:b,left:b,bottom:b,right:b}):(b=b.split(" "),a=b.length,1===a?b[1]=b[2]=b[3]=b[0]:2===a?(b[2]=b[0],b[3]=b[1]):3===a&&(b[3]=b[1]),{top:parseInt(b[0],c)||0,right:parseInt(b[1],c)||0,bottom:parseInt(b[2],c)||0,left:parseInt(b[3],c)||0})}},measureBox:function(c,a){function d(e){var f=document.defaultView;return f?(e=e.replace(/[A-Z]/g,function(g){return"-"+g}),f.getComputedStyle(c,null).getPropertyValue(e)):c.currentStyle[e]}function b(g){var f=parseFloat(d(g),10);return isNaN(f)?0:f}return{top:b(a+"TopWidth"),right:b(a+"RightWidth"),bottom:b(a+"BottomWidth"),left:b(a+"LeftWidth")}}}}),bD(cp,[bK],function(b){function a(){}function c(d){this.cls=[],this.cls._map={},this.onchange=d||a,this.prefix=""}return b.extend(c.prototype,{add:function(d){return d&&!this.contains(d)&&(this.cls._map[d]=!0,this.cls.push(d),this._change()),this},remove:function(f){if(this.contains(f)){for(var d=0;d<this.cls.length&&this.cls[d]!==f;d++){}this.cls.splice(d,1),delete this.cls._map[f],this._change()}return this},toggle:function(f,d){var g=this.contains(f);return g!==d&&(g?this.remove(f):this.add(f),this._change()),this},contains:function(d){return !!this.cls._map[d]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),c.prototype.toString=function(){var f;if(this.clsValue){return this.clsValue}f="";for(var d=0;d<this.cls.length;d++){d>0&&(f+=" "),f+=this.prefix+this.cls[d]}return f},c}),bD(aK,[bX],function(b){var a={},c;return{add:function(e){var d=e.parent();if(d){if(!d._layout||d._layout.isNative()){return}a[d._id]||(a[d._id]=d),c||(c=!0,b.requestAnimationFrame(function(){var g,f;c=!1;for(g in a){f=a[g],f.state.get("rendered")&&f.reflow()}a={}},document.body))}},remove:function(d){a[d._id]&&delete a[d._id]}}}),bD(ac,[bO,bK,bo,aL,aU,ax,bS,cU,cp,aK],function(G,k,z,w,C,y,J,q,B,j){function I(a){return a._eventDispatcher||(a._eventDispatcher=new z({scope:a,toggleEvent:function(c,d){d&&z.isNative(c)&&(a._nativeEvents||(a._nativeEvents={}),a._nativeEvents[c]=!0,a.state.get("rendered")&&H(a))}})),a._eventDispatcher}function H(K){function O(c){var d=K.getParentCtrl(c.target);d&&d.fire(c.type,c)}function g(){var c=N._lastHoverCtrl;c&&(c.fire("mouseleave",{target:c.getEl()}),c.parents().each(function(d){d.fire("mouseleave",{target:d.getEl()})}),N._lastHoverCtrl=null)}function a(e){var Q=K.getParentCtrl(e.target),l=N._lastHoverCtrl,d=0,u,c,h;if(Q!==l){if(N._lastHoverCtrl=Q,c=Q.parents().toArray().reverse(),c.push(Q),l){for(h=l.parents().toArray().reverse(),h.push(l),d=0;d<h.length&&c[d]===h[d];d++){}for(u=h.length-1;u>=d;u--){l=h[u],l.fire("mouseleave",{target:l.getEl()})}}for(u=d;u<c.length;u++){Q=c[u],Q.fire("mouseenter",{target:Q.getEl()})}}}function p(c){c.preventDefault(),"mousewheel"==c.type?(c.deltaY=-0.025*c.wheelDelta,c.wheelDeltaX&&(c.deltaX=-0.025*c.wheelDeltaX)):(c.deltaX=0,c.deltaY=c.detail),c=K.fire("wheel",c)}var f,P,m,N,M,L;if(M=K._nativeEvents){for(m=K.parents().toArray(),m.unshift(K),f=0,P=m.length;!N&&f<P;f++){N=m[f]._eventsRoot}for(N||(N=m[m.length-1]||K),K._eventsRoot=N,P=f,f=0;f<P;f++){m[f]._eventsRoot=N}var v=N._delegates;v||(v=N._delegates={});for(L in M){if(!M){return !1}"wheel"!==L||x?("mouseenter"===L||"mouseleave"===L?N._hasMouseEnter||(J(N.getEl()).on("mouseleave",g).on("mouseover",a),N._hasMouseEnter=1):v[L]||(J(N.getEl()).on(L,O),v[L]=!0),M[L]=!1):F?J(K.getEl()).on("mousewheel",p):J(K.getEl()).on("DOMMouseScroll",p)}}}var F="onmousewheel" in document,x=!1,D="mce-",A,E=0,b={Statics:{classPrefix:D},isRtl:function(){return A.rtl},classPrefix:D,init:function(d){function g(i){var h;for(i=i.split(" "),h=0;h<i.length;h++){c.classes.add(i[h])}}var c=this,f,a;c.settings=d=k.extend({},c.Defaults,d),c._id=d.id||"mceu_"+E++,c._aria={role:d.role},c._elmCache={},c.$=J,c.state=new w({visible:!0,active:!1,disabled:!1,value:""}),c.data=new w(d.data),c.classes=new B(function(){c.state.get("rendered")&&(c.getEl().className=this.toString())}),c.classes.prefix=c.classPrefix,f=d.classes,f&&(c.Defaults&&(a=c.Defaults.classes,a&&f!=a&&g(a)),g(f)),k.each("title text name visible disabled active value".split(" "),function(e){e in d&&c[e](d[e])}),c.on("click",function(){if(c.disabled()){return !1}}),c.settings=d,c.borderBox=q.parseBox(d.border),c.paddingBox=q.parseBox(d.padding),c.marginBox=q.parseBox(d.margin),d.hidden&&c.hide()},Properties:"parent,name",getContainerElm:function(){return y.getContainer()},getParentCtrl:function(c){for(var a,d=this.getRoot().controlIdLookup;c&&d&&!(a=d[c.id]);){c=c.parentNode}return a},initLayoutRect:function(){var R=this,Y=R.settings,K,o,N=R.getEl(),V,M,X,T,S,Q,s,O;K=R.borderBox=R.borderBox||q.measureBox(N,"border"),R.paddingBox=R.paddingBox||q.measureBox(N,"padding"),R.marginBox=R.marginBox||q.measureBox(N,"margin"),O=y.getSize(N),Q=Y.minWidth,s=Y.minHeight,X=Q||O.width,T=s||O.height,V=Y.width,M=Y.height,S=Y.autoResize,S="undefined"!=typeof S?S:!V&&!M,V=V||X,M=M||T;var L=K.left+K.right,P=K.top+K.bottom,W=Y.maxWidth||65535,U=Y.maxHeight||65535;return R._layoutRect=o={x:Y.x||0,y:Y.y||0,w:V,h:M,deltaW:L,deltaH:P,contentW:V-L,contentH:M-P,innerW:V-L,innerH:M-P,startMinWidth:Q||0,startMinHeight:s||0,minW:Math.min(X,W),minH:Math.min(T,U),maxW:W,maxH:U,autoResize:S,scrollW:0},R._lastLayoutRect={},o},layoutRect:function(m){var u=this,f=u._layoutRect,c,h,d,p,v,g;return f||(f=u.initLayoutRect()),m?(d=f.deltaW,p=f.deltaH,m.x!==v&&(f.x=m.x),m.y!==v&&(f.y=m.y),m.minW!==v&&(f.minW=m.minW),m.minH!==v&&(f.minH=m.minH),h=m.w,h!==v&&(h=h<f.minW?f.minW:h,h=h>f.maxW?f.maxW:h,f.w=h,f.innerW=h-d),h=m.h,h!==v&&(h=h<f.minH?f.minH:h,h=h>f.maxH?f.maxH:h,f.h=h,f.innerH=h-p),h=m.innerW,h!==v&&(h=h<f.minW-d?f.minW-d:h,h=h>f.maxW-d?f.maxW-d:h,f.innerW=h,f.w=h+d),h=m.innerH,h!==v&&(h=h<f.minH-p?f.minH-p:h,h=h>f.maxH-p?f.maxH-p:h,f.innerH=h,f.h=h+p),m.contentW!==v&&(f.contentW=m.contentW),m.contentH!==v&&(f.contentH=m.contentH),c=u._lastLayoutRect,c.x===f.x&&c.y===f.y&&c.w===f.w&&c.h===f.h||(g=A.repaintControls,g&&g.map&&!g.map[u._id]&&(g.push(u),g.map[u._id]=!0),c.x=f.x,c.y=f.y,c.w=f.w,c.h=f.h),u):f},repaint:function(){var p=this,M,g,d,m,f,K,N,h,L,v;L=document.createRange?function(a){return a}:Math.round,M=p.getEl().style,m=p._layoutRect,h=p._lastRepaintRect||{},f=p.borderBox,K=f.left+f.right,N=f.top+f.bottom,m.x!==h.x&&(M.left=L(m.x)+"px",h.x=m.x),m.y!==h.y&&(M.top=L(m.y)+"px",h.y=m.y),m.w!==h.w&&(v=L(m.w-K),M.width=(v>=0?v:0)+"px",h.w=m.w),m.h!==h.h&&(v=L(m.h-N),M.height=(v>=0?v:0)+"px",h.h=m.h),p._hasBody&&m.innerW!==h.innerW&&(v=L(m.innerW),d=p.getEl("body"),d&&(g=d.style,g.width=(v>=0?v:0)+"px"),h.innerW=m.innerW),p._hasBody&&m.innerH!==h.innerH&&(v=L(m.innerH),d=d||p.getEl("body"),d&&(g=g||d.style,g.height=(v>=0?v:0)+"px"),h.innerH=m.innerH),p._lastRepaintRect=h,p.fire("repaint",{},!1)},updateLayoutRect:function(){var a=this;a.parent()._lastRect=null,y.css(a.getEl(),{width:"",height:""}),a._layoutRect=a._lastRepaintRect=a._lastLayoutRect=null,a.initLayoutRect()},on:function(d,a){function f(h){var g,i;return"string"!=typeof h?h:function(e){return g||c.parentsAndSelf().each(function(m){var l=m.settings.callbacks;if(l&&(g=l[h])){return i=m,!1}}),g?g.call(i,e):(e.action=h,void this.fire("execute",e))}}var c=this;return I(c).on(d,f(a)),c},off:function(c,a){return I(this).off(c,a),this},fire:function(f,c,g){var d=this;if(c=c||{},c.control||(c.control=d),c=I(d).fire(f,c),g!==!1&&d.parent){for(var a=d.parent();a&&!c.isPropagationStopped();){a.fire(f,c,!1),a=a.parent()}}return c},hasEventListeners:function(a){return I(this).has(a)},parents:function(d){var a=this,f,c=new C;for(f=a.parent();f;f=f.parent()){c.add(f)}return d&&(c=c.filter(d)),c},parentsAndSelf:function(a){return new C(this).add(this.parents(a))},next:function(){var a=this.parent().items();return a[a.indexOf(this)+1]},prev:function(){var a=this.parent().items();return a[a.indexOf(this)-1]},innerHtml:function(a){return this.$el.html(a),this},getEl:function(c){var a=c?this._id+"-"+c:this._id;return this._elmCache[a]||(this._elmCache[a]=J("#"+a)[0]),this._elmCache[a]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(a){}return this},blur:function(){return this.getEl().blur(),this},aria:function(d,a){var f=this,c=f.getEl(f.ariaTarget);return"undefined"==typeof a?f._aria[d]:(f._aria[d]=a,f.state.get("rendered")&&c.setAttribute("role"==d?d:"aria-"+d,a),f)},encode:function(c,a){return a!==!1&&(c=this.translate(c)),(c||"").replace(/[&<>"]/g,function(d){return"&#"+d.charCodeAt(0)+";"})},translate:function(a){return A.translate?A.translate(a):a},before:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a),!0),a},after:function(c){var a=this,d=a.parent();return d&&d.insert(c,d.items().indexOf(a)),a},remove:function(){var g=this,c=g.getEl(),l=g.parent(),f,a;if(g.items){var h=g.items().toArray();for(a=h.length;a--;){h[a].remove()}}l&&l.items&&(f=[],l.items().each(function(e){e!==g&&f.push(e)}),l.items().set(f),l._lastRect=null),g._eventsRoot&&g._eventsRoot==g&&J(c).off();var d=g.getRoot().controlIdLookup;return d&&delete d[g._id],c&&c.parentNode&&c.parentNode.removeChild(c),g.state.set("rendered",!1),g.state.destroy(),g.fire("remove"),g},renderBefore:function(a){return J(a).before(this.renderHtml()),this.postRender(),this},renderTo:function(a){return J(a||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var m=this,u=m.settings,f,a,h,d,v;m.$el=J(m.getEl()),m.state.set("rendered",!0);for(d in u){0===d.indexOf("on")&&m.on(d.substr(2),u[d])}if(m._eventsRoot){for(h=m.parent();!v&&h;h=h.parent()){v=h._eventsRoot}if(v){for(d in v._nativeEvents){m._nativeEvents[d]=!0}}}H(m),u.style&&(f=m.getEl(),f&&(f.setAttribute("style",u.style),f.style.cssText=u.style)),m.settings.border&&(a=m.borderBox,m.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left}));var g=m.getRoot();g.controlIdLookup||(g.controlIdLookup={}),g.controlIdLookup[m._id]=m;for(var p in m._aria){m.aria(p,m._aria[p])}m.state.get("visible")===!1&&(m.getEl().style.display="none"),m.bindStates(),m.state.on("change:visible",function(c){var i=c.value,e;m.state.get("rendered")&&(m.getEl().style.display=i===!1?"none":"",m.getEl().getBoundingClientRect()),e=m.parent(),e&&(e._lastRect=null),m.fire(i?"show":"hide"),j.add(m)}),m.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(p){function M(o,c){var s,l,a=o;for(s=l=0;a&&a!=c&&a.nodeType;){s+=a.offsetLeft||0,l+=a.offsetTop||0,a=a.offsetParent}return{x:s,y:l}}var g=this.getEl(),d=g.parentNode,m,f,K,N,h,L,v=M(g,d);return m=v.x,f=v.y,K=g.offsetWidth,N=g.offsetHeight,h=d.clientWidth,L=d.clientHeight,"end"==p?(m-=h-K,f-=L-N):"center"==p&&(m-=h/2-K/2,f-=L/2-N/2),d.scrollLeft=m,d.scrollTop=f,this},getRoot:function(){for(var d=this,a,f=[];d;){if(d.rootControl){a=d.rootControl;break}f.push(d),a=d,d=d.parent()}a||(a=this);for(var c=f.length;c--;){f[c].rootControl=a}return a},reflow:function(){j.remove(this);var a=this.parent();return a._layout&&!a._layout.isNative()&&a.reflow(),this}};return k.each("text title visible disabled active value".split(" "),function(a){b[a]=function(c){return 0===arguments.length?this.state.get(a):("undefined"!=typeof c&&this.state.set(a,c),this)}}),A=G.extend(b)}),bD(am,[],function(){var b={},a;return{add:function(c,d){b[c.toLowerCase()]=d},has:function(c){return !!b[c.toLowerCase()]},create:function(g,e){var d,f,c;if(!a){c=tinymce.ui;for(f in c){b[f.toLowerCase()]=c[f]}a=!0}if("string"==typeof g?(e=e||{},e.type=g):(e=g,g=e.type),g=g.toLowerCase(),d=b[g],!d){throw new Error("Could not find control by type: "+g)}return d=new d(e),d.type=g,d}}}),bD(au,[],function(){return function(P){function B(a){return a&&1===a.nodeType}function I(a){return a=a||E,B(a)?a.getAttribute("role"):null}function F(c){for(var a,b=c||E;b=b.parentNode;){if(a=I(b)){return a}}}function L(a){var b=E;if(B(b)){return b.getAttribute("aria-"+a)}}function H(b){var a=b.tagName.toUpperCase();return"INPUT"==a||"TEXTAREA"==a||"SELECT"==a}function T(a){return !(!H(a)||a.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(I(a))}function D(b){function a(f){if(1==f.nodeType&&"none"!=f.style.display&&!f.disabled){T(f)&&c.push(f);for(var d=0;d<f.childNodes.length;d++){a(f.childNodes[d])}}}var c=[];return a(b||S.getEl()),c}function K(c){var a,d;c=c||k,d=c.parents().toArray(),d.unshift(c);for(var b=0;b<d.length&&(a=d[b],!a.settings.ariaRoot);b++){}return a}function A(b){var a=K(b),c=D(a.getEl());a.settings.ariaRemember&&"lastAriaIndex" in a?R(a.lastAriaIndex,c):R(0,c)}function R(b,a){return b<0?b=a.length-1:b>=a.length&&(b=0),a[b]&&a[b].focus(),b}function Q(d,b){var f=-1,c=K();b=b||D(c.getEl());for(var a=0;a<b.length;a++){b[a]===E&&(f=a)}f+=d,c.lastAriaIndex=R(f,b)}function O(){var a=F();"tablist"==a?Q(-1,D(E.parentNode)):k.parent().submenu?z():Q(-1)}function G(){var b=I(),a=F();"tablist"==a?Q(1,D(E.parentNode)):"menuitem"==b&&"menu"==a&&L("haspopup")?j():Q(1)}function M(){Q(-1)}function J(){var b=I(),a=F();"menuitem"==b&&"menubar"==a?j():"button"==b&&L("haspopup")?j({key:"down"}):Q(1)}function N(b){var a=F();if("tablist"==a){var c=D(k.getEl("body"))[0];c&&c.focus()}else{Q(b.shiftKey?-1:1)}}function z(){k.fire("cancel")}function j(a){a=a||{},k.fire("click",{target:E,aria:a})}var S=P.root,E,k;try{E=document.activeElement}catch(q){E=document.body}return k=S.getParentCtrl(E),S.on("keydown",function(b){function a(d,c){H(E)||"slider"!==I(E)&&c(d)!==!1&&d.preventDefault()}if(!b.isDefaultPrevented()){switch(b.keyCode){case 37:a(b,O);break;case 39:a(b,G);break;case 38:a(b,M);break;case 40:a(b,J);break;case 27:z();break;case 14:case 13:case 32:a(b,j);break;case 9:N(b)!==!1&&b.preventDefault()}}}),S.on("focusin",function(a){E=a.target,k=a.control}),{focusFirst:A}}}),bD(aX,[ac,aU,cS,am,au,bK,bS,cp,aK],function(h,m,d,b,g,c,j,p,f){var k={};return h.extend({init:function(a){var i=this;i._super(a),a=i.settings,a.fixed&&i.state.set("fixed",!0),i._items=new m,i.isRtl()&&i.classes.add("rtl"),i.bodyClasses=new p(function(){i.state.get("rendered")&&(i.getEl("body").className=this.toString())}),i.bodyClasses.prefix=i.classPrefix,i.classes.add("container"),i.bodyClasses.add("container-body"),a.containerCls&&i.classes.add(a.containerCls),i._layout=b.create((a.layout||"")+"layout"),i.settings.items?i.add(i.settings.items):i.add(i.render()),i._hasBody=!0},items:function(){return this._items},find:function(a){return a=k[a]=k[a]||new d(a),a.find(this)},add:function(i){var a=this;return a.items().add(a.create(i)).parent(a),a},focus:function(q){var l=this,s,o,a;return q&&(o=l.keyboardNav||l.parents().eq(-1)[0].keyboardNav)?void o.focusFirst(l):(a=l.find("*"),l.statusbar&&a.add(l.statusbar.items()),a.each(function(i){return i.settings.autofocus?(s=null,!1):void (i.canFocus&&(s=s||i))}),s&&s.focus(),l)},replace:function(q,l){for(var s,o=this.items(),a=o.length;a--;){if(o[a]===q){o[a]=l;break}}a>=0&&(s=l.getEl(),s&&s.parentNode.removeChild(s),s=q.getEl(),s&&s.parentNode.removeChild(s)),l.parent(this)},create:function(o){var q=this,l,e=[];return c.isArray(o)||(o=[o]),c.each(o,function(a){a&&(a instanceof h||("string"==typeof a&&(a={type:a}),l=c.extend({},q.settings.defaults,a),a.type=l.type=l.type||a.type||q.settings.defaultType||(l.defaults?l.defaults.type:null),a=b.create(l)),e.push(a))}),e},renderNew:function(){var a=this;return a.items().each(function(e,l){var i;e.parent(a),e.state.get("rendered")||(i=a.getEl("body"),i.hasChildNodes()&&l<=i.childNodes.length-1?j(i.childNodes[l]).before(e.renderHtml()):j(i).append(e.renderHtml()),e.postRender(),f.add(e))}),a._layout.applyClasses(a.items().filter(":visible")),a._lastRect=null,a},append:function(a){return this.add(a).renderNew()},prepend:function(i){var a=this;return a.items().set(a.create(i).concat(a.items().toArray())),a.renderNew()},insert:function(v,s,x){var u=this,q,w,l;return v=u.create(v),q=u.items(),!x&&s<q.length-1&&(s+=1),s>=0&&s<q.length&&(w=q.slice(0,s).toArray(),l=q.slice(s).toArray(),q.set(w.concat(v,l))),u.renderNew()},fromJSON:function(i){var a=this;for(var l in i){a.find("#"+l).value(i[l])}return a},toJSON:function(){var i=this,a={};return i.find("*").each(function(o){var q=o.name(),l=o.value();q&&"undefined"!=typeof l&&(a[q]=l)}),a},renderHtml:function(){var i=this,a=i._layout,l=this.settings.role;return i.preRender(),a.preRender(i),'<div id="'+i._id+'" class="'+i.classes+'"'+(l?' role="'+this.settings.role+'"':"")+'><div id="'+i._id+'-body" class="'+i.bodyClasses+'">'+(i.settings.html||"")+a.renderHtml(i)+"</div></div>"},postRender:function(){var i=this,a;return i.items().exec("postRender"),i._super(),i._layout.postRender(i),i.state.set("rendered",!0),i.settings.style&&i.$el.css(i.settings.style),i.settings.border&&(a=i.borderBox,i.$el.css({"border-top-width":a.top,"border-right-width":a.right,"border-bottom-width":a.bottom,"border-left-width":a.left})),i.parent()||(i.keyboardNav=new g({root:i})),i},initLayoutRect:function(){var i=this,a=i._super();return i._layout.recalc(i),a},recalc:function(){var i=this,a=i._layoutRect,l=i._lastRect;if(!l||l.w!=a.w||l.h!=a.h){return i._layout.recalc(i),a=i.layoutRect(),i._lastRect={x:a.x,y:a.y,w:a.w,h:a.h},!0}},reflow:function(){var a;if(f.remove(this),this.visible()){for(h.repaintControls=[],h.repaintControls.map={},this.recalc(),a=h.repaintControls.length;a--;){h.repaintControls[a].repaint()}"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),h.repaintControls=[]}return this}})}),bD(ag,[bS],function(b){function a(k){var q,g,d,j,f,m,v,h,p=Math.max;return q=k.documentElement,g=k.body,d=p(q.scrollWidth,g.scrollWidth),j=p(q.clientWidth,g.clientWidth),f=p(q.offsetWidth,g.offsetWidth),m=p(q.scrollHeight,g.scrollHeight),v=p(q.clientHeight,g.clientHeight),h=p(q.offsetHeight,g.offsetHeight),{width:d<f?j:d,height:m<h?v:m}}function c(f){var d,g;if(f.changedTouches){for(d="screenX screenY pageX pageY clientX clientY".split(" "),g=0;g<d.length;g++){f[d[g]]=f.changedTouches[0][d[g]]}}}return function(e,k){function h(){return w.getElementById(k.handle||e)}var t,w=k.document||document,j,v,q,n,m,g;k=k||{},v=function(l){var f=a(w),i,d;c(l),l.preventDefault(),j=l.button,i=h(),m=l.screenX,g=l.screenY,d=window.getComputedStyle?window.getComputedStyle(i,null).getPropertyValue("cursor"):i.runtimeStyle.cursor,t=b("<div></div>").css({position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:0.0001,cursor:d}).appendTo(w.body),b(w).on("mousemove touchmove",n).on("mouseup touchend",q),k.start(l)},n=function(d){return c(d),d.button!==j?q(d):(d.deltaX=d.screenX-m,d.deltaY=d.screenY-g,d.preventDefault(),void k.drag(d))},q=function(d){c(d),b(w).off("mousemove touchmove",n).off("mouseup touchend",q),t.remove(),k.stop&&k.stop(d)},this.destroy=function(){b(h()).off()},b(h()).on("mousedown touchstart",v)}}),bD(ab,[bS,ag],function(b,a){return{init:function(){var c=this;c.on("repaint",c.renderScroll)},renderScroll:function(){function f(){function h(F,C,G,o,E,z){var x,w,k,q,n,r,D,B,A;if(w=c.getEl("scroll"+F)){if(B=C.toLowerCase(),A=G.toLowerCase(),b(c.getEl("absend")).css(B,c.layoutRect()[o]-1),!E){return void b(w).css("display","none")}b(w).css("display","block"),x=c.getEl("body"),k=c.getEl("scroll"+F+"t"),q=x["client"+G]-2*e,q-=j&&i?w["client"+z]:0,n=x["scroll"+G],r=q/n,D={},D[B]=x["offset"+C]+e,D[A]=q,b(w).css(D),D={},D[B]=x["scroll"+C]*r,D[A]=q*r,b(k).css(D)}}var j,i,g;g=c.getEl("body"),j=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight,h("h","Left","Width","contentW",j,"Height"),h("v","Top","Height","contentH",i,"Width")}function d(){function g(q,m,i,k,h){var j,p=c._id+"-scroll"+q,o=c.classPrefix;b(c.getEl()).append('<div id="'+p+'" class="'+o+"scrollbar "+o+"scrollbar-"+q+'"><div id="'+p+'t" class="'+o+'scrollbar-thumb"></div></div>'),c.draghelper=new a(p+"t",{start:function(){j=c.getEl("body")["scroll"+m],b("#"+p).addClass(o+"active")},drag:function(s){var l,v,u,n,r=c.layoutRect();v=r.contentW>r.innerW,u=r.contentH>r.innerH,n=c.getEl("body")["client"+i]-2*e,n-=v&&u?c.getEl("scroll"+q)["client"+h]:0,l=n/c.getEl("body")["scroll"+i],c.getEl("body")["scroll"+m]=j+s["delta"+k]/l},stop:function(){b("#"+p).removeClass(o+"active")}})}c.classes.add("scroll"),g("v","Top","Height","Y","Width"),g("h","Left","Width","X","Height")}var c=this,e=2;c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,d(),c.on("wheel",function(h){var g=c.getEl("body");g.scrollLeft+=10*(h.deltaX||0),g.scrollTop+=10*h.deltaY,f()}),b(c.getEl("body")).on("scroll",f)),f())}}}),bD(ak,[aX,ab],function(b,a){return b.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[a],renderHtml:function(){var d=this,c=d._layout,f=d.settings.html;return d.preRender(),c.preRender(d),"undefined"==typeof f?f='<div id="'+d._id+'-body" class="'+d.bodyClasses+'">'+c.renderHtml(d)+"</div>":("function"==typeof f&&(f=f.call(d)),d._hasBody=!1),'<div id="'+d._id+'" class="'+d.classes+'" hidefocus="1" tabindex="-1" role="group">'+(d._preBodyHtml||"")+f+"</div>"}})}),bD(cT,[ax],function(b){function a(z,j,e){var m,h,x,A,k,y,w,v,q,g;return q=b.getViewPort(),h=b.getPos(j),x=h.x,A=h.y,z.state.get("fixed")&&"static"==b.getRuntimeStyle(document.body,"position")&&(x-=q.x,A-=q.y),m=z.getEl(),g=b.getSize(m),k=g.width,y=g.height,g=b.getSize(j),w=g.width,v=g.height,e=(e||"").split(""),"b"===e[0]&&(A+=v),"r"===e[1]&&(x+=w),"c"===e[0]&&(A+=Math.round(v/2)),"c"===e[1]&&(x+=Math.round(w/2)),"b"===e[3]&&(A-=y),"r"===e[4]&&(x-=k),"c"===e[3]&&(A-=Math.round(y/2)),"c"===e[4]&&(x-=Math.round(k/2)),{x:x,y:A,w:k,h:y}}return{testMoveRel:function(g,e){for(var d=b.getViewPort(),f=0;f<e.length;f++){var c=a(this,g,e[f]);if(this.state.get("fixed")){if(c.x>0&&c.x+c.w<d.w&&c.y>0&&c.y+c.h<d.h){return e[f]}}else{if(c.x>d.x&&c.x+c.w<d.w+d.x&&c.y>d.y&&c.y+c.h<d.h+d.y){return e[f]}}}return e[0]},moveRel:function(d,f){"string"!=typeof f&&(f=this.testMoveRel(d,f));var c=a(this,d,f);return this.moveTo(c.x,c.y)},moveBy:function(f,c){var g=this,d=g.layoutRect();return g.moveTo(d.x+f,d.y+c),g},moveTo:function(e,h){function f(j,i,k){return j<0?0:j+k>i?(j=i-k,j<0?0:j):j}var d=this;if(d.settings.constrainToViewport){var g=b.getViewPort(window),c=d.layoutRect();e=f(e,g.w+g.x,c.w),h=f(h,g.h+g.y,c.h)}return d.state.get("rendered")?d.layoutRect({x:e,y:h}).repaint():(d.settings.x=e,d.settings.y=h),d.fire("move",{x:e,y:h}),d}}}),bD(al,[ax],function(a){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(b,d){if(b<=1||d<=1){var c=a.getWindowSize();b=b<=1?b*c.w:b,d=d<=1?d*c.h:d}return this._layoutRect.autoResize=!1,this.layoutRect({minW:b,minH:d,w:b,h:d}).reflow()},resizeBy:function(d,b){var f=this,c=f.layoutRect();return f.resizeTo(c.w+d,c.h+b)}}}),bD(a4,[ak,cT,al,ax,bS,bX],function(L,w,E,A,H,D){function P(b,a){for(;b;){if(b==a){return !0}b=b.parent()}}function x(c){for(var a=k.length;a--;){var d=k[a],b=d.getParentCtrl(c.target);if(d.settings.autohide){if(b&&(P(b,d)||d.parent()===b)){continue}c=d.fire("autohide",{target:c.target}),c.isDefaultPrevented()||d.hide()}}}function G(){I||(I=function(a){2!=a.button&&x(a)},H(document).on("click touchstart",I))}function q(){F||(F=function(){var a;for(a=k.length;a--;){M(k[a])}},H(window).on("scroll",F))}function N(){if(!J){var b=document.documentElement,a=b.clientWidth,c=b.clientHeight;J=function(){document.all&&a==b.clientWidth&&c==b.clientHeight||(a=b.clientWidth,c=b.clientHeight,z.hideAll())},H(window).on("resize",J)}}function M(b){function a(e,g){for(var f,d=0;d<k.length;d++){if(k[d]!=b){for(f=k[d].parent();f&&(f=f.parent());){f==b&&k[d].fixed(e).moveBy(0,g).repaint()}}}}var c=A.getViewPort().y;b.settings.autofix&&(b.state.get("fixed")?b._autoFixY>c&&(b.fixed(!1).layoutRect({y:b._autoFixY}).repaint(),a(!1,b._autoFixY-c)):(b._autoFixY=b.layoutRect().y,b._autoFixY<c&&(b.fixed(!0).layoutRect({y:0}).repaint(),a(!0,c-b._autoFixY))))}function K(f,c){var h,d=z.zIndex||65535,g;if(f){j.push(c)}else{for(h=j.length;h--;){j[h]===c&&j.splice(h,1)}}if(j.length){for(h=0;h<j.length;h++){j[h].modal&&(d++,g=j[h]),j[h].getEl().style.zIndex=d,j[h].zIndex=d,d++}}var b=H("#"+c.classPrefix+"modal-block",c.getContainerElm())[0];g?H(b).css("z-index",g.zIndex-1):b&&(b.parentNode.removeChild(b),O=!1),z.currentZIndex=d}function B(b){var a;for(a=k.length;a--;){k[a]===b&&k.splice(a,1)}for(a=j.length;a--;){j[a]===b&&j.splice(a,1)}}var I,F,J,k=[],j=[],O,z=L.extend({Mixins:[w,E],init:function(b){var a=this;a._super(b),a._eventsRoot=a,a.classes.add("floatpanel"),b.autohide&&(G(),N(),k.push(a)),b.autofix&&(q(),a.on("move",function(){M(this)})),a.on("postrender show",function(d){if(d.control==a){var f,c=a.classPrefix;a.modal&&!O&&(f=H("#"+c+"modal-block",a.getContainerElm()),f[0]||(f=H('<div id="'+c+'modal-block" class="'+c+"reset "+c+'fade"></div>').appendTo(a.getContainerElm())),D.setTimeout(function(){f.addClass(c+"in"),H(a.getEl()).addClass(c+"in")}),O=!0),K(!0,a)}}),a.on("show",function(){a.parents().each(function(c){if(c.state.get("fixed")){return a.fixed(!0),!1}})}),b.popover&&(a._preBodyHtml='<div class="'+a.classPrefix+'arrow"></div>',a.classes.add("popover").add("bottom").add(a.isRtl()?"end":"start")),a.aria("label",b.ariaLabel),a.aria("labelledby",a._id),a.aria("describedby",a.describedBy||a._id+"-none")},fixed:function(b){var a=this;if(a.state.get("fixed")!=b){if(a.state.get("rendered")){var c=A.getViewPort();b?a.layoutRect().y-=c.y:a.layoutRect().y+=c.y}a.classes.toggle("fixed",b),a.state.set("fixed",b)}return a},show:function(){var b=this,a,c=b._super();for(a=k.length;a--&&k[a]!==b;){}return a===-1&&k.push(b),c},hide:function(){return B(this),K(!1,this),this._super()},hideAll:function(){z.hideAll()},close:function(){var a=this;return a.fire("close").isDefaultPrevented()||(a.remove(),K(!1,a)),a},remove:function(){B(this),this._super()},postRender:function(){var a=this;return a.settings.bodyRole&&this.getEl("body").setAttribute("role",a.settings.bodyRole),a._super()}});return z.hideAll=function(){for(var b=k.length;b--;){var a=k[b];a&&a.settings.autohide&&(a.hide(),k.splice(b,1))}},z}),bD(aT,[a4,ak,ax,bS,ag,cU,bW,bX],function(x,C,k,b,q,j,A,D){function m(d){var c="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",f=b("meta[name=viewport]")[0],a;A.overrideViewPort!==!1&&(f||(f=document.createElement("meta"),f.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(f)),a=f.getAttribute("content"),a&&"undefined"!=typeof g&&(g=a),f.setAttribute("content",d?c:g))}function B(c,a){z()&&a===!1&&b([document.documentElement,document.body]).removeClass(c+"fullscreen")}function z(){for(var a=0;a<w.length;a++){if(w[a]._fullscreen){return !0}}return !1}function y(){function c(){var h,d=k.getWindowSize(),f;for(h=0;h<w.length;h++){f=w[h].layoutRect(),w[h].moveTo(w[h].settings.x||Math.max(0,d.w/2-f.w/2),w[h].settings.y||Math.max(0,d.h/2-f.h/2))}}if(!A.desktop){var a={w:window.innerWidth,h:window.innerHeight};D.setInterval(function(){var d=window.innerWidth,f=window.innerHeight;a.w==d&&a.h==f||(a={w:d,h:f},b(window).trigger("resize"))},100)}b(window).on("resize",c)}var w=[],g="",v=x.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(c){var a=this;a._super(c),a.isRtl()&&a.classes.add("rtl"),a.classes.add("window"),a.bodyClasses.add("window-body"),a.state.set("fixed",!0),c.buttons&&(a.statusbar=new C({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:a.isRtl()?"start":"end",defaults:{type:"button"},items:c.buttons}),a.statusbar.classes.add("foot"),a.statusbar.parent(a)),a.on("click",function(f){var d=a.classPrefix+"close";(k.hasClass(f.target,d)||k.hasClass(f.target.parentNode,d))&&a.close()}),a.on("cancel",function(){a.close()}),a.aria("describedby",a.describedBy||a._id+"-none"),a.aria("label",c.title),a._fullscreen=!1},recalc:function(){var l=this,f=l.statusbar,h,d,n,c;l._fullscreen&&(l.layoutRect(k.getWindowSize()),l.layoutRect().contentH=l.layoutRect().innerH),l._super(),h=l.layoutRect(),l.settings.title&&!l._fullscreen&&(d=h.headerW,d>h.w&&(n=h.x-Math.max(0,d/2),l.layoutRect({w:d,x:n}),c=!0)),f&&(f.layoutRect({w:l.layoutRect().innerW}).recalc(),d=f.layoutRect().minW+h.deltaW,d>h.w&&(n=h.x-Math.max(0,d-h.w),l.layoutRect({w:d,x:n}),c=!0)),c&&l.recalc()},initLayoutRect:function(){var l=this,f=l._super(),h=0,d;if(l.settings.title&&!l._fullscreen){d=l.getEl("head");var n=k.getSize(d);f.headerW=n.width,f.headerH=n.height,h+=f.headerH}l.statusbar&&(h+=l.statusbar.layoutRect().h),f.deltaH+=h,f.minH+=h,f.h+=h;var c=k.getWindowSize();return f.x=l.settings.x||Math.max(0,c.w/2-f.w/2),f.y=l.settings.y||Math.max(0,c.h/2-f.h/2),f},renderHtml:function(){var p=this,f=p._layout,E=p._id,l=p.classPrefix,d=p.settings,u="",c="",h=d.html;return p.preRender(),f.preRender(p),d.title&&(u='<div id="'+E+'-head" class="'+l+'window-head"><div id="'+E+'-title" class="'+l+'title">'+p.encode(d.title)+'</div><div id="'+E+'-dragh" class="'+l+'dragh"></div><button type="button" class="'+l+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),d.url&&(h='<iframe src="'+d.url+'" tabindex="-1"></iframe>'),"undefined"==typeof h&&(h=f.renderHtml(p)),p.statusbar&&(c=p.statusbar.renderHtml()),'<div id="'+E+'" class="'+p.classes+'" hidefocus="1"><div class="'+p.classPrefix+'reset" role="application">'+u+'<div id="'+E+'-body" class="'+p.bodyClasses+'">'+h+"</div>"+c+"</div></div>"},fullscreen:function(p){var o=this,n=document.documentElement,f,d=o.classPrefix,h;if(p!=o._fullscreen){if(b(window).on("resize",function(){var c;if(o._fullscreen){if(f){o._timer||(o._timer=D.setTimeout(function(){var i=k.getWindowSize();o.moveTo(0,0).resizeTo(i.w,i.h),o._timer=0},50))}else{c=(new Date).getTime();var a=k.getWindowSize();o.moveTo(0,0).resizeTo(a.w,a.h),(new Date).getTime()-c>50&&(f=!0)}}}),h=o.layoutRect(),o._fullscreen=p,p){o._initial={x:h.x,y:h.y,w:h.w,h:h.h},o.borderBox=j.parseBox("0"),o.getEl("head").style.display="none",h.deltaH-=h.headerH+2,b([n,document.body]).addClass(d+"fullscreen"),o.classes.add("fullscreen");var r=k.getWindowSize();o.moveTo(0,0).resizeTo(r.w,r.h)}else{o.borderBox=j.parseBox(o.settings.border),o.getEl("head").style.display="",h.deltaH+=h.headerH,b([n,document.body]).removeClass(d+"fullscreen"),o.classes.remove("fullscreen"),o.moveTo(o._initial.x,o._initial.y).resizeTo(o._initial.w,o._initial.h)}}return o.reflow()},postRender:function(){var c=this,a;setTimeout(function(){c.classes.add("in"),c.fire("open")},0),c._super(),c.statusbar&&c.statusbar.postRender(),c.focus(),this.dragHelper=new q(c._id+"-dragh",{start:function(){a={x:c.layoutRect().x,y:c.layoutRect().y}},drag:function(d){c.moveTo(a.x+d.deltaX,a.y+d.deltaY)}}),c.on("submit",function(d){d.isDefaultPrevented()||c.close()}),w.push(c),m(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var c=this,a;for(c.dragHelper.destroy(),c._super(),c.statusbar&&this.statusbar.remove(),B(c.classPrefix,!1),a=w.length;a--;){w[a]===c&&w.splice(a,1)}m(w.length>0)},getContentWindow:function(){var a=this.getEl().getElementsByTagName("iframe")[0];return a?a.contentWindow:null}});return y(),v}),bD(aC,[aT],function(b){var a=b.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){function d(h,g,i){return{type:"button",text:h,subtype:i?"primary":"",onClick:function(j){j.control.parents()[1].close(),e(g)}}}var c,e=f.callback||function(){};switch(f.buttons){case a.OK_CANCEL:c=[d("Ok",!0,!0),d("Cancel",!1)];break;case a.YES_NO:case a.YES_NO_CANCEL:c=[d("Yes",1,!0),d("No",0)],f.buttons==a.YES_NO_CANCEL&&c.push(d("Cancel",-1));break;default:c=[d("Ok",!0,!0)]}return new b({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:c,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:f.onClose,onCancel:function(){e(!1)}}).renderTo(document.body).reflow()},alert:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,a.msgBox(c)},confirm:function(c,d){return"string"==typeof c&&(c={text:c}),c.callback=d,c.buttons=a.OK_CANCEL,a.msgBox(c)}}});return a}),bD(bi,[aT,aC],function(b,a){return function(h){function f(){if(e.length){return e[e.length-1]}}function d(i){h.fire("OpenWindow",{win:i})}function g(i){h.fire("CloseWindow",{win:i})}var c=this,e=[];c.windows=e,h.on("remove",function(){for(var i=e.length;i--;){e[i].close()}}),c.open=function(j,k){var i;return h.editorManager.setActive(h),j.title=j.title||" ",j.url=j.url||j.file,j.url&&(j.width=parseInt(j.width||320,10),j.height=parseInt(j.height||240,10)),j.body&&(j.items={defaults:j.defaults,type:j.bodyType||"form",items:j.body,data:j.data,callbacks:j.commands}),j.url||j.buttons||(j.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),i=new b(j),e.push(i),i.on("close",function(){for(var l=e.length;l--;){e[l]===i&&e.splice(l,1)}e.length||h.focus(),g(i)}),j.data&&i.on("postRender",function(){this.find("*").each(function(l){var m=l.name();m in j.data&&l.value(j.data[m])})}),i.features=j||{},i.params=k||{},1===e.length&&h.nodeChanged(),i=i.renderTo().reflow(),d(i),i},c.alert=function(l,k,i){var j;j=a.alert(l,function(){k?k.call(i||this):h.focus()}),j.on("close",function(){g(j)}),d(j)},c.confirm=function(k,l,j){var i;i=a.confirm(k,function(m){l.call(j||this,m)}),i.on("close",function(){g(i)}),d(i)},c.close=function(){f()&&f().close()},c.getParams=function(){return f()?f().params:null},c.setParams=function(i){f()&&(f().params=i)},c.getWindows=function(){return e}}}),bD(a8,[ac,cT],function(b,a){return b.extend({Mixins:[a],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var d=this,c=d.classPrefix;return'<div id="'+d._id+'" class="'+d.classes+'" role="presentation"><div class="'+c+'tooltip-arrow"></div><div class="'+c+'tooltip-inner">'+d.encode(d.state.get("text"))+"</div></div>"},bindStates:function(){var c=this;return c.state.on("change:text",function(d){c.getEl().lastChild.innerHTML=c.encode(d.value)}),c._super()},repaint:function(){var d=this,c,f;c=d.getEl().style,f=d._layoutRect,c.left=f.x+"px",c.top=f.y+"px",c.zIndex=131070}})}),bD(aE,[ac,a8],function(c,a){var d,b=c.extend({init:function(g){var f=this;f._super(g),g=f.settings,f.canFocus=!0,g.tooltip&&b.tooltips!==!1&&(f.on("mouseenter",function(j){var h=f.tooltip().moveTo(-65535);if(j.control==f){var e=h.text(g.tooltip).show().testMoveRel(f.getEl(),["bc-tc","bc-tl","bc-tr"]);h.classes.toggle("tooltip-n","bc-tc"==e),h.classes.toggle("tooltip-nw","bc-tl"==e),h.classes.toggle("tooltip-ne","bc-tr"==e),h.moveRel(f.getEl(),e)}else{h.hide()}}),f.on("mouseleave mousedown click",function(){f.tooltip().hide()})),f.aria("label",g.ariaLabel||g.tooltip)},tooltip:function(){return d||(d=new a({type:"tooltip"}),d.renderTo()),d},postRender:function(){var g=this,f=g.settings;g._super(),g.parent()||!f.width&&!f.height||(g.initLayoutRect(),g.repaint()),f.autofocus&&g.focus()},bindStates:function(){function g(i){h.aria("disabled",i),h.classes.toggle("disabled",i)}function f(i){h.aria("pressed",i),h.classes.toggle("active",i)}var h=this;return h.state.on("change:disabled",function(e){g(e.value)}),h.state.on("change:active",function(i){f(i.value)}),h.state.get("disabled")&&g(!0),h.state.get("active")&&f(!0),h._super()},remove:function(){this._super(),d&&(d.remove(),d=null)}});return b}),bD(aN,[aE],function(a){return a.extend({Defaults:{value:0},init:function(c){var b=this;b._super(c),b.classes.add("progress"),b.settings.filter||(b.settings.filter=function(d){return Math.round(d)})},renderHtml:function(){var c=this,b=c._id,d=this.classPrefix;return'<div id="'+b+'" class="'+c.classes+'"><div class="'+d+'bar-container"><div class="'+d+'bar"></div></div><div class="'+d+'text">0%</div></div>'},postRender:function(){var b=this;return b._super(),b.value(b.settings.value),b},bindStates:function(){function c(d){d=b.settings.filter(d),b.getEl().lastChild.innerHTML=d+"%",b.getEl().firstChild.firstChild.style.width=d+"%"}var b=this;return b.state.on("change:value",function(d){c(d.value)}),c(b.state.get("value")),b._super()}})}),bD(cR,[ac,cT,aN,bX],function(c,a,d,b){return c.extend({Mixins:[a],Defaults:{classes:"widget notification"},init:function(g){var f=this;f._super(g),g.text&&f.text(g.text),g.icon&&(f.icon=g.icon),g.color&&(f.color=g.color),g.type&&f.classes.add("notification-"+g.type),g.timeout&&(g.timeout<0||g.timeout>0)&&!g.closeButton?f.closeButton=!1:(f.classes.add("has-close"),f.closeButton=!0),g.progressBar&&(f.progressBar=new d),f.on("click",function(h){h.target.className.indexOf(f.classPrefix+"close")!=-1&&f.close()})},renderHtml:function(){var j=this,g=j.classPrefix,l="",h="",f="",k="";return j.icon&&(l='<i class="'+g+"ico "+g+"i-"+j.icon+'"></i>'),j.color&&(k=' style="background-color: '+j.color+'"'),j.closeButton&&(h='<button type="button" class="'+g+'close" aria-hidden="true">\xd7</button>'),j.progressBar&&(f=j.progressBar.renderHtml()),'<div id="'+j._id+'" class="'+j.classes+'"'+k+' role="presentation">'+l+'<div class="'+g+'notification-inner">'+j.state.get("text")+"</div>"+f+h+"</div>"},postRender:function(){var f=this;return b.setTimeout(function(){f.$el.addClass(f.classPrefix+"in")}),f._super()},bindStates:function(){var f=this;return f.state.on("change:text",function(e){f.getEl().childNodes[1].innerHTML=e.value}),f.progressBar&&f.progressBar.bindStates(),f._super()},close:function(){var f=this;return f.fire("close").isDefaultPrevented()||f.remove(),f},repaint:function(){var g=this,f,h;f=g.getEl().style,h=g._layoutRect,f.left=h.x+"px",f.top=h.y+"px",f.zIndex=65534}})}),bD(cE,[cR,bX,bK],function(b,a,c){return function(e){function j(){if(k.length){return k[k.length-1]}}function g(){a.requestAnimationFrame(function(){p(),t()})}function p(){for(var d=0;d<k.length;d++){k[d].moveTo(0,0)}}function t(){if(k.length>0){var f=k.slice(0,1)[0],d=e.inline?e.getElement():e.getContentAreaContainer();if(f.moveRel(d,"tc-tc"),k.length>1){for(var i=1;i<k.length;i++){k[i].moveRel(k[i-1].getEl(),"bc-tc")}}}}function h(i,d){if(!n(d)){return null}var f=c.grep(i,function(l){return q(d,l)});return 0===f.length?null:f[0]}function q(f,d){return f.type===d.settings.type&&f.text===d.settings.text}function n(d){return !d.progressBar&&!d.timeout}var m=this,k=[];m.notifications=k,e.on("remove",function(){for(var d=k.length;d--;){k[d].close()}}),e.on("ResizeEditor",t),e.on("ResizeWindow",g),m.open=function(f){if(!e.removed){var l;e.editorManager.setActive(e);var d=h(k,f);return null===d?(l=new b(f),k.push(l),f.timeout>0&&(l.timer=setTimeout(function(){l.close()},f.timeout)),l.on("close",function(){var i=k.length;for(l.timer&&e.getWin().clearTimeout(l.timer);i--;){k[i]===l&&k.splice(i,1)}t()}),l.renderTo(),t()):l=d,l}},m.close=function(){j()&&j().close()},m.getNotifications=function(){return k},e.on("SkinLoaded",function(){var d=e.settings.service_message;d&&e.notificationManager.open({text:d,type:"warning",timeout:0,icon:""})})}}),bD(aj,[bx],function(b){function a(e,g,f){for(var d=[];g&&g!=e;g=g.parentNode){d.push(b.nodeIndex(g,f))}return d}function c(h,f){var j,g,d;for(g=h,j=f.length-1;j>=0;j--){if(d=g.childNodes,f[j]>d.length-1){return null}g=d[f[j]]}return g}return{create:a,resolve:c}}),bD(cK,[cs,cb,bu,aj,cF,cC,bW,bK,bX,bM,cQ,b2],function(k,w,g,b,j,f,q,x,h,v,p,m){return function(dA){function du(z,y){try{dA.getDoc().execCommand(z,!1,y)}catch(A){}}function dy(){var y=dA.getDoc().documentMode;return y?y:6}function dv(y){return y.isDefaultPrevented()}function dz(z){var y,A;z.dataTransfer&&(dA.selection.isCollapsed()&&"IMG"==z.target.tagName&&dn.select(z.target),y=dA.selection.getContent(),y.length>0&&(A=dh+escape(dA.id)+","+escape(y),z.dataTransfer.setData(db,A)))}function ds(z){var y;return z.dataTransfer&&(y=z.dataTransfer.getData(db),y&&y.indexOf(dh)>=0)?(y=y.substr(dh.length).split(","),{id:unescape(y[0]),html:unescape(y[1])}):null}function dm(y){dA.queryCommandSupported("mceInsertClipboardContent")?dA.execCommand("mceInsertClipboardContent",!1,{content:y}):dA.execCommand("mceInsertContent",!1,y)}function dB(){function B(E){var C=J.schema.getBlockElements(),N=dA.getBody();if("BR"!=E.nodeName){return !1}for(;E!=N&&!C[E.nodeName];E=E.parentNode){if(E.nextSibling){return !1}}return !0}function A(E,C){var N;for(N=E.nextSibling;N&&N!=C;N=N.nextSibling){if((3!=N.nodeType||0!==c.trim(N.data).length)&&N!==C){return !1}}return N===C}function K(R,E,Q){var S,C,N;if(J.isChildOf(R,dA.getBody())){for(N=J.schema.getNonEmptyElements(),S=new g(Q||R,R);C=S[E?"next":"prev"]();){if(N[C.nodeName]&&!B(C)){return C}if(3==C.nodeType&&C.data.length>0){return C}}}}function O(Q){var S,N,C,R,E;if(!Q.collapsed&&(S=J.getParent(w.getNode(Q.startContainer,Q.startOffset),J.isBlock),N=J.getParent(w.getNode(Q.endContainer,Q.endOffset),J.isBlock),E=dA.schema.getTextBlockElements(),S!=N&&E[S.nodeName]&&E[N.nodeName]&&"false"!==J.getContentEditable(S)&&"false"!==J.getContentEditable(N))){return Q.deleteContents(),C=K(S,!1),R=K(N,!0),J.isEmpty(N)||c(S).append(N.childNodes),c(N).remove(),C?1==C.nodeType?"BR"==C.nodeName?(Q.setStartBefore(C),Q.setEndBefore(C)):(Q.setStartAfter(C),Q.setEndAfter(C)):(Q.setStart(C,C.data.length),Q.setEnd(C,C.data.length)):R&&(1==R.nodeType?(Q.setStartBefore(R),Q.setEndBefore(R)):(Q.setStart(R,0),Q.setEnd(R,0))),L.setRng(Q),!0}}function H(R,E){var C,Q,V,N,U,T;if(!R.collapsed){return R}if(U=R.startContainer,T=R.startOffset,3==U.nodeType){if(E){if(T<U.data.length){return R}}else{if(T>0){return R}}}C=w.getNode(U,T),V=J.getParent(C,J.isBlock),Q=K(dA.getBody(),E,C),N=J.getParent(Q,J.isBlock);var S=1===U.nodeType&&T>U.childNodes.length-1;if(!C||!Q){return R}if(N&&V!=N){if(E){if(!A(V,N)){return R}1==C.nodeType?"BR"==C.nodeName?R.setStartBefore(C):R.setStartAfter(C):R.setStart(C,C.data.length),1==Q.nodeType?R.setEnd(Q,0):R.setEndBefore(Q)}else{if(!A(N,V)){return R}1==Q.nodeType?"BR"==Q.nodeName?R.setStartBefore(Q):R.setStartAfter(Q):R.setStart(Q,Q.data.length),1==C.nodeType&&S?R.setEndAfter(C):R.setEndBefore(C)}}return R}function G(E){var C=L.getRng();if(C=H(C,E),O(C)){return !0}}function z(U,Z){function N(ae,ce){return Q=c(ce).parents().filter(function(dE,de){return !!dA.schema.getTextInlineElements()[de.nodeName]}),R=ae.cloneNode(!1),Q=x.map(Q,function(de){return de=de.cloneNode(!1),R.hasChildNodes()?(de.appendChild(R.firstChild),R.appendChild(de)):R.appendChild(de),R.appendChild(de),de}),Q.length?(T=J.create("br"),Q[0].appendChild(T),J.replace(R,ae),Z.setStartBefore(T),Z.setEndBefore(T),dA.selection.setRng(Z),T):null}function S(ae){return ae&&dA.schema.getTextBlockElements()[ae.tagName]}var E,X,R,Y,W,V,C,T,Q;if(Z.collapsed&&(V=Z.startContainer,C=Z.startOffset,X=J.getParent(V,J.isBlock),S(X))){if(1==V.nodeType){if(V=V.childNodes[C],V&&"BR"!=V.tagName){return}if(W=U?X.nextSibling:X.previousSibling,J.isEmpty(X)&&S(W)&&J.isEmpty(W)&&N(X,V)){return J.remove(W),!0}}else{if(3==V.nodeType){if(E=b.create(X,V),Y=X.cloneNode(!0),V=b.resolve(Y,E),U){if(C>=V.data.length){return}V.deleteData(C,1)}else{if(C<=0){return}V.deleteData(C-1,1)}if(J.isEmpty(Y)){return N(X,V)}}}}}function D(N){var C,Q,E;G(N)||(x.each(dA.getBody().getElementsByTagName("*"),function(R){"SPAN"==R.tagName&&R.setAttribute("mce-data-marked",1),!R.hasAttribute("data-mce-style")&&R.hasAttribute("style")&&dA.dom.setAttrib(R,"style",dA.dom.getAttrib(R,"style"))}),C=new P(function(){}),C.observe(dA.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),dA.getDoc().execCommand(N?"ForwardDelete":"Delete",!1,null),Q=dA.selection.getRng(),E=Q.startContainer.parentNode,x.each(C.takeRecords(),function(S){if(J.isChildOf(S.target,dA.getBody())){if("style"==S.attributeName){var R=S.target.getAttribute("data-mce-style");R?S.target.setAttribute("style",R):S.target.removeAttribute("style")}x.each(S.addedNodes,function(V){if("SPAN"==V.nodeName&&!V.getAttribute("mce-data-marked")){var U,T;V==E&&(U=Q.startOffset,T=V.firstChild),J.remove(V,!0),T&&(Q.setStart(T,U),Q.setEnd(T,U),dA.selection.setRng(Q))}})}}),C.disconnect(),x.each(dA.dom.select("span[mce-data-marked]"),function(R){R.removeAttribute("mce-data-marked")}))}function I(C){dA.undoManager.transact(function(){D(C)})}var y=dA.getDoc(),J=dA.dom,L=dA.selection,P=window.MutationObserver,F,M;P||(F=!0,P=function(){function N(S){var R=S.relatedNode||S.target;Q.push({target:R,addedNodes:[R]})}function C(S){var R=S.relatedNode||S.target;Q.push({target:R,attributeName:S.attrName})}var Q=[],E;this.observe=function(R){E=R,E.addEventListener("DOMSubtreeModified",N,!1),E.addEventListener("DOMNodeInsertedIntoDocument",N,!1),E.addEventListener("DOMNodeInserted",N,!1),E.addEventListener("DOMAttrModified",C,!1)},this.disconnect=function(){E.removeEventListener("DOMSubtreeModified",N,!1),E.removeEventListener("DOMNodeInsertedIntoDocument",N,!1),E.removeEventListener("DOMNodeInserted",N,!1),E.removeEventListener("DOMAttrModified",C,!1)},this.takeRecords=function(){return Q}}),dA.on("keydown",function(Q){var E=Q.keyCode==i,S=Q.ctrlKey||Q.metaKey;if(!dv(Q)&&(E||Q.keyCode==dC)){var N=dA.selection.getRng(),C=N.startContainer,R=N.startOffset;if(E&&Q.shiftKey){return}if(z(E,N)){return void Q.preventDefault()}if(!S&&N.collapsed&&3==C.nodeType&&(E?R<C.data.length:R>0)){return}Q.preventDefault(),S&&dA.selection.getSel().modify("extend",E?"forward":"backward",Q.metaKey?"lineboundary":"word"),D(E)}}),dA.on("keypress",function(N){if(!dv(N)&&!L.isCollapsed()&&N.charCode>31&&!k.metaKeyPressed(N)){var T,R,E,S,C,Q;T=dA.selection.getRng(),Q=String.fromCharCode(N.charCode),N.preventDefault(),R=c(T.startContainer).parents().filter(function(V,U){return !!dA.schema.getTextInlineElements()[U.nodeName]}),D(!0),R=R.filter(function(V,U){return !c.contains(dA.getBody(),U)}),R.length?(E=J.createFragment(),R.each(function(V,U){U=U.cloneNode(!1),E.hasChildNodes()?(U.appendChild(E.firstChild),E.appendChild(U)):(C=U,E.appendChild(U)),E.appendChild(U)}),C.appendChild(dA.getDoc().createTextNode(Q)),S=J.getParent(T.startContainer,J.isBlock),J.isEmpty(S)?c(S).empty().append(E):T.insertNode(E),T.setStart(C.firstChild,1),T.setEnd(C.firstChild,1),dA.selection.setRng(T)):dA.selection.setContent(Q)}}),dA.addCommand("Delete",function(){D()}),dA.addCommand("ForwardDelete",function(){D(!0)}),F||(dA.on("dragstart",function(C){M=L.getRng(),dz(C)}),dA.on("drop",function(C){if(!dv(C)){var E=ds(C);E&&(C.preventDefault(),h.setEditorTimeout(dA,function(){var N=w.getCaretRangeFromPoint(C.x,C.y,y);M&&(L.setRng(M),M=null,I()),L.setRng(N),dm(E.html)}))}}),dA.on("cut",function(C){dv(C)||!C.clipboardData||dA.selection.isCollapsed()||(C.preventDefault(),C.clipboardData.clearData(),C.clipboardData.setData("text/html",dA.selection.getContent()),C.clipboardData.setData("text/plain",dA.selection.getContent({format:"text"})),h.setEditorTimeout(dA,function(){I(!0)}))}))}function da(){function y(B){var A=a.create("body"),C=B.cloneContents();return A.appendChild(C),dn.serializer.serialize(A,{format:"html"})}function z(E){if(!E.setStart){if(E.item){return !1}var C=E.duplicate();return C.moveToElementText(dA.getBody()),w.compareRanges(E,C)}var B=y(E),D=a.createRng();D.selectNode(dA.getBody());var A=y(D);return B===A}dA.on("keydown",function(D){var B=D.keyCode,C,A;if(!dv(D)&&(B==i||B==dC)){if(C=dA.selection.isCollapsed(),A=dA.getBody(),C&&!a.isEmpty(A)){return}if(!C&&!z(dA.selection.getRng())){return}D.preventDefault(),dA.setContent(""),A.firstChild&&a.isBlock(A.firstChild)?dA.selection.setCursorLocation(A.firstChild,0):dA.selection.setCursorLocation(A,0),dA.nodeChanged()}})}function dp(){dA.shortcuts.add("meta+a",null,"SelectAll")}function dq(){dA.settings.content_editable||a.bind(dA.getDoc(),"mousedown mouseup",function(z){var y;if(z.target==dA.getDoc().documentElement){if(y=dn.getRng(),dA.getBody().focus(),"mousedown"==z.type){if(v.isCaretContainer(y.startContainer)){return}dn.placeCaretAt(z.clientX,z.clientY)}else{dn.setRng(y)}}})}function c7(){dA.on("keydown",function(z){if(!dv(z)&&z.keyCode===dC){if(!dA.getBody().getElementsByTagName("hr").length){return}if(dn.isCollapsed()&&0===dn.getRng(!0).startOffset){var y=dn.getNode(),A=y.previousSibling;if("HR"==y.nodeName){return a.remove(y),void z.preventDefault()}A&&A.nodeName&&"hr"===A.nodeName.toLowerCase()&&(a.remove(A),z.preventDefault())}}})}function be(){window.Range.prototype.getClientRects||dA.on("mousedown",function(z){if(!dv(z)&&"HTML"===z.target.nodeName){var y=dA.getBody();y.blur(),h.setEditorTimeout(dA,function(){y.focus()})}})}function dD(){dA.on("click",function(z){var y=z.target;/^(IMG|HR)$/.test(y.nodeName)&&"false"!==a.getContentEditableParent(y)&&(z.preventDefault(),dn.select(y),dA.nodeChanged()),"A"==y.nodeName&&a.hasClass(y,"mce-item-anchor")&&(z.preventDefault(),dn.select(y))})}function s(){function z(){var A=a.getAttribs(dn.getStart().cloneNode(!1));return function(){var B=dn.getStart();B!==dA.getBody()&&(a.setAttrib(B,"style",null),u(A,function(C){B.setAttributeNode(C.cloneNode(!0))}))}}function y(){return !dn.isCollapsed()&&a.getParent(dn.getStart(),a.isBlock)!=a.getParent(dn.getEnd(),a.isBlock)}dA.on("keypress",function(B){var A;if(!dv(B)&&(8==B.keyCode||46==B.keyCode)&&y()){return A=z(),dA.getDoc().execCommand("delete",!1,null),A(),B.preventDefault(),!1}}),a.bind(dA.getDoc(),"cut",function(B){var A;!dv(B)&&y()&&(A=z(),h.setEditorTimeout(dA,function(){A()}))})}function dw(){document.body.setAttribute("role","application")}function r(){dA.on("keydown",function(z){if(!dv(z)&&z.keyCode===dC&&dn.isCollapsed()&&0===dn.getRng(!0).startOffset){var y=dn.getNode().previousSibling;if(y&&y.nodeName&&"table"===y.nodeName.toLowerCase()){return z.preventDefault(),!1}}})}function t(){dy()>7||(du("RespectVisibilityInDesign",!0),dA.contentStyles.push(".mceHideBrInPre pre br {display: none}"),a.addClass(dA.getBody(),"mceHideBrInPre"),dk.addNodeFilter("pre",function(B){for(var z=B.length,D,A,C,y;z--;){for(D=B[z].getAll("br"),A=D.length;A--;){C=D[A],y=C.prev,y&&3===y.type&&"\n"!=y.value.charAt(y.value-1)?y.value+="\n":C.parent.insert(new j("#text",3),C,!0).value="\n"}}}),c8.addNodeFilter("pre",function(B){for(var z=B.length,D,A,y,C;z--;){for(D=B[z].getAll("br"),A=D.length;A--;){y=D[A],C=y.prev,C&&3==C.type&&(C.value=C.value.replace(/\r?\n$/,""))}}}))}function dd(){a.bind(dA.getBody(),"mouseup",function(){var z,y=dn.getNode();"IMG"==y.nodeName&&((z=a.getStyle(y,"width"))&&(a.setAttrib(y,"width",z.replace(/[^0-9%]+/g,"")),a.setStyle(y,"width","")),(z=a.getStyle(y,"height"))&&(a.setAttrib(y,"height",z.replace(/[^0-9%]+/g,"")),a.setStyle(y,"height","")))})}function dc(){dA.on("keydown",function(A){var D,B,z,C,y;if(!dv(A)&&A.keyCode==k.BACKSPACE&&(D=dn.getRng(),B=D.startContainer,z=D.startOffset,C=a.getRoot(),y=B,D.collapsed&&0===z)){for(;y&&y.parentNode&&y.parentNode.firstChild==y&&y.parentNode!=C;){y=y.parentNode}"BLOCKQUOTE"===y.tagName&&(dA.formatter.toggle("blockquote",null,y),D=a.createRng(),D.setStart(B,0),D.setEnd(B,0),dn.setRng(D))}})}function c9(){function y(){c1(),du("StyleWithCSS",!1),du("enableInlineTableEditing",!1),di.object_resizing||du("enableObjectResizing",!1)}di.readonly||dA.on("BeforeExecCommand MouseDown",y)}function ct(){function y(){u(a.select("a"),function(A){var z=A.parentNode,B=a.getRoot();if(z.lastChild===A){for(;z&&!a.isBlock(z);){if(z.parentNode.lastChild!==z||z===B){return}z=z.parentNode}a.add(z,"br",{"data-mce-bogus":1})}})}dA.on("SetContent ExecCommand",function(z){"setcontent"!=z.type&&"mceInsertLink"!==z.command||y()})}function bt(){di.forced_root_block&&dA.on("init",function(){du("DefaultParagraphSeparator",di.forced_root_block)})}function an(){dA.on("keydown",function(z){var y;dv(z)||z.keyCode!=dC||(y=dA.getDoc().selection.createRange(),y&&y.item&&(z.preventDefault(),dA.undoManager.beforeChange(),a.remove(y.item(0)),dA.undoManager.add()))})}function at(){var y;dy()>=10&&(y="",u("p div h1 h2 h3 h4 h5 h6".split(" "),function(z,A){y+=(A>0?",":"")+z+":empty"}),dA.contentStyles.push(y+"{padding-right: 1px !important}"))}function c4(){dy()<9&&(dk.addNodeFilter("noscript",function(A){for(var y=A.length,B,z;y--;){B=A[y],z=B.firstChild,z&&B.attr("data-mce-innertext",z.value)}}),c8.addNodeFilter("noscript",function(B){for(var z=B.length,C,A,y;z--;){C=B[z],A=B[z].firstChild,A?A.value=f.decode(A.value):(y=C.attributes.map["data-mce-innertext"],y&&(C.attr("data-mce-innertext",null),A=new j("#text",3),A.value=y,A.raw=!0,C.append(A)))}}))}function c3(){function D(I,G){var J=z.createTextRange();try{J.moveToPoint(I,G)}catch(H){J=null}return J}function A(G){var H;G.button?(H=D(G.x,G.y),H&&(H.compareEndPoints("StartToStart",y)>0?H.setEndPoint("StartToStart",y):H.setEndPoint("EndToEnd",y),H.select())):F()}function F(){var G=C.selection.createRange();y&&!G.item&&0===G.compareEndPoints("StartToEnd",G)&&y.select(),a.unbind(C,"mouseup",F),a.unbind(C,"mousemove",A),y=E=0}var C=a.doc,z=C.body,E,y,B;C.documentElement.unselectable=!0,a.bind(C,"mousedown contextmenu",function(G){if("HTML"===G.target.nodeName){if(E&&F(),B=C.documentElement,B.scrollHeight>B.clientHeight){return}E=1,y=D(G.x,G.y),y&&(a.bind(C,"mouseup",F),a.bind(C,"mousemove",A),a.getRoot().focus(),y.select())}})}function c6(){dA.on("keyup focusin mouseup",function(y){65==y.keyCode&&k.metaKeyPressed(y)||dn.normalize()},!0)}function dl(){dA.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function o(){dA.inline||dA.on("keydown",function(){document.activeElement==document.body&&dA.getWin().focus()})}function l(){dA.inline||(dA.contentStyles.push("body {min-height: 150px}"),dA.on("click",function(z){var y;if("HTML"==z.target.nodeName){if(q.ie>11){return void dA.getBody().focus()}y=dA.selection.getRng(),dA.getBody().focus(),dA.selection.setRng(y),dA.selection.normalize(),dA.nodeChanged()}}))}function n(){q.mac&&dA.on("keydown",function(y){!k.metaKeyPressed(y)||y.shiftKey||37!=y.keyCode&&39!=y.keyCode||(y.preventDefault(),dA.selection.getSel().modify("move",37==y.keyCode?"backward":"forward","lineboundary"))})}function dg(){du("AutoUrlDetect",!1)}function dt(){dA.on("click",function(z){var y=z.target;do{if("A"===y.tagName){return void z.preventDefault()}}while(y=y.parentNode)}),dA.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function dx(){dA.on("init",function(){dA.dom.bind(dA.getBody(),"submit",function(y){y.preventDefault()})})}function d(){dk.addNodeFilter("br",function(z){for(var y=z.length;y--;){"Apple-interchange-newline"==z[y].attr("class")&&z[y].remove()}})}function e(){dA.on("dragstart",function(y){dz(y)}),dA.on("drop",function(z){if(!dv(z)){var A=ds(z);if(A&&A.id!=dA.id){z.preventDefault();var y=w.getCaretRangeFromPoint(z.x,z.y,dA.getDoc());dn.setRng(y),dm(A.html)}}})}function c1(){}function c5(){var y;return df?(y=dA.selection.getSel(),!y||!y.rangeCount||0===y.rangeCount):0}function c2(){function y(D){var B=new m(D.getBody()),F=D.selection.getRng(),C=p.fromRangeStart(F),A=p.fromRangeEnd(F),E=B.prev(C),z=B.next(A);return !D.selection.isCollapsed()&&(!E||E.isAtStart()&&C.isEqual(E))&&(!z||z.isAtEnd()&&C.isEqual(z))}dA.on("keypress",function(z){!dv(z)&&!dn.isCollapsed()&&z.charCode>31&&!k.metaKeyPressed(z)&&y(dA)&&(z.preventDefault(),dA.setContent(String.fromCharCode(z.charCode)),dA.selection.select(dA.getBody(),!0),dA.selection.collapse(!1),dA.nodeChanged())}),dA.on("keydown",function(z){var A=z.keyCode;dv(z)||A!=i&&A!=dC||y(dA)&&(z.preventDefault(),dA.setContent(""),dA.nodeChanged())})}var u=x.each,c=dA.$,dC=k.BACKSPACE,i=k.DELETE,a=dA.dom,dn=dA.selection,di=dA.settings,dk=dA.parser,c8=dA.serializer,df=q.gecko,dj=q.ie,dr=q.webkit,dh="data:text/mce-internal,",db=dj?"Text":"URL";return dc(),da(),q.windowsPhone||c6(),dr&&(c2(),dB(),dq(),dD(),bt(),dx(),r(),d(),q.iOS?(o(),l(),dt()):dp()),dj&&q.ie<11&&(c7(),dw(),t(),dd(),an(),at(),c4(),c3()),q.ie>=11&&r(),q.ie&&(l(),dp(),dg(),e()),df&&(c2(),c7(),be(),s(),c9(),ct(),dl(),n(),r()),{refreshContentEditable:c1,isHidden:c5}}}),bD(cI,[br,bx,bK],function(h,d,k){function g(i,a){return"selectionchange"==a?i.getDoc():!i.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(a)?i.getDoc().documentElement:i.settings.event_root?(i.eventRoot||(i.eventRoot=j.select(i.settings.event_root)[0]),i.eventRoot):i.getBody()}function c(o,l){function p(i){return !i.hidden&&!i.readonly}var a=g(o,l),m;if(o.delegates||(o.delegates={}),!o.delegates[l]){if(o.settings.event_root){if(b||(b={},o.editorManager.on("removeEditor",function(){var e;if(!o.editorManager.activeEditor&&b){for(e in b){o.dom.unbind(g(o,e))}b=null}})),b[l]){return}m=function(u){for(var q=u.target,n=o.editorManager.editors,t=n.length;t--;){var e=n[t].getBody();(e===q||j.isChildOf(q,e))&&p(n[t])&&n[t].fire(l,u)}},b[l]=m,j.bind(a,l,m)}else{m=function(e){p(o)&&o.fire(l,e)},j.bind(a,l,m),o.delegates[l]=m}}}var j=d.DOM,b,f={bindPendingEventDelegates:function(){var a=this;k.each(a._pendingNativeEvents,function(e){c(a,e)})},toggleNativeEvent:function(i,a){var l=this;"focus"!=i&&"blur"!=i&&(a?l.initialized?c(l,i):l._pendingNativeEvents?l._pendingNativeEvents.push(i):l._pendingNativeEvents=[i]:l.initialized&&(l.dom.unbind(g(l,i),i,l.delegates[i]),delete l.delegates[i]))},unbindAllNativeEvents:function(){var i=this,a;if(i.delegates){for(a in i.delegates){i.dom.unbind(g(i,a),a,i.delegates[a])}delete i.delegates}i.inline||(i.getBody().onload=null,i.dom.unbind(i.getWin()),i.dom.unbind(i.getDoc())),i.dom.unbind(i.getBody()),i.dom.unbind(i.getContainer())}};return f=k.extend({},h,f)}),bD(bA,[],function(){function c(h,f,i){try{h.getDoc().execCommand(f,!1,i)}catch(g){}}function a(g){var f,h;return f=g.getBody(),h=function(e){g.dom.getParents(e.target,"a").length>0&&e.preventDefault()},g.dom.bind(f,"click",h),{unbind:function(){g.dom.unbind(f,"click",h)}}}function d(f,e){f._clickBlocker&&(f._clickBlocker.unbind(),f._clickBlocker=null),e?(f._clickBlocker=a(f),f.selection.controlSelection.hideResizeRect(),f.readonly=!0,f.getBody().contentEditable=!1):(f.readonly=!1,f.getBody().contentEditable=!0,c(f,"StyleWithCSS",!1),c(f,"enableInlineTableEditing",!1),c(f,"enableObjectResizing",!1),f.focus(),f.nodeChanged())}function b(h,f){var g=h.readonly?"readonly":"design";f!=g&&(h.initialized?d(h,"readonly"==f):h.on("init",function(){d(h,"readonly"==f)}),h.fire("SwitchMode",{mode:f}))}return{setMode:b}}),bD(b9,[bK,bW],function(d,b){var g=d.each,c=d.explode,a={f9:120,f10:121,f11:122},f=d.makeMap("alt,ctrl,shift,meta,access");return function(r){function v(u){var m,p,h={};g(c(u,"+"),function(l){l in f?h[l]=!0:/^[0-9]{2,}$/.test(l)?h.keyCode=parseInt(l,10):(h.charCode=l.charCodeAt(0),h.keyCode=a[l]||l.toUpperCase().charCodeAt(0))}),m=[h.keyCode];for(p in f){h[p]?m.push(p):h[p]=!1}return h.id=m.join(","),h.access&&(h.alt=!0,b.mac?h.ctrl=!0:h.shift=!0),h.meta&&(b.mac?h.meta=!0:(h.ctrl=!0,h.meta=!1)),h}function j(p,u,m,s){var h;return h=d.map(c(p,">"),v),h[h.length-1]=d.extend(h[h.length-1],{func:m,scope:s||r}),d.extend(h[0],{desc:r.translate(u),subpatterns:h.slice(1)})}function t(h){return h.altKey||h.ctrlKey||h.metaKey}function q(h){return"keydown"===h.type&&h.keyCode>=112&&h.keyCode<=123}function o(l,h){return !!h&&(h.ctrl==l.ctrlKey&&h.meta==l.metaKey&&(h.alt==l.altKey&&h.shift==l.shiftKey&&(!!(l.keyCode==h.keyCode||l.charCode&&l.charCode==h.charCode)&&(l.preventDefault(),!0))))}function n(h){return h.func?h.func.call(h.scope):null}var e=this,k={},i=[];r.on("keyup keypress keydown",function(h){!t(h)&&!q(h)||h.isDefaultPrevented()||(g(k,function(l){if(o(h,l)){return i=l.subpatterns.slice(0),"keydown"==h.type&&n(l),!0}}),o(h,i[0])&&(1===i.length&&"keydown"==h.type&&n(i[0]),i.shift()))}),e.add=function(m,l,w,p){var h;return h=w,"string"==typeof w?w=function(){r.execCommand(h,!1,null)}:d.isArray(h)&&(w=function(){r.execCommand(h[0],h[1],h[2])}),g(c(d.trim(m.toLowerCase())),function(u){var s=j(u,l,w,p);k[s.id]=s}),!0},e.remove=function(l){var h=j(l);return !!k[h.id]&&(delete k[h.id],!0)}}}),bD(cB,[bz,bK,bs],function(b,a,c){return function(e,t){function k(f){var d,g;return g={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},d=g[f.blob().type.toLowerCase()]||"dat",f.filename()+"."+d}function D(f,d){return f?f.replace(/\/$/,"")+"/"+d.replace(/^\//,""):d}function G(d){return{id:d.id,blob:d.blob,base64:d.base64,filename:c.constant(k(d))}}function q(h,d,l,g){var i,f;i=new XMLHttpRequest,i.open("POST",t.url),i.withCredentials=t.credentials,i.upload.onprogress=function(m){g(m.loaded/m.total*100)},i.onerror=function(){l("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var m;return 200!=i.status?void l("HTTP Error: "+i.status):(m=JSON.parse(i.responseText),m&&"string"==typeof m.location?void d(D(t.basePath,m.location)):void l("Invalid JSON: "+i.responseText))},f=new FormData,f.append("file",h.blob(),h.filename()),i.send(f)}function F(){return new b(function(d){d([])})}function B(f,d){return{url:d,blobInfo:f,status:!0}}function A(f,d){return{url:"",blobInfo:f,status:!1,error:d}}function z(d,f){a.each(C[d],function(g){g(f)}),delete C[d]}function j(f,g,d){return e.markPending(f.blobUri()),new b(function(I){var J,s,r=function(){};try{var v=function(){J&&(J.close(),s=r)},H=function(h){v(),e.markUploaded(f.blobUri(),h),z(f.blobUri(),B(f,h)),I(B(f,h))},y=function(h){v(),e.removeFailed(f.blobUri()),z(f.blobUri(),A(f,h)),I(A(f,h))};s=function(h){h<0||h>100||(J||(J=d()),J.progressBar.value(h))},g(G(f),H,y,s)}catch(i){I(A(f,i.message))}})}function w(d){return d===q}function n(d){var f=d.blobUri();return new b(function(g){C[f]=C[f]||[],C[f].push(g)})}function x(f,d){return f=a.grep(f,function(g){return !e.isUploaded(g.blobUri())}),b.all(a.map(f,function(g){return e.isPending(g.blobUri())?n(g):j(g,t.handler,d)}))}function E(f,d){return !t.url&&w(t.handler)?F():x(f,d)}var C={};return t=a.extend({credentials:!1,handler:q},t),{upload:E}}}),bD(bj,[bz],function(d){function b(e){return new d(function(k,m){var j=function(){m("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var h=new XMLHttpRequest;h.open("GET",e,!0),h.responseType="blob",h.onload=function(){200==this.status?k(this.response):j()},h.onerror=j,h.send()}catch(l){j()}})}function g(i){var h,j;return i=decodeURIComponent(i).split(","),j=/data:([^;]+)/.exec(i[0]),j&&(h=j[1]),{type:h,data:i[1]}}function c(e){return new d(function(l){var k,j,m;e=g(e);try{k=atob(e.data)}catch(h){return void l(new Blob([]))}for(j=new Uint8Array(k.length),m=0;m<j.length;m++){j[m]=k.charCodeAt(m)}l(new Blob([j],{type:e.type}))})}function a(h){return 0===h.indexOf("blob:")?b(h):0===h.indexOf("data:")?c(h):null}function f(e){return new d(function(h){var i=new FileReader;i.onloadend=function(){h(i.result)},i.readAsDataURL(e)})}return{uriToBlob:a,blobToDataUri:f,parseDataUri:g}}),bD(av,[bz,bR,bs,bj,bW],function(g,d,j,f,c){var h=0,b=function(a){return(a||"blobid")+h++};return function(k,i){function a(m,r){function q(s,p,v){var l,u;return 0===s.src.indexOf("blob:")?(u=i.getByUri(s.src),void (u?p({image:s,blobInfo:u}):f.uriToBlob(s.src).then(function(t){f.blobToDataUri(t).then(function(w){l=f.parseDataUri(w).data,u=i.create(b(),t,l),i.add(u),p({image:s,blobInfo:u})})},function(t){v(t)}))):(l=f.parseDataUri(s.src).data,u=i.findFirst(function(t){return t.base64()===l}),void (u?p({image:s,blobInfo:u}):f.uriToBlob(s.src).then(function(t){u=i.create(b(),t,l),i.add(u),p({image:s,blobInfo:u})},function(t){v(t)})))}var n,o;return r||(r=j.constant(!0)),n=d.filter(m.getElementsByTagName("img"),function(p){var l=p.src;return !!c.fileApi&&(!p.hasAttribute("data-mce-bogus")&&(!p.hasAttribute("data-mce-placeholder")&&(!(!l||l==c.transparentSrc)&&(0===l.indexOf("blob:")?!k.isUploaded(l):0===l.indexOf("data:")&&r(p)))))}),o=d.map(n,function(l){var p;return e[l.src]?new g(function(s){e[l.src].then(function(t){return"string"==typeof t?t:void s({image:l,blobInfo:t.blobInfo})})}):(p=new g(function(s,t){q(l,s,t)}).then(function(s){return delete e[s.image.src],s})["catch"](function(s){return delete e[l.src],s}),e[l.src]=p,p)}),g.all(o)}var e={};return{findAll:a}}}),bD(bb,[bR,bs],function(b,a){return function(){function f(l,c,o,i){return{id:j(l),filename:j(i||l),blob:j(c),base64:j(o),blobUri:j(URL.createObjectURL(c))}}function d(c){h(c.id())||m.push(c)}function h(c){return e(function(i){return i.id()===c})}function e(c){return b.filter(m,c)[0]}function k(c){return e(function(i){return i.blobUri()==c})}function p(c){m=b.filter(m,function(i){return i.blobUri()!==c||(URL.revokeObjectURL(i.blobUri()),!1)})}function g(){b.each(m,function(c){URL.revokeObjectURL(c.blobUri())}),m=[]}var m=[],j=a.constant;return{create:f,add:d,get:h,getByUri:k,findFirst:e,removeByUri:p,destroy:g}}}),bD(bl,[],function(){return function(){function k(c,a){return{status:c,resultUri:a}}function w(a){return a in m}function g(c){var a=m[c];return a?a.resultUri:null}function b(a){return !!w(a)&&m[a].status===v}function j(a){return !!w(a)&&m[a].status===p}function f(a){m[a]=k(v,null)}function q(a,c){m[a]=k(p,c)}function x(a){delete m[a]}function h(){m={}}var v=1,p=2,m={};return{hasBlobUri:w,getResultUri:g,isPending:b,isUploaded:j,markPending:f,markUploaded:q,removeFailed:x,destroy:h}}}),bD(bq,[cl],function(h){var d=h.PluginManager,k=function(m,o){for(var l in d.urls){var a=d.urls[l]+"/plugin"+o+".js";if(a===m){return l}}return null},g=function(l,a){var i=k(a,l.suffix);return i?"Failed to load plugin: "+i+" from url "+a:"Failed to load plugin url: "+a},c=function(i,a){i.notificationManager.open({type:"error",text:a})},j=function(i,a){i._skinLoaded?c(i,a):i.on("SkinLoaded",function(){c(i,a)})},b=function(i,a){j(i,"Failed to upload image: "+a)},f=function(i,a){j(i,g(i,a))};return{pluginLoadError:f,uploadError:b,displayError:j}}),bD(cZ,[bR,cB,av,bb,bl,bq],function(d,b,g,c,a,f){return function(K){function r(h){return function(l){return K.selection?h(l):[]}}function B(){return"?"+(new Date).getTime()}function o(m,h,p){var l=0;do{l=m.indexOf(h,l),l!==-1&&(m=m.substring(0,l)+p+m.substr(l+h.length),l+=p.length-h.length+1)}while(l!==-1);return m}function I(l,h,m){return l=o(l,'src="'+h+'"','src="'+m+'"'),l=o(l,'data-mce-src="'+h+'"','data-mce-src="'+m+'"')}function H(h,l){d.each(K.undoManager.data,function(m){"fragmented"===m.type?m.fragments=d.map(m.fragments,function(p){return I(p,h,l)}):m.content=I(m.content,h,l)})}function G(){return K.notificationManager.open({text:K.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function z(l,h){t.removeByUri(l.src),H(l.src,h),K.$(l).attr({src:q.images_reuse_filename?h+B():h,"data-mce-src":K.convertURL(h,"src")})}function D(h){return j||(j=new b(e,{url:q.images_upload_url,basePath:q.images_upload_base_path,credentials:q.images_upload_credentials,handler:q.images_upload_handler})),n().then(r(function(l){var m;return m=d.map(l,function(p){return p.blobInfo}),j.upload(m,G).then(r(function(p){return p=d.map(p,function(u,v){var s=l[v].image;return u.status&&K.settings.images_replace_blob_uris!==!1?z(s,u.url):u.error&&f.uploadError(K,u.error),{element:s,status:u.status}}),h&&h(p),p}))}))}function A(h){if(q.automatic_uploads!==!1){return D(h)}}function F(h){return !q.images_dataimg_filter||q.images_dataimg_filter(h)}function n(){return k||(k=new g(e,t)),k.findAll(K.getBody(),F).then(r(function(h){return h=d.filter(h,function(l){return"string"!=typeof l||(f.displayError(K,l),!1)}),d.each(h,function(l){H(l.image.src,l.blobInfo.blobUri()),l.image.src=l.blobInfo.blobUri(),l.image.removeAttribute("data-mce-src")}),h}))}function i(){t.destroy(),e.destroy(),k=j=null}function J(h){return h.replace(/src="(blob:[^"]+)"/g,function(m,s){var p=e.getResultUri(s);if(p){return'src="'+p+'"'}var l=t.getByUri(s);return l||(l=d.reduce(K.editorManager.editors,function(v,u){return v||u.editorUpload&&u.editorUpload.blobCache.getByUri(s)},null)),l?'src="data:'+l.blob().type+";base64,"+l.base64()+'"':m})}var t=new c,j,k,q=K.settings,e=new a;return K.on("setContent",function(){K.settings.automatic_uploads!==!1?A():n()}),K.on("RawSaveContent",function(h){h.content=J(h.content)}),K.on("getContent",function(h){h.source_view||"raw"==h.format||(h.content=J(h.content))}),K.on("PostRender",function(){K.parser.addNodeFilter("img",function(h){d.each(h,function(m){var l=m.attr("src");if(!t.getByUri(l)){var p=e.getResultUri(l);p&&m.attr("src",p)}})})}),{blobCache:t,uploadImages:D,uploadImagesAuto:A,scanForImages:n,destroy:i}}}),bD(b0,[bM,cQ,b1,cb,bS,b7,bX],function(h,d,k,g,c,j,b){var f=k.isContentEditableFalse;return function(A,i){function a(E,F){var D=j.collapse(E.getBoundingClientRect(),F),B,p,C,m,t;return"BODY"==A.tagName?(B=A.ownerDocument.documentElement,p=A.scrollLeft||B.scrollLeft,C=A.scrollTop||B.scrollTop):(t=A.getBoundingClientRect(),p=A.scrollLeft-t.left,C=A.scrollTop-t.top),D.left+=p,D.right+=p,D.top+=C,D.bottom+=C,D.width=1,m=E.offsetWidth-E.clientWidth,m>0&&(F&&(m*=-1),D.left+=m,D.right+=m),D}function q(){var u,p,t,l,m;for(u=c("*[contentEditable=false]",A),l=0;l<u.length;l++){p=u[l],t=p.previousSibling,h.endsWithCaretContainer(t)&&(m=t.data,1==m.length?t.parentNode.removeChild(t):t.deleteData(m.length-1,1)),t=p.nextSibling,h.startsWithCaretContainer(t)&&(m=t.data,1==m.length?t.parentNode.removeChild(t):t.deleteData(0,1))}return null}function z(r,n){var m,p;return y(),i(n)?(v=h.insertBlock("p",n,r),m=a(n,r),c(v).css("top",m.top),o=c('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(m).appendTo(A),r&&o.addClass("mce-visual-caret-before"),x(),p=n.ownerDocument.createRange(),p.setStart(v,0),p.setEnd(v,0),p):(v=h.insertInline(n,r),p=n.ownerDocument.createRange(),f(v.nextSibling)?(p.setStart(v,0),p.setEnd(v,0)):(p.setStart(v,1),p.setEnd(v,1)),p)}function y(){q(),v&&(h.remove(v),v=null),o&&(o.remove(),o=null),clearInterval(s)}function x(){s=b.setInterval(function(){c("div.mce-visual-caret",A).toggleClass("mce-visual-caret-hidden")},500)}function w(){b.clearInterval(s)}function e(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var s,o,v;return{show:z,hide:y,getCss:e,destroy:w}}}),bD(aw,[bR,b1,b7],function(c,a,d){function b(f){function g(h){return c.map(h,function(i){return i=d.clone(i),i.node=f,i})}if(c.isArray(f)){return c.reduce(f,function(i,h){return i.concat(b(h))},[])}if(a.isElement(f)){return g(f.getClientRects())}if(a.isText(f)){var e=f.ownerDocument.createRange();return e.setStart(f,0),e.setEnd(f,f.data.length),g(e.getClientRects())}}return{getClientRects:b}}),bD(a1,[bs,bR,aw,ca,aD,b2,cQ,b7],function(z,E,k,b,w,j,C,F){function v(c,a,f,d){for(;d=w.findNode(d,c,b.isEditableCaretCandidate,a);){if(f(d)){return}}}function D(G,h,n,m,J,L){function K(e){var d,a,c;for(c=k.getClientRects(e),G==-1&&(c=c.reverse()),d=0;d<c.length;d++){if(a=c[d],!n(a,l)){if(t.length>0&&h(a,E.last(t))&&I++,a.line=I,J(a)){return !0}t.push(a)}}}var I=0,H,t=[],l;return(l=E.last(L.getClientRects()))?(H=L.getNode(),K(H),v(G,m,K,H),t):t}function B(c,a){return a.line>c}function A(c,a){return a.line===c}function y(L,s,a,H){function G(c){return 1==L?E.last(c.getClientRects()):E.last(c.getClientRects())}var P=new j(s),N,M,K,o,I=[],t=0,J,O;1==L?(N=P.next,M=F.isBelow,K=F.isAbove,o=C.after(H)):(N=P.prev,M=F.isAbove,K=F.isBelow,o=C.before(H)),O=G(o);do{if(o.isVisible()&&(J=G(o),!K(J,O))){if(I.length>0&&M(J,E.last(I))&&t++,J=F.clone(J),J.position=o,J.line=t,a(J)){return I}I.push(J)}}while(o=N(o));return I}var g=z.curry,x=g(D,-1,F.isAbove,F.isBelow),q=g(D,1,F.isBelow,F.isAbove);return{upUntil:x,downUntil:q,positionsUntil:y,isAboveLine:g(B),isLine:g(A)}}),bD(ba,[bs,bR,b1,aw,b7,aD,ca],function(G,k,z,w,C,y,J){function q(c,a){return Math.abs(c.left-a)}function B(c,a){return Math.abs(c.right-a)}function j(c,d){function a(g,f){return g>=f.left&&g<=f.right}return k.reduce(c,function(h,g){var f,l;return f=Math.min(q(h,d),B(h,d)),l=Math.min(q(g,d),B(g,d)),a(d,g)?g:a(d,h)?h:l==f&&A(g.node)?g:l<f?g:h})}function I(d,a,f,c){for(;c=E(c,d,J.isEditableCaretCandidate,a);){if(f(c)){return}}}function H(d,g){function f(h,a){var l;return l=k.filter(w.getClientRects(a),function(e){return !h(e,g)}),c=c.concat(l),0===l.length}var c=[];return c.push(g),I(-1,d,b(f,C.isAbove),g.node),I(1,d,b(f,C.isBelow),g.node),c}function F(a){return k.filter(k.toArray(a.getElementsByTagName("*")),A)}function x(c,a){return{node:c.node,before:q(c,a)<B(c,a)}}function D(f,h,d){var g,c;return g=w.getClientRects(F(f)),g=k.filter(g,function(a){return d>=a.top&&d<=a.bottom}),c=j(g,h),c&&(c=j(H(f,c),h),c&&A(c.node))?x(c,h):null}var A=z.isContentEditableFalse,E=y.findNode,b=G.curry;return{findClosestClientRect:j,findLineNodeRects:H,closestCaret:D}}),bD(aJ,[],function(){var g=function(m){var k,o,l,a;return a=m.getBoundingClientRect(),k=m.ownerDocument,o=k.documentElement,l=k.defaultView,{top:a.top+l.pageYOffset-o.clientTop,left:a.left+l.pageXOffset-o.clientLeft}},d=function(a){return a.inline?g(a.getBody()):{left:0,top:0}},j=function(i){var a=i.getBody();return i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0}},f=function(m){var k=m.getBody(),o=m.getDoc().documentElement,l={left:k.scrollLeft,top:k.scrollTop},a={left:k.scrollLeft||o.scrollLeft,top:k.scrollTop||o.scrollTop};return m.inline?l:a},c=function(e,l){if(l.target.ownerDocument!==e.getDoc()){var a=g(e.getContentAreaContainer()),k=f(e);return{left:l.pageX-a.left+k.left,top:l.pageY-a.top+k.top}}return{left:l.pageX,top:l.pageY}},h=function(i,a,k){return{pageX:k.left-i.left+a.left,pageY:k.top-i.top+a.top}},b=function(i,a){return h(d(i),j(i),c(i,a))};return{calc:b}}),bD(ck,[b1,bR,bs,bX,bx,aJ],function(V,G,M,J,Q,L){var Z=V.isContentEditableFalse,H=V.isContentEditableTrue,P=function(b,a){return Z(a)&&a!==b},D=function(b,a,c){return a!==c&&!b.dom.isChildOf(a,c)&&!Z(a)},X=function(b){var a=b.cloneNode(!0);return a.removeAttribute("data-mce-selected"),a},W=function(d,b,g,c){var a=b.cloneNode(!0);d.dom.setStyles(a,{width:g,height:c}),d.dom.setAttrib(a,"data-mce-selected",null);var f=d.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return d.dom.setStyles(f,{position:"absolute",opacity:0.5,overflow:"hidden",border:0,padding:0,margin:0,width:g,height:c}),d.dom.setStyles(a,{margin:0,boxSizing:"border-box"}),f.appendChild(a),f},U=function(b,a){b.parentNode!==a&&a.appendChild(b)},K=function(h,d,m,g,c,l){var b=0,f=0;h.style.left=d.pageX+"px",h.style.top=d.pageY+"px",d.pageX+m>c&&(b=d.pageX+m-c),d.pageY+g>l&&(f=d.pageY+g-l),h.style.width=m-b+"px",h.style.height=g-f+"px"},R=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},O=function(a){return 0===a.button},T=function(a){return a.element},B=function(b,a){return{pageX:a.pageX-b.relX,pageY:a.pageY+5}},q=function(b,a){return function(e){if(O(e)){var h=G.find(a.dom.getParents(e.target),M.or(Z,H));if(P(a.getBody(),h)){var d=a.dom.getPos(h),l=a.getBody(),g=a.getDoc().documentElement;b.element=h,b.screenX=e.screenX,b.screenY=e.screenY,b.maxX=(a.inline?l.scrollWidth:g.offsetWidth)-2,b.maxY=(a.inline?l.scrollHeight:g.offsetHeight)-2,b.relX=e.pageX-d.x,b.relY=e.pageY-d.y,b.width=h.offsetWidth,b.height=h.offsetHeight,b.ghost=W(a,h,b.width,b.height)}}}},Y=function(b,a){var c=J.throttle(function(d,f){a._selectionOverrides.hideFakeCaret(),a.selection.placeCaretAt(d,f)},0);return function(g){var e=Math.max(Math.abs(g.screenX-b.screenX),Math.abs(g.screenY-b.screenY));if(T(b)&&!b.dragging&&e>10){var d=a.fire("dragstart",{target:b.element});if(d.isDefaultPrevented()){return}b.dragging=!0,a.focus()}if(b.dragging){var f=B(b,L.calc(a,g));U(b.ghost,a.getBody()),K(b.ghost,f,b.width,b.height,b.maxX,b.maxY),c(g.clientX,g.clientY)}}},I=function(b){var a=b.getSel().getRangeAt(0),c=a.startContainer;return 3===c.nodeType?c.parentNode:c},z=function(b,a){return function(e){if(b.dragging&&D(a,I(a.selection),b.element)){var d=X(b.element),c=a.fire("drop",{targetClone:d,clientX:e.clientX,clientY:e.clientY});c.isDefaultPrevented()||(d=c.targetClone,a.undoManager.transact(function(){R(b.element),a.insertContent(a.dom.getOuterHTML(d)),a._selectionOverrides.hideFakeCaret()}))}F(b)}},A=function(b,a){return function(){F(b),b.dragging&&a.fire("dragend")}},F=function(a){a.dragging=!1,a.element=null,R(a.ghost)},k=function(h){var d={},m,g,i,c,f,b;m=Q.DOM,b=document,g=q(d,h),i=Y(d,h),c=z(d,h),f=A(d,h),h.on("mousedown",g),h.on("mousemove",i),h.on("mouseup",c),m.bind(b,"mousemove",i),m.bind(b,"mouseup",f),h.on("remove",function(){m.unbind(b,"mousemove",i),m.unbind(b,"mouseup",f)})},ae=function(a){a.on("drop",function(b){var c="undefined"!=typeof b.clientX?a.getDoc().elementFromPoint(b.clientX,b.clientY):null;(Z(c)||Z(a.dom.getContentEditableParent(c)))&&b.preventDefault()})},j=function(a){k(a),ae(a)};return{init:j}}),bD(a3,[bW,b2,cQ,bM,aD,b0,a1,ba,b1,cb,b7,cs,bs,bR,bX,ck],function(T,F,L,I,P,K,X,G,O,B,V,U,S,J,Q,M){function R(b,a){for(;a=b(a);){if(a.isVisible()){return a}}return a}function A(c9){function c8(u){return c9.dom.hasClass(u,"mce-offscreen-selection")}function df(){var u=c9.dom.get(c7);return u?u.getElementsByTagName("*")[0]:u}function l(u){return c9.dom.isBlock(u)}function db(u){u&&c9.selection.setRng(u)}function i(){return c9.selection.getRng()}function m(v,u){c9.selection.scrollIntoView(v,u)}function be(Y,u,Z){var v;return v=c9.fire("ShowCaret",{target:u,direction:Y,before:Z}),v.isDefaultPrevented()?null:(m(u,Y===-1),c3.show(Z,u))}function at(v){var u;return u=c9.fire("BeforeObjectSelected",{target:v}),u.isDefaultPrevented()?null:ae(v)}function ae(v){var u=v.ownerDocument.createRange();return u.selectNode(v),u}function s(v,u){var Y=P.isInSameBlock(v,u);return !(Y||!O.isBr(v.getNode()))||Y}function r(v,u){return u=P.normalizeRange(v,c2,u),v==-1?L.fromRangeStart(u):L.fromRangeEnd(u)}function o(u){return I.isCaretContainerBlock(u.startContainer)}function p(de,Y,dh,ce){var v,dg,u,Z;return !ce.collapsed&&(v=j(ce),H(v))?be(de,v,de==-1):(Z=o(ce),dg=r(de,ce),dh(dg)?at(dg.getNode(de==-1)):(dg=Y(dg))?dh(dg)?be(de,dg.getNode(de==-1),1==de):(u=Y(dg),dh(u)&&s(dg,u)?be(de,u.getNode(de==-1),1==de):Z?ct(dg.toRange()):null):Z?ce:null)}function y(dj,dn,Z){var v,dg,Y,de,dm,dl,dk,di,dh;if(dh=j(Z),v=r(dj,Z),dg=dn(c2,X.isAboveLine(1),v),Y=J.filter(dg,X.isLine(1)),dm=J.last(v.getClientRects()),D(v)&&(dh=v.getNode()),z(v)&&(dh=v.getNode(!0)),!dm){return null}if(dl=dm.left,de=G.findClosestClientRect(Y,dl),de&&H(de.node)){return dk=Math.abs(dl-de.left),di=Math.abs(dl-de.right),be(dj,de.node,dk<di)}if(dh){var ce=X.positionsUntil(dj,c2,X.isAboveLine(1),dh);if(de=G.findClosestClientRect(J.filter(ce,X.isLine(1)),dl)){return ct(de.position.toRange())}if(de=J.last(J.filter(ce,X.isLine(0)))){return ct(de.position.toRange())}}}function x(Y,ce){function v(){var dg=c9.dom.create(c9.settings.forced_root_block);return(!T.ie||T.ie>=11)&&(dg.innerHTML='<br data-mce-bogus="1">'),dg}var de,u,Z;if(ce.collapsed&&c9.settings.forced_root_block){if(de=c9.dom.getParent(ce.startContainer,"PRE"),!de){return}u=1==Y?N(L.fromRangeStart(ce)):bt(L.fromRangeStart(ce)),u||(Z=v(),1==Y?c9.$(de).after(Z):c9.$(de).before(Z),c9.selection.select(Z,!0),c9.selection.collapse())}}function E(Z,v,ce,Y){var u;return(u=p(Z,v,ce,Y))?u:(u=x(Z,Y),u?u:null)}function c5(Y,u,Z){var v;return(v=y(Y,u,Z))?v:(v=x(Y,Z),v?v:null)}function h(){return an("*[data-mce-caret]")[0]}function f(u){u.hasAttribute("data-mce-caret")&&(I.showCaretContainerBlock(u),db(i()),m(u[0]))}function g(Y){var u,v;return Y=P.normalizeRange(1,c2,Y),u=L.fromRangeStart(Y),H(u.getNode())?be(1,u.getNode(),!u.isAtEnd()):H(u.getNode(!0))?be(1,u.getNode(!0),!1):(v=c9.dom.getParent(u.getNode(),S.or(H,W)),H(v)?be(1,v,!1):null)}function ct(v){var u;return v&&v.collapsed?(u=g(v),u?u:v):v}function da(Z){var Y,v,ce,u;return H(Z)?(H(Z.previousSibling)&&(ce=Z.previousSibling),v=bt(L.before(Z)),v||(Y=N(L.after(Z))),Y&&q(Y.getNode())&&(u=Y.getNode()),I.remove(Z.previousSibling),I.remove(Z.nextSibling),c9.dom.remove(Z),c9.dom.isEmpty(c9.getBody())?(c9.setContent(""),void c9.focus()):ce?L.after(ce).toRange():u?L.before(u).toRange():v?v.toRange():Y?Y.toRange():null):null}function dc(v){var u=c9.schema.getTextBlockElements();return v.nodeName in u}function c(u){return c9.dom.isEmpty(u)}function d(dg,Z,de){var Y=c9.dom,dh,v,ce,u;if(dh=Y.getParent(Z.getNode(),Y.isBlock),v=Y.getParent(de.getNode(),Y.isBlock),dg===-1){if(u=de.getNode(!0),z(de)&&l(u)){return dc(dh)?(c(dh)&&Y.remove(dh),L.after(u).toRange()):da(de.getNode(!0))}}else{if(u=Z.getNode(),D(Z)&&l(u)){return dc(v)?(c(v)&&Y.remove(v),L.before(u).toRange()):da(Z.getNode())}}if(dh===v||!dc(dh)||!dc(v)){return null}for(;ce=dh.firstChild;){v.appendChild(ce)}return c9.dom.remove(dh),de.toRange()}function t(de,Z,dh,Y){var dg,v,ce,u;return !Y.collapsed&&(dg=j(Y),H(dg))?ct(da(dg)):(v=r(de,Y),dh(v)&&I.isCaretContainerBlock(Y.startContainer)?(u=de==-1?c4.prev(v):c4.next(v),u?ct(u.toRange()):Y):Z(v)?ct(da(v.getNode(de==-1))):(ce=de==-1?c4.prev(v):c4.next(v),Z(ce)?de===-1?d(de,v,ce):d(de,ce,v):void 0))}function C(){function dh(dt,Y){if(dt.isDefaultPrevented()===!1){var du=Y(i());du&&(dt.preventDefault(),db(du))}}function Z(dt){for(var Y=c9.getBody();dt&&dt!=Y;){if(W(dt)||H(dt)){return dt}dt=dt.parentNode}return null}function ce(dt,Y,du){return !du.collapsed&&J.reduce(du.getClientRects(),function(dw,dv){return dw||V.containsXY(dv,dt,Y)},!1)}function dl(dt){var Y=!1;dt.on("touchstart",function(){Y=!1}),dt.on("touchmove",function(){Y=!0}),dt.on("touchend",function(du){var dv=Z(du.target);H(dv)&&(Y||(du.preventDefault(),dd(at(dv))))})}function dj(){var dt,Y=Z(c9.selection.getNode());W(Y)&&l(Y)&&c9.dom.isEmpty(Y)&&(dt=c9.dom.create("br",{"data-mce-bogus":"1"}),c9.$(Y).empty().append(dt),c9.selection.setRng(L.before(dt).toRange()))}function dq(dt){var Y=h();if(Y){return"compositionstart"==dt.type?(dt.preventDefault(),dt.stopPropagation(),void f(Y)):void (I.hasContent(Y)&&f(Y))}}function dm(dt){var Y;switch(dt.keyCode){case U.DELETE:Y=dj();break;case U.BACKSPACE:Y=dj()}Y&&dt.preventDefault()}var dg=k(E,1,N,D),u=k(E,-1,bt,z),dp=k(t,1,D,z),dn=k(t,-1,z,D),di=k(c5,-1,X.upUntil),dk=k(c5,1,X.downUntil);c9.on("mouseup",function(){var Y=i();Y.collapsed&&db(g(Y))}),c9.on("click",function(dt){var Y;Y=Z(dt.target),Y&&(H(Y)&&(dt.preventDefault(),c9.focus()),W(Y)&&c9.dom.isChildOf(Y,c9.selection.getNode())&&e())}),c9.on("blur NewBlock",function(){e(),c6()});var ds=function(du){var dt=new F(du);if(!du.firstChild){return !1}var Y=L.before(du.firstChild),dv=dt.next(Y);return dv&&!D(dv)&&!z(dv)},dr=function(du,Y){var dv=c9.dom.getParent(du,c9.dom.isBlock),dt=c9.dom.getParent(Y,c9.dom.isBlock);return dv===dt},de=function(Y){return !(Y.keyCode>=112&&Y.keyCode<=123)},v=function(du,Y){var dv=c9.dom.getParent(du,c9.dom.isBlock),dt=c9.dom.getParent(Y,c9.dom.isBlock);return dv&&!dr(dv,dt)&&ds(dv)};dl(c9),c9.on("mousedown",function(dt){var Y;if(Y=Z(dt.target)){H(Y)?(dt.preventDefault(),dd(at(Y))):ce(dt.clientX,dt.clientY,c9.selection.getRng())||c9.selection.placeCaretAt(dt.clientX,dt.clientY)}else{e(),c6();var du=G.closestCaret(c2,dt.clientX,dt.clientY);du&&(v(dt.target,du.node)||(dt.preventDefault(),c9.getBody().focus(),db(be(1,du.node,du.before))))}}),c9.on("keydown",function(Y){if(!U.modifierPressed(Y)){switch(Y.keyCode){case U.RIGHT:dh(Y,dg);break;case U.DOWN:dh(Y,dk);break;case U.LEFT:dh(Y,u);break;case U.UP:dh(Y,di);break;case U.DELETE:dh(Y,dp);break;case U.BACKSPACE:dh(Y,dn);break;default:H(c9.selection.getNode())&&de(Y)&&Y.preventDefault()}}}),c9.on("keyup compositionstart",function(Y){dq(Y),dm(Y)},!0),c9.on("cut",function(){var Y=c9.selection.getNode();H(Y)&&Q.setEditorTimeout(c9,function(){db(ct(da(Y)))})}),c9.on("getSelectionRange",function(dt){var Y=dt.range;if(c1){if(!c1.parentNode){return void (c1=null)}Y=Y.cloneRange(),Y.selectNode(c1),dt.range=Y}}),c9.on("setSelectionRange",function(dt){var Y;Y=dd(dt.range),Y&&(dt.range=Y)}),c9.on("AfterSetSelectionRange",function(dt){var Y=dt.range;b(Y)||c6(),c8(Y.startContainer.parentNode)||e()}),c9.on("focus",function(){Q.setEditorTimeout(c9,function(){c9.selection.setRng(ct(c9.selection.getRng()))},0)}),c9.on("copy",function(Y){var du=Y.clipboardData;if(!Y.isDefaultPrevented()&&Y.clipboardData&&!T.ie){var dt=df();dt&&(Y.preventDefault(),du.clearData(),du.setData("text/html",dt.outerHTML),du.setData("text/plain",dt.outerText))}}),M.init(c9)}function w(){var v=c9.contentStyles,u=".mce-content-body";v.push(c3.getCss()),v.push(u+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+u+" *[contentEditable=false] {cursor: default;}"+u+" *[contentEditable=true] {cursor: text;}")}function n(u){return I.isCaretContainer(u)||I.startsWithCaretContainer(u)||I.endsWithCaretContainer(u)}function b(u){return n(u.startContainer)||n(u.endContainer)}function dd(dl){var Z,u=c9.$,de=c9.dom,Y,dk,dm,ce,dj,di,dh,v,dg;if(!dl){return null}if(dl.collapsed){if(!b(dl)){if(dh=r(1,dl),H(dh.getNode())){return be(1,dh.getNode(),!dh.isAtEnd())}if(H(dh.getNode(!0))){return be(1,dh.getNode(!0),!1)}}return null}return dm=dl.startContainer,ce=dl.startOffset,dj=dl.endOffset,3==dm.nodeType&&0==ce&&H(dm.parentNode)&&(dm=dm.parentNode,ce=de.nodeIndex(dm),dm=dm.parentNode),1!=dm.nodeType?null:(dj==ce+1&&(Z=dm.childNodes[ce]),H(Z)?(v=dg=Z.cloneNode(!0),di=c9.fire("ObjectSelected",{target:Z,targetClone:v}),di.isDefaultPrevented()?null:(v=di.targetClone,Y=u("#"+c7),0===Y.length&&(Y=u('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",c7),Y.appendTo(c9.getBody())),dl=c9.dom.createRng(),v===dg&&T.ie?(Y.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(v),dl.setStartAfter(Y[0].firstChild.firstChild),dl.setEndAfter(v)):(Y.empty().append("\xa0").append(v).append("\xa0"),dl.setStart(Y[0].firstChild,1),dl.setEnd(Y[0].lastChild,0)),Y.css({top:de.getPos(Z,c9.getBody()).y}),Y[0].focus(),dk=c9.selection.getSel(),dk.removeAllRanges(),dk.addRange(dl),c9.$("*[data-mce-selected]").removeAttr("data-mce-selected"),Z.setAttribute("data-mce-selected",1),c1=Z,c6(),dl)):null)}function e(){c1&&(c1.removeAttribute("data-mce-selected"),c9.$("#"+c7).remove(),c1=null)}function a(){c3.destroy(),c1=null}function c6(){c3.hide()}var c2=c9.getBody(),c4=new F(c2),N=k(R,c4.next),bt=k(R,c4.prev),c3=new K(c9.getBody(),l),c7="sel-"+c9.dom.uniqueId(),c1,an=c9.$;return T.ceFalse&&(C(),w()),{showBlockCaretContainer:f,hideFakeCaret:c6,destroy:a}}var k=S.curry,W=O.isContentEditableTrue,H=O.isContentEditableFalse,q=O.isElement,z=P.isAfterContentEditableFalse,D=P.isBeforeContentEditableFalse,j=B.getSelectedNode;return A}),bD(az,[],function(){var b=0,a=function(){var f=function(){return Math.round(4294967295*Math.random()).toString(36)},d=(new Date).getTime();return"s"+d.toString(36)+f()+f()+f()},c=function(d){return d+b+++a()};return{uuid:c}}),bD(bJ,[],function(){var a=function(d,b,f){var c=d.sidebars?d.sidebars:[];c.push({name:b,settings:f}),d.sidebars=c};return{add:a}}),bD(cH,[bx,bS,cl,cf,cF,cj,ci,b5,cq,aO,cG,a9,c0,aF,cy,bT,bi,cE,cD,cn,cK,bW,bK,bX,cI,bA,b9,cZ,a3,az,bJ,bq],function(dp,dg,dc,dk,df,dt,db,di,da,dr,dq,dn,de,dl,dh,dm,c9,c6,ds,c1,c7,c8,ce,Z,du,K,dj,J,Q,c3,c2,ct){function an(h,f,d){var k=this,c,g,b;c=k.documentBaseUrl=d.documentBaseURL,g=d.baseURI,b=d.defaultSettings,f=be({id:h,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:c,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:k.convertURL,url_converter_scope:k,ie7_compat:!0},b,f),b&&b.external_plugins&&f.external_plugins&&(f.external_plugins=be({},b.external_plugins,f.external_plugins)),k.settings=f,dc.language=f.language||"en",dc.languageLoad=f.language_load,dc.baseURL=d.baseURL,k.id=f.id=h,k.setDirty(!1),k.plugins={},k.documentBaseURI=new dl(f.document_base_url||c,{base_uri:g}),k.baseURI=g,k.contentCSS=[],k.contentStyles=[],k.shortcuts=new dj(k),k.loadedCSS={},k.editorCommands=new de(k),k.suffix=d.suffix,k.editorManager=d,k.inline=f.inline,k.settings.content_editable=k.inline,f.cache_suffix&&(c8.cacheSuffix=f.cache_suffix.replace(/^[\?\&]+/,"")),f.override_viewport===!1&&(c8.overrideViewPort=!1),d.fire("SetupEditor",k),k.execCallback("setup",k),k.$=dg.overrideDefaults(function(){return{context:k.inline?k.getBody():k.getDoc(),element:k.getBody()}})}var ae=dp.DOM,X=dc.ThemeManager,Y=dc.PluginManager,be=ce.extend,at=ce.each,bt=ce.explode,c5=ce.inArray,G=ce.trim,j=ce.resolve,t=dm.Event,c4=c8.gecko,dd=c8.ie;return an.prototype={render:function(){function g(){ae.unbind(window,"ready",g),k.render()}function d(){var i=dh.ScriptLoader;if(f.language&&"en"!=f.language&&!f.language_url&&(f.language_url=k.editorManager.baseURL+"/langs/"+f.language+".js"),f.language_url&&i.add(f.language_url),f.theme&&"function"!=typeof f.theme&&"-"!=f.theme.charAt(0)&&!X.urls[f.theme]){var a=f.theme_url;a=a?k.documentBaseURI.toAbsolute(a):"themes/"+f.theme+"/theme"+h+".js",X.load(f.theme,a)}ce.isArray(f.plugins)&&(f.plugins=f.plugins.join(" ")),at(f.external_plugins,function(m,l){Y.load(l,m),f.plugins+=" "+l}),at(f.plugins.split(/[ ,]/),function(m){if(m=G(m),m&&!Y.urls[m]){if("-"==m.charAt(0)){m=m.substr(1,m.length);var l=Y.dependencies(m);at(l,function(o){var n={prefix:"plugins/",resource:o,suffix:"/plugin"+h+".js"};o=Y.createUrl(n,o),Y.load(o.resource,o)})}else{Y.load(m,{prefix:"plugins/",resource:m,suffix:"/plugin"+h+".js"})}}}),i.loadQueue(function(){k.removed||k.init()},k,function(l){ct.pluginLoadError(k,l[0]),k.removed||k.init()})}var k=this,f=k.settings,c=k.id,h=k.suffix;if(!t.domLoaded){return void ae.bind(window,"ready",g)}if(k.getElement()&&c8.contentEditable){f.inline?k.inline=!0:(k.orgVisibility=k.getElement().style.visibility,k.getElement().style.visibility="hidden");var b=k.getElement().form||ae.getParent(c,"form");b&&(k.formElement=b,f.hidden_input&&!/TEXTAREA|INPUT/i.test(k.getElement().nodeName)&&(ae.insertAfter(ae.create("input",{type:"hidden",name:c}),c),k.hasHiddenInput=!0),k.formEventDelegate=function(a){k.fire(a.type,a)},ae.bind(b,"submit reset",k.formEventDelegate),k.on("reset",function(){k.setContent(k.startContent,{format:"raw"})}),!f.submit_patch||b.submit.nodeType||b.submit.length||b._mceOldSubmit||(b._mceOldSubmit=b.submit,b.submit=function(){return k.editorManager.triggerSave(),k.setDirty(!1),b._mceOldSubmit(b)})),k.windowManager=new c9(k),k.notificationManager=new c6(k),"xml"==f.encoding&&k.on("GetContent",function(a){a.save&&(a.content=ae.encode(a.content))}),f.add_form_submit_trigger&&k.on("submit",function(){k.initialized&&k.save()}),f.add_unload_trigger&&(k._beforeUnload=function(){!k.initialized||k.destroyed||k.isHidden()||k.save({format:"raw",no_events:!0,set_dirty:!1})},k.editorManager.on("BeforeUnload",k._beforeUnload)),k.editorManager.add(k),d()}},init:function(){function N(d){var b=Y.get(d),a,c;if(a=Y.urls[d]||x.documentBaseUrl.replace(/\/$/,""),d=G(d),b&&c5(E,d)===-1){if(at(Y.dependencies(d),function(e){N(e)}),x.plugins[d]){return}c=new b(x,a,x.$),x.plugins[d]=c,c.init&&(c.init(x,a),E.push(d))}}var x=this,D=x.settings,A=x.getElement(),H,C,S,z,F,w,P,O,M,B,I,E=[];if(x.rtl=D.rtl_ui||x.editorManager.i18n.rtl,x.editorManager.i18n.setCode(D.language),D.aria_label=D.aria_label||ae.getAttrib(A,"aria-label",x.getLang("aria.rich_text_area")),x.fire("ScriptsLoaded"),D.theme&&("function"!=typeof D.theme?(D.theme=D.theme.replace(/-/,""),w=X.get(D.theme),x.theme=new w(x,X.urls[D.theme]),x.theme.init&&x.theme.init(x,X.urls[D.theme]||x.documentBaseUrl.replace(/\/$/,""),x.$)):x.theme=D.theme),at(D.plugins.replace(/\-/g,"").split(/[ ,]/),N),D.render_ui&&x.theme&&(x.orgDisplay=A.style.display,"function"!=typeof D.theme?(H=D.width||A.style.width||A.offsetWidth,C=D.height||A.style.height||A.offsetHeight,S=D.min_height||100,B=/^[0-9\.]+(|px)$/i,B.test(""+H)&&(H=Math.max(parseInt(H,10),100)),B.test(""+C)&&(C=Math.max(parseInt(C,10),S)),F=x.theme.renderUI({targetNode:A,width:H,height:C,deltaWidth:D.delta_width,deltaHeight:D.delta_height}),D.content_editable||(C=(F.iframeHeight||C)+("number"==typeof C?F.deltaHeight||0:""),C<S&&(C=S))):(F=D.theme(x,A),F.editorContainer.nodeType&&(F.editorContainer.id=F.editorContainer.id||x.id+"_parent"),F.iframeContainer.nodeType&&(F.iframeContainer.id=F.iframeContainer.id||x.id+"_iframecontainer"),C=F.iframeHeight||A.offsetHeight),x.editorContainer=F.editorContainer),D.content_css&&at(bt(D.content_css),function(a){x.contentCSS.push(x.documentBaseURI.toAbsolute(a))}),D.content_style&&x.contentStyles.push(D.content_style),D.content_editable){return A=z=F=null,x.initContentBody()}if(x.iframeHTML=D.doctype+"<html><head>",D.document_base_url!=x.documentBaseUrl&&(x.iframeHTML+='<base href="'+x.documentBaseURI.getURI()+'" />'),!c8.caretAfter&&D.ie7_compat&&(x.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),x.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href)){for(I=0;I<x.contentCSS.length;I++){var L=x.contentCSS[I];x.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+ce._addCacheSuffix(L)+'" />',x.loadedCSS[L]=!0}}O=D.body_id||"tinymce",O.indexOf("=")!=-1&&(O=x.getParam("body_id","","hash"),O=O[x.id]||O),M=D.body_class||"",M.indexOf("=")!=-1&&(M=x.getParam("body_class","","hash"),M=M[x.id]||""),D.content_security_policy&&(x.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+D.content_security_policy+'" />'),x.iframeHTML+='</head><body id="'+O+'" class="mce-content-body '+M+'" data-id="'+x.id+'"><br></body></html>';var q='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+x.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&c8.ie&&c8.ie<12&&(P=q);var k=ae.create("iframe",{id:x.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:x.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:C,display:"block"}});if(k.onload=function(){k.onload=null,x.fire("load")},ae.setAttrib(k,"src",P||'javascript:""'),x.contentAreaContainer=F.iframeContainer,x.iframeElement=k,z=ae.add(F.iframeContainer,k),dd){try{x.getDoc()}catch(R){z.src=P=q}}F.editorContainer&&(ae.get(F.editorContainer).style.display=x.orgDisplay,x.hidden=ae.isHidden(F.editorContainer)),x.getElement().style.display="none",ae.setAttrib(x.id,"aria-hidden",!0),P||x.initContentBody(),A=z=F=null},initContentBody:function(b){var g=this,e=g.settings,d=g.getElement(),f=g.getDoc(),c,a;e.inline||(g.getElement().style.visibility=g.orgVisibility),b||e.content_editable||(f.open(),f.write(g.iframeHTML),f.close()),e.content_editable&&(g.on("remove",function(){var h=this.getBody();ae.removeClass(h,"mce-content-body"),ae.removeClass(h,"mce-edit-focus"),ae.setAttrib(h,"contentEditable",null)}),ae.addClass(d,"mce-content-body"),g.contentDocument=f=e.content_document||document,g.contentWindow=e.content_window||window,g.bodyElement=d,e.content_document=e.content_window=null,e.root_name=d.nodeName.toLowerCase()),c=g.getBody(),c.disabled=!0,g.readonly=e.readonly,g.readonly||(g.inline&&"static"==ae.getStyle(c,"position",!0)&&(c.style.position="relative"),c.contentEditable=g.getParam("content_editable_state",!0)),c.disabled=!1,g.editorUpload=new J(g),g.schema=new ds(e),g.dom=new dp(f,{keep_values:!0,url_converter:g.convertURL,url_converter_scope:g,hex_colors:e.force_hex_style_colors,class_filter:e.class_filter,update_styles:!0,root_element:g.inline?g.getBody():null,collect:e.content_editable,schema:g.schema,onSetAttrib:function(h){g.fire("SetAttrib",h)}}),g.parser=new c1(e,g.schema),g.parser.addAttributeFilter("src,href,style,tabindex",function(p,l){for(var n=p.length,k,q=g.dom,h,m;n--;){if(k=p[n],h=k.attr(l),m="data-mce-"+l,!k.attributes.map[m]){if(0===h.indexOf("data:")||0===h.indexOf("blob:")){continue}"style"===l?(h=q.serializeStyle(q.parseStyle(h),k.name),h.length||(h=null),k.attr(m,h),k.attr(l,h)):"tabindex"===l?(k.attr(m,h),k.attr(l,null)):k.attr(m,g.convertURL(h,l,k.name))}}}),g.parser.addNodeFilter("script",function(k){for(var h=k.length,l,i;h--;){l=k[h],i=l.attr("type")||"no/type",0!==i.indexOf("mce-")&&l.attr("type","mce-"+i)}}),g.parser.addNodeFilter("#cdata",function(i){for(var h=i.length,k;h--;){k=i[h],k.type=8,k.name="#comment",k.value="[CDATA["+k.value+"]]"}}),g.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(m){for(var k=m.length,l,h=g.schema.getNonEmptyElements();k--;){l=m[k],l.isEmpty(h)&&0===l.getAll("br").length&&(l.append(new df("br",1)).shortEnded=!0)}}),g.serializer=new dt(e,g),g.selection=new di(g.dom,g.getWin(),g.serializer,g),g.formatter=new da(g),g.undoManager=new dr(g),g.forceBlocks=new dn(g),g.enterKey=new dq(g),g._nodeChangeDispatcher=new dk(g),g._selectionOverrides=new Q(g),g.fire("PreInit"),e.browser_spellcheck||e.gecko_spellcheck||(f.body.spellcheck=!1,ae.setAttrib(c,"spellcheck","false")),g.quirks=new c7(g),g.fire("PostRender"),e.directionality&&(c.dir=e.directionality),e.nowrap&&(c.style.whiteSpace="nowrap"),e.protect&&g.on("BeforeSetContent",function(h){at(e.protect,function(i){h.content=h.content.replace(i,function(k){return"<!--mce:protected "+escape(k)+"-->"})})}),g.on("SetContent",function(){g.addVisual(g.getBody())}),e.padd_empty_editor&&g.on("PostProcess",function(h){h.content=h.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),g.load({initial:!0,format:"html"}),g.startContent=g.getContent({format:"raw"}),g.initialized=!0,g.bindPendingEventDelegates(),g.fire("init"),g.focus(!0),g.nodeChanged({initial:!0}),g.execCallback("init_instance_callback",g),g.on("compositionstart compositionend",function(h){g.composing="compositionstart"===h.type}),g.contentStyles.length>0&&(a="",at(g.contentStyles,function(h){a+=h+"\r\n"}),g.dom.addStyle(a)),at(g.contentCSS,function(h){g.loadedCSS[h]||(g.dom.loadCSS(h),g.loadedCSS[h]=!0)}),e.auto_focus&&Z.setEditorTimeout(g,function(){var h;h=e.auto_focus===!0?g:g.editorManager.get(e.auto_focus),h.destroyed||h.focus()},100),d=f=c=null},focus:function(k){function v(a){return f.dom.getParent(a,function(c){return"true"===f.dom.getContentEditable(c)})}var f=this,b=f.selection,h=f.settings.content_editable,d,p,w=f.getDoc(),g=f.getBody(),q;if(!k){if(d=b.getRng(),d.item&&(p=d.item(0)),f.quirks.refreshContentEditable(),q=v(b.getNode()),f.$.contains(g,q)){return q.focus(),b.normalize(),void f.editorManager.setActive(f)}if(h||(c8.opera||f.getBody().focus(),f.getWin().focus()),c4||h){if(g.setActive){try{g.setActive()}catch(m){g.focus()}}else{g.focus()}h&&b.normalize()}p&&p.ownerDocument==w&&(d=w.body.createControlRange(),d.addElement(p),d.select())}f.editorManager.setActive(f)},execCallback:function(c){var a=this,d=a.settings[c],b;if(d){return a.callbackLookup&&(b=a.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=d.replace(/\.\w+$/,""),b=b?j(b):0,d=j(d),a.callbackLookup=a.callbackLookup||{},a.callbackLookup[c]={func:d,scope:b}),d.apply(b||a,Array.prototype.slice.call(arguments,1))}},translate:function(b){var a=this.settings.language||"en",c=this.editorManager.i18n;return b?(b=c.data[a+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return c.data[a+"."+d]||"{#"+d+"}"}),this.editorManager.translate(b)):""},getLang:function(a,b){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+a]||(b!==bB?b:"{#"+a+"}")},getParam:function(d,b,f){var c=d in this.settings?this.settings[d]:b,a;return"hash"===f?(a={},"string"==typeof c?at(c.indexOf("=")>0?c.split(/[;,](?![^=;,]*(?:[;,]|$))/):c.split(","),function(g){g=g.split("="),g.length>1?a[G(g[0])]=G(g[1]):a[G(g[0])]=G(g)}):a=c,a):c},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.text||a.icon||(a.icon=b),c.buttons=c.buttons||{},a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addSidebar:function(b,a){return c2.add(this,b,a)},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems||{},c.menuItems[b]=a},addContextToolbar:function(c,a){var d=this,b;d.contextToolbars=d.contextToolbars||[],"string"==typeof c&&(b=c,c=function(f){return d.dom.is(f,b)}),d.contextToolbars.push({id:c3.uuid("mcet"),predicate:c,items:a})},addCommand:function(b,a,c){this.editorCommands.addCommand(b,a,c)},addQueryStateHandler:function(b,a,c){this.editorCommands.addQueryStateHandler(b,a,c)},addQueryValueHandler:function(b,a,c){this.editorCommands.addQueryValueHandler(b,a,c)},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(c,a,d,b){return this.editorCommands.execCommand(c,a,d,b)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){var a=this;a.hidden&&(a.hidden=!1,a.inline?a.getBody().contentEditable=!0:(ae.show(a.getContainer()),ae.hide(a.id)),a.load(),a.fire("show"))},hide:function(){var b=this,a=b.getDoc();b.hidden||(dd&&a&&!b.inline&&a.execCommand("SelectAll"),b.save(),b.inline?(b.getBody().contentEditable=!1,b==b.editorManager.focusedEditor&&(b.editorManager.focusedEditor=null)):(ae.hide(b.getContainer()),ae.setStyle(b.id,"display",b.orgDisplay)),b.hidden=!0,b.fire("hide"))},isHidden:function(){return !!this.hidden},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(c){var d=this,b=d.getElement(),a;if(b){return c=c||{},c.load=!0,a=d.setContent(b.value!==bB?b.value:b.innerHTML,c),c.element=b,c.no_events||d.fire("LoadContent",c),c.element=b=null,a}},save:function(d){var b=this,f=b.getElement(),c,a;if(f&&b.initialized){return d=d||{},d.save=!0,d.element=f,c=d.content=b.getContent(d),d.no_events||b.fire("SaveContent",d),"raw"==d.format&&b.fire("RawSaveContent",d),c=d.content,/TEXTAREA|INPUT/i.test(f.nodeName)?f.value=c:(b.inline||(f.innerHTML=c),(a=ae.getParent(b.id,"form"))&&at(a.elements,function(g){if(g.name==b.id){return g.value=c,!1}})),d.element=f=null,d.set_dirty!==!1&&b.setDirty(!1),c}},setContent:function(d,b){var g=this,c=g.getBody(),a,f;return b=b||{},b.format=b.format||"html",b.set=!0,b.content=d,b.no_events||g.fire("BeforeSetContent",b),d=b.content,0===d.length||/^\s+$/.test(d)?(f=dd&&dd<11?"":'<br data-mce-bogus="1">',"TABLE"==c.nodeName?d="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(c.nodeName)&&(d="<li>"+f+"</li>"),a=g.settings.forced_root_block,a&&g.schema.isValidChild(c.nodeName.toLowerCase(),a.toLowerCase())?(d=f,d=g.dom.createHTML(a,g.settings.forced_root_block_attrs,d)):dd||d||(d='<br data-mce-bogus="1">'),g.dom.setHTML(c,d),g.fire("SetContent",b)):("raw"!==b.format&&(d=new db({validate:g.validate},g.schema).serialize(g.parser.parse(d,{isRootContent:!0}))),b.content=G(d),g.dom.setHTML(c,b.content),b.no_events||g.fire("SetContent",b)),b.content},getContent:function(c){var a=this,d,b=a.getBody();return c=c||{},c.format=c.format||"html",c.get=!0,c.getInner=!0,c.no_events||a.fire("BeforeGetContent",c),d="raw"==c.format?ce.trim(a.serializer.getTrimmedContent()):"text"==c.format?b.innerText||b.textContent:a.serializer.serialize(b,c),"text"!=c.format?c.content=G(d):c.content=d,c.no_events||a.fire("GetContent",c),c.content},insertContent:function(b,a){a&&(b=be({content:b},a)),this.execCommand("mceInsertContent",!1,b)},isDirty:function(){return !this.isNotDirty},setDirty:function(b){var a=!this.isNotDirty;this.isNotDirty=!b,b&&b!=a&&this.fire("dirty")},setMode:function(a){K.setMode(this,a)},getContainer:function(){var a=this;return a.container||(a.container=ae.get(a.editorContainer||a.id+"_parent")),a.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=ae.get(this.id)),this.targetElm},getWin:function(){var b=this,a;return b.contentWindow||(a=b.iframeElement,a&&(b.contentWindow=a.contentWindow)),b.contentWindow},getDoc:function(){var b=this,a;return b.contentDocument||(a=b.getWin(),a&&(b.contentDocument=a.document)),b.contentDocument},getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},convertURL:function(d,b,f){var c=this,a=c.settings;return a.urlconverter_callback?c.execCallback("urlconverter_callback",d,f,!0,b):!a.convert_urls||f&&"LINK"==f.nodeName||0===d.indexOf("file:")||0===d.length?d:a.relative_urls?c.documentBaseURI.toRelative(d):d=c.documentBaseURI.toAbsolute(d,a.remove_script_host)},addVisual:function(c){var f=this,b=f.settings,a=f.dom,d;c=c||f.getBody(),f.hasVisual===bB&&(f.hasVisual=b.visual),at(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return d=b.visual_table_class||"mce-item-table",g=a.getAttrib(h,"border"),void (g&&"0"!=g||!f.hasVisual?a.removeClass(h,d):a.addClass(h,d));case"A":return void (a.getAttrib(h,"href",!1)||(g=a.getAttrib(h,"name")||h.id,d=b.visual_anchor_class||"mce-item-anchor",g&&f.hasVisual?a.addClass(h,d):a.removeClass(h,d)))}}),f.fire("VisualAid",{element:c,hasVisual:f.hasVisual})},remove:function(){var a=this;a.removed||(a.save(),a.removed=1,a.unbindAllNativeEvents(),a.hasHiddenInput&&ae.remove(a.getElement().nextSibling),a.inline||(dd&&dd<10&&a.getDoc().execCommand("SelectAll",!1,null),ae.setStyle(a.id,"display",a.orgDisplay),a.getBody().onload=null),a.fire("remove"),a.editorManager.remove(a),ae.remove(a.getContainer()),a._selectionOverrides.destroy(),a.editorUpload.destroy(),a.destroy())},destroy:function(b){var a=this,c;if(!a.destroyed){if(!b&&!a.removed){return void a.remove()}b||(a.editorManager.off("beforeunload",a._beforeUnload),a.theme&&a.theme.destroy&&a.theme.destroy(),a.selection.destroy(),a.dom.destroy()),c=a.formElement,c&&(c._mceOldSubmit&&(c.submit=c._mceOldSubmit,c._mceOldSubmit=null),ae.unbind(c,"submit reset",a.formEventDelegate)),a.contentAreaContainer=a.formElement=a.container=a.editorContainer=null,a.bodyElement=a.contentDocument=a.contentWindow=null,a.iframeElement=a.targetElm=null,a.selection&&(a.selection=a.selection.win=a.selection.dom=a.selection.dom.doc=null),a.destroyed=1}},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}},be(an.prototype,du),an}),bD(aS,[bK],function(b){var a={},c="en";return{setCode:function(d){d&&(c=d,this.rtl=!!this.data[d]&&"rtl"===this.data[d]._dir)},getCode:function(){return c},rtl:!1,add:function(g,h){var f=a[g];f||(a[g]=f={});for(var d in h){f[d]=h[d]}this.setCode(g)},translate:function(h){function f(i){return b.is(i,"function")?Object.prototype.toString.call(i):j(i)?"":""+i}function j(i){return""===i||null===i||b.is(i,"undefined")}function e(i){return i=f(i),b.hasOwn(g,i)?f(g[i]):i}var g=a[c]||{};if(j(h)){return""}if(b.is(h,"object")&&b.hasOwn(h,"raw")){return f(h.raw)}if(b.is(h,"array")){var d=h.slice(1);h=e(h[0]).replace(/\{([0-9]+)\}/g,function(i,k){return b.hasOwn(d,k)?f(d[k]):i})}return e(h).replace(/{context:\w+}$/,"")},data:a}}),bD(cW,[bx,bX,bW],function(h,k,d){function b(n){function i(){try{return document.activeElement}catch(q){return document.body}}function a(r,q){if(q&&q.startContainer){if(!r.isChildOf(q.startContainer,r.getRoot())||!r.isChildOf(q.endContainer,r.getRoot())){return}return{startContainer:q.startContainer,startOffset:q.startOffset,endContainer:q.endContainer,endOffset:q.endOffset}}return q}function p(r,q){var s;return q.startContainer?(s=r.getDoc().createRange(),s.setStart(q.startContainer,q.startOffset),s.setEnd(q.endContainer,q.endOffset)):s=q,s}function o(q){var e=q.editor;e.on("init",function(){(e.inline||d.ie)&&("onbeforedeactivate" in document&&d.ie<9?e.dom.bind(e.getBody(),"beforedeactivate",function(s){if(s.target==e.getBody()){try{e.lastRng=e.selection.getRng()}catch(r){}}}):e.on("nodechange mouseup keyup",function(s){var r=i();"nodechange"==s.type&&s.selectionChange||(r&&r.id==e.id+"_ifr"&&(r=e.getBody()),e.dom.isChildOf(r,e.getBody())&&(e.lastRng=e.selection.getRng()))}),d.webkit&&!g&&(g=function(){var r=n.activeEditor;if(r&&r.selection){var s=r.selection.getRng();s&&!s.collapsed&&(e.lastRng=s)}},m.bind(document,"selectionchange",g)))}),e.on("setcontent",function(){e.lastRng=null}),e.on("mousedown",function(){e.selection.lastFocusBookmark=null}),e.on("focusin",function(){var r=n.focusedEditor,s;e.selection.lastFocusBookmark&&(s=p(e,e.selection.lastFocusBookmark),e.selection.lastFocusBookmark=null,e.selection.setRng(s)),r!=e&&(r&&r.fire("blur",{focusedEditor:e}),n.setActive(e),n.focusedEditor=e,e.fire("focus",{blurredEditor:r}),e.focus(!0)),e.lastRng=null}),e.on("focusout",function(){k.setEditorTimeout(e,function(){var r=n.focusedEditor;f(e,i())||r!=e||(e.fire("blur",{focusedEditor:null}),n.focusedEditor=null,e.selection&&(e.selection.lastFocusBookmark=null))})}),c||(c=function(s){var v=n.activeEditor,u;u=s.target,v&&u.ownerDocument==document&&(v.selection&&u!=v.getBody()&&(v.selection.lastFocusBookmark=a(v.dom,v.lastRng)),u==document.body||f(v,u)||n.focusedEditor!=v||(v.fire("blur",{focusedEditor:null}),n.focusedEditor=null))},m.bind(document,"focusin",c)),e.inline&&!j&&(j=function(u){var w=n.activeEditor,v=w.dom;if(w.inline&&v&&!v.isChildOf(u.target,w.getBody())){var s=w.selection.getRng();s.collapsed||(w.lastRng=s)}},m.bind(document,"mouseup",j))}function l(e){n.focusedEditor==e.editor&&(n.focusedEditor=null),n.activeEditor||(m.unbind(document,"selectionchange",g),m.unbind(document,"focusin",c),m.unbind(document,"mouseup",j),g=c=j=null)}n.on("AddEditor",o),n.on("RemoveEditor",l)}var g,c,j,m=h.DOM,f=function(o,l){var p=o?o.settings.custom_ui_selector:"",a=m.getParent(l,function(e){return b.isEditorUIElement(e)||!!p&&o.dom.is(e,p)});return null!==a};return b.isEditorUIElement=function(a){return a.className.toString().indexOf("mce-")!==-1},b._isUIElement=f,b}),bD(aB,[cH,bS,bx,aF,bW,bK,bz,br,aS,cW,cl],function(P,B,I,F,L,H,T,D,K,A,R){function Q(a){z(k.editors,function(b){"scroll"===a.type?b.fire("ScrollWindow",a):b.fire("ResizeWindow",a)})}function O(a,b){b!==q&&(b?B(window).on("resize scroll",Q):B(window).off("resize scroll",Q),q=b)}function G(c){var a=k.editors,d;delete a[c.id];for(var b=0;b<a.length;b++){if(a[b]==c){a.splice(b,1),d=!0;break}}return k.activeEditor==c&&(k.activeEditor=a[0]),k.focusedEditor==c&&(k.focusedEditor=null),d}function M(a){return a&&a.initialized&&!(a.getContainer()||a.getBody()).parentNode&&(G(a),a.unbindAllNativeEvents(),a.destroy(!0),a.removed=!0,a=null),a}var J=I.DOM,N=H.explode,z=H.each,j=H.extend,S=0,E,k,q=!1;return k={$:B,majorVersion:"4",minorVersion:"5.8",releaseDate:"2017-10-05",editors:[],i18n:K,activeEditor:null,setup:function(){var h=this,r,d,g="",b,p;if(d=F.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(d)&&(d=d.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(d)||(d+="/")),b=window.tinymce||window.tinyMCEPreInit){r=b.base||b.baseURL,g=b.suffix}else{for(var u=document.getElementsByTagName("script"),f=0;f<u.length;f++){p=u[f].src;var m=p.substring(p.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(p)){m.indexOf(".min")!=-1&&(g=".min"),r=p.substring(0,p.lastIndexOf("/"));break}}!r&&document.currentScript&&(p=document.currentScript.src,p.indexOf(".min")!=-1&&(g=".min"),r=p.substring(0,p.lastIndexOf("/")))}h.baseURL=new F(d).toAbsolute(r),h.documentBaseURL=d,h.baseURI=new F(h.baseURL),h.suffix=g,h.focusManager=new A(h)},overrideDefaults:function(c){var b,f;b=c.base_url,b&&(this.baseURL=new F(this.documentBaseURL).toAbsolute(b.replace(/\/+$/,"")),this.baseURI=new F(this.baseURL)),f=c.suffix,c.suffix&&(this.suffix=f),this.defaultSettings=c;var a=c.plugin_base_urls;for(var d in a){R.PluginManager.urls[d]=a[d]}},init:function(g){function a(d,c){return d.inline&&c.tagName.toLowerCase() in b}function m(d,c){window.console&&!window.test&&window.console.log(d,c)}function U(d){var c=d.id;return c||(c=d.name,c=c&&!J.get(c)?d.name:J.uniqueId(),d.setAttribute("id",c)),c}function h(d){var c=g[d];if(c){return c.apply(o,Array.prototype.slice.call(arguments,2))}}function y(d,c){return c.constructor===RegExp?c.test(d.className):J.hasClass(d,c)}function v(d){var c,f=[];if(d.types){return z(d.types,function(i){f=f.concat(J.select(i.selector))}),f}if(d.selector){return J.select(d.selector)}if(d.target){return[d.target]}switch(d.mode){case"exact":c=d.elements||"",c.length>0&&z(N(c),function(l){var i;(i=J.get(l))?f.push(i):z(document.forms,function(n){z(n.elements,function(p){p.name===l&&(l="mce_editor_"+S++,J.setAttrib(p,"id",l),f.push(p))})})});break;case"textareas":case"specific_textareas":z(J.select("textarea"),function(i){d.editor_deselector&&y(i,d.editor_deselector)||d.editor_selector&&!y(i,d.editor_selector)||f.push(i)})}return f}function t(){function c(p,u,s){var l=new P(p,u,o);i.push(l),l.on("init",function(){++d===f.length&&w(i)}),l.targetElm=l.targetElm||s,l.render()}var d=0,i=[],f;return J.unbind(window,"ready",t),h("onpageload"),f=B.unique(v(g)),g.types?void z(g.types,function(l){H.each(f,function(n){return !J.is(n,l.selector)||(c(U(n),j({},g,l),n),!1)})}):(H.each(f,function(l){M(o.get(l.id))}),f=H.grep(f,function(l){return !o.get(l.id)}),void z(f,function(l){a(g,l)?m("Could not initialize inline editor on invalid inline target element",l):c(U(l),g,l)}))}var o=this,e,b;b=H.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var w=function(c){e=c};return o.settings=g,J.bind(window,"ready",t),new T(function(c){e?c(e):w=function(d){c(d)}})},get:function(a){return arguments.length?a in this.editors?this.editors[a]:null:this.editors},add:function(b){var a=this,c=a.editors;return c[b.id]=b,c.push(b),O(c,!0),a.activeEditor=b,a.fire("AddEditor",{editor:b}),E||(E=function(){a.fire("BeforeUnload")},J.bind(window,"beforeunload",E)),b},createEditor:function(a,b){return this.add(new P(a,b,this))},remove:function(d){var b=this,f,c=b.editors,a;if(d){return"string"==typeof d?(d=d.selector||d,void z(J.select(d),function(g){a=c[g.id],a&&b.remove(a)})):(a=d,c[a.id]?(G(a)&&b.fire("RemoveEditor",{editor:a}),c.length||J.unbind(window,"beforeunload",E),a.remove(),O(c,c.length>0),a):null)}for(f=c.length-1;f>=0;f--){b.remove(c[f])}},execCommand:function(b,e,c){var a=this,d=a.get(c);switch(b){case"mceAddEditor":return a.get(c)||new P(c,a.settings,a).render(),!0;case"mceRemoveEditor":return d&&d.remove(),!0;case"mceToggleEditor":return d?(d.isHidden()?d.show():d.hide(),!0):(a.execCommand("mceAddEditor",0,c),!0)}return !!a.activeEditor&&a.activeEditor.execCommand(b,e,c)},triggerSave:function(){z(this.editors,function(a){a.save()})},addI18n:function(b,a){K.add(b,a)},translate:function(a){return K.translate(a)},setActive:function(b){var a=this.activeEditor;this.activeEditor!=b&&(a&&a.fire("deactivate",{relatedTarget:b}),b.fire("activate",{relatedTarget:a})),this.activeEditor=b}},j(k,D),k.setup(),window.tinymce=window.tinyMCE=k,k}),bD(bv,[aB,bK],function(c,a){var d=a.each,b=a.explode;c.on("AddEditor",function(g){var f=g.editor;f.on("preInit",function(){function n(l,i){d(i,function(e,o){e&&m.setStyle(l,o,e)}),m.rename(l,"span")}function k(i){m=f.dom,h.convert_fonts_to_spans&&d(m.select("font,u,strike",i.node),function(l){p[l.nodeName.toLowerCase()](m,l)})}var p,j,m,h=f.settings;h.inline_styles&&(j=b(h.font_size_legacy_values),p={font:function(e,i){n(i,{backgroundColor:i.style.backgroundColor,color:i.color,fontFamily:i.face,fontSize:j[parseInt(i.size,10)-1]})},u:function(i,e){"html4"===f.settings.schema&&n(e,{textDecoration:"underline"})},strike:function(e,i){n(i,{textDecoration:"line-through"})}},f.on("PreProcess SetContent",k))})})}),bD(bk,[br,bK],function(b,a){var c={send:function(g){function f(){!g.async||4==d.readyState||h++>10000?(g.success&&h<10000&&200==d.status?g.success.call(g.success_scope,""+d.responseText,d,g):g.error&&g.error.call(g.error_scope,h>10000?"TIMED_OUT":"GENERAL",d,g),d=null):setTimeout(f,10)}var d,h=0;if(g.scope=g.scope||this,g.success_scope=g.success_scope||g.scope,g.error_scope=g.error_scope||g.scope,g.async=g.async!==!1,g.data=g.data||"",c.fire("beforeInitialize",{settings:g}),d=new XMLHttpRequest){if(d.overrideMimeType&&d.overrideMimeType(g.content_type),d.open(g.type||(g.data?"POST":"GET"),g.url,g.async),g.crossDomain&&(d.withCredentials=!0),g.content_type&&d.setRequestHeader("Content-Type",g.content_type),g.requestheaders&&a.each(g.requestheaders,function(i){d.setRequestHeader(i.key,i.value)}),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d=c.fire("beforeSend",{xhr:d,settings:g}).xhr,d.send(g.data),!g.async){return f()}setTimeout(f,10)}}};return a.extend(c,b),c}),bD(a0,[],function(){function a(d,g){var e,c,f,b;if(g=g||'"',null===d){return"null"}if(f=typeof d,"string"==f){return c="\bb\tt\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(e=c.indexOf(h),e+1?"\\"+c.charAt(e+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i))})+g}if("object"==f){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(e=0,c="[";e<d.length;e++){c+=(e>0?",":"")+a(d[e],g)}return c+"]"}c="{";for(b in d){d.hasOwnProperty(b)&&(c+="function"!=typeof d[b]?(c.length>1?","+g:g)+b+g+":"+a(d[b],g):"")}return c+"}"}return""+d}return{serialize:a,parse:function(c){try{return window[String.fromCharCode(101)+"val"]("("+c+")")}catch(b){}}}}),bD(bn,[a0,bk,bK],function(d,b,f){function c(g){this.settings=a({},g),this.count=0}var a=f.extend;return c.sendRPC=function(g){return(new c).send(g)},c.prototype={send:function(h){var e=h.error,g=h.success;h=a(this.settings,h),h.success=function(k,j){k=d.parse(k),"undefined"==typeof k&&(k={error:"JSON Parse error."}),k.error?e.call(h.error_scope||h.scope,k.error,j):g.call(h.success_scope||h.scope,k.result)},h.error=function(j,i){e&&e.call(h.error_scope||h.scope,j,i)},h.data=d.serialize({id:h.id||"c"+this.count++,method:h.method,params:h.params}),h.content_type="application/json",b.send(h)}},c}),bD(aH,[bx],function(a){return{callbacks:{},count:0,send:function(f){var d=this,c=a.DOM,e=f.count!==bB?f.count:d.count,b="tinymce_jsonp_"+e;d.callbacks[e]=function(g){c.remove(b),delete d.callbacks[e],f.callback(g)},c.add(c.doc.body,"script",{id:b,src:f.url,type:"text/javascript"}),d.count++}}}),bD(cM,[],function(){function j(){q=[];for(var a in m){q.push(a)}h.length=q.length}function f(){function u(i){var s,c;return c=i!==bB?t+i:a.indexOf(",",t),c===-1||c>a.length?null:(s=a.substring(t,c),t=c+1,s)}var l,a,e,t=0;if(m={},p){d.load(g),a=d.getAttribute(g)||"";do{var o=u();if(null===o){break}if(l=u(parseInt(o,32)||0),null!==l){if(o=u(),null===o){break}e=u(parseInt(o,32)||0),l&&(m[l]=e)}}while(null!==l);j()}}function b(){var c,l="";if(p){for(var e in m){c=m[e],l+=(l?",":"")+e.length.toString(32)+","+e+","+c.length.toString(32)+","+c}d.setAttribute(g,l);try{d.save(g)}catch(a){}j()}}var h,d,m,q,g,p;try{if(window.localStorage){return localStorage}}catch(k){}return g="tinymce",d=document.documentElement,p=!!d.addBehavior,p&&d.addBehavior("#default#userData"),h={key:function(a){return q[a]},getItem:function(a){return a in m?m[a]:null},setItem:function(c,a){m[c]=""+a,b()},removeItem:function(a){delete m[a],b()},clear:function(){m={},b()}},f(),h}),bD(aQ,[bx,bT,cy,cl,bK,bW],function(g,d,j,f,c,h){var b=window.tinymce;return b.DOM=g.DOM,b.ScriptLoader=j.ScriptLoader,b.PluginManager=f.PluginManager,b.ThemeManager=f.ThemeManager,b.dom=b.dom||{},b.dom.Event=d.Event,c.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(a){b[a]=c[a]}),c.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(a){b[a]=h[a.substr(2).toLowerCase()]}),{}}),bD(ar,[bO,bK],function(b,a){return b.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=a.extend({},this.Defaults,c)},preRender:function(c){c.bodyClasses.add(this.settings.containerClass)},applyClasses:function(h){var f=this,k=f.settings,g,d,j,c;g=k.firstControlClass,d=k.lastControlClass,h.each(function(i){i.classes.remove(g).remove(d).add(k.controlClass),i.visible()&&(j||(j=i),c=i)}),j&&j.classes.add(g),c&&c.classes.add(d)},renderHtml:function(d){var c=this,f="";return c.applyClasses(d.items()),d.items().each(function(g){f+=g.renderHtml()}),f},recalc:function(){},postRender:function(){},isNative:function(){return !1}})}),bD(cP,[ar],function(a){return a.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(b){b.items().filter(":visible").each(function(d){var c=d.settings;d.layoutRect({x:c.x,y:c.y,w:c.w,h:c.h}),d.recalc&&d.recalc()})},renderHtml:function(b){return'<div id="'+b._id+'-absend" class="'+b.classPrefix+'abs-end"></div>'+this._super(b)}})}),bD(b4,[aE],function(a){return a.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var b=this,d;b._super(c),c=b.settings,d=b.settings.size,b.on("click mousedown",function(f){f.preventDefault()}),b.on("touchstart",function(f){b.fire("click",f),f.preventDefault()}),c.subtype&&b.classes.add(c.subtype),d&&b.classes.add("btn-"+d),c.icon&&b.icon(c.icon)},icon:function(b){return arguments.length?(this.state.set("icon",b),this):this.state.get("icon")},repaint:function(){var c=this.getEl().firstChild,b;c&&(b=c.style,b.width=b.height="100%"),this._super()},renderHtml:function(){var g=this,d=g._id,j=g.classPrefix,f=g.state.get("icon"),c,h=g.state.get("text"),b="";return c=g.settings.image,c?(f="none","string"!=typeof c&&(c=window.getSelection?c[0]:c[1]),c=" style=\"background-image: url('"+c+"')\""):c="",h&&(g.classes.add("btn-has-text"),b='<span class="'+j+'txt">'+g.encode(h)+"</span>"),f=f?j+"ico "+j+"i-"+f:"",'<div id="'+d+'" class="'+g.classes+'" tabindex="-1" aria-labelledby="'+d+'"><button role="presentation" type="button" tabindex="-1">'+(f?'<i class="'+f+'"'+c+"></i>":"")+b+"</button></div>"},bindStates:function(){function d(h){var g=f("span."+c,b.getEl());h?(g[0]||(f("button:first",b.getEl()).append('<span class="'+c+'"></span>'),g=f("span."+c,b.getEl())),g.html(b.encode(h))):g.remove(),b.classes.toggle("btn-has-text",!!h)}var b=this,f=b.$,c=b.classPrefix+"txt";return b.state.on("change:text",function(e){d(e.value)}),b.state.on("change:icon",function(k){var h=k.value,g=b.classPrefix;b.settings.icon=h,h=h?g+"ico "+g+"i-"+b.settings.icon:"";var j=b.getEl().firstChild,e=j.getElementsByTagName("i")[0];h?(e&&e==j.firstChild||(e=document.createElement("i"),j.insertBefore(e,j.firstChild)),e.className=h):e&&j.removeChild(e),d(b.state.get("text"))}),b._super()}})}),bD(aG,[aX],function(a){return a.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var c=this,b=c._layout;return c.classes.add("btn-group"),c.preRender(),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),bD(cY,[aE],function(a){return a.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var b=this;b._super(c),b.on("click mousedown",function(d){d.preventDefault()}),b.on("click",function(d){d.preventDefault(),b.disabled()||b.checked(!b.checked())}),b.checked(b.settings.checked)},checked:function(b){return arguments.length?(this.state.set("checked",b),this):this.state.get("checked")},value:function(b){return arguments.length?this.checked(b):this.checked()},renderHtml:function(){var c=this,b=c._id,d=c.classPrefix;return'<div id="'+b+'" class="'+c.classes+'" unselectable="on" aria-labelledby="'+b+'-al" tabindex="-1"><i class="'+d+"ico "+d+'i-checkbox"></i><span id="'+b+'-al" class="'+d+'label">'+c.encode(c.state.get("text"))+"</span></div>"},bindStates:function(){function c(d){b.classes.toggle("checked",d),b.aria("checked",d)}var b=this;return b.state.on("change:text",function(d){b.getEl("al").firstChild.data=b.translate(d.value)}),b.state.on("change:checked change:value",function(d){b.fire("change"),c(d.value)}),b.state.on("change:icon",function(g){var j=g.value,f=b.classPrefix;if("undefined"==typeof j){return b.settings.icon}b.settings.icon=j,j=j?f+"ico "+f+"i-"+b.settings.icon:"";var d=b.getEl().firstChild,h=d.getElementsByTagName("i")[0];j?(h&&h==d.firstChild||(h=document.createElement("i"),d.insertBefore(h,d.firstChild)),h.className=j):h&&d.removeChild(h)}),b.state.get("checked")&&c(!0),b._super()}})}),bD(ai,[aE,am,ax,bS,cs,bK],function(d,b,g,c,a,f){return d.extend({init:function(i){var h=this;h._super(i),i=h.settings,h.classes.add("combobox"),h.subinput=!0,h.ariaTarget="inp",i.menu=i.menu||i.values,i.menu&&(i.icon="caret"),h.on("click",function(k){var e=k.target,j=h.getEl();if(c.contains(j,e)||e==j){for(;e&&e!=j;){e.id&&e.id.indexOf("-open")!=-1&&(h.fire("action"),i.menu&&(h.showMenu(),k.aria&&h.menu.items()[0].focus())),e=e.parentNode}}}),h.on("keydown",function(j){var k;13==j.keyCode&&"INPUT"===j.target.nodeName&&(j.preventDefault(),h.parents().reverse().each(function(l){if(l.toJSON){return k=l,!1}}),h.fire("submit",{data:k.toJSON()}))}),h.on("keyup",function(k){if("INPUT"==k.target.nodeName){var l=h.state.get("value"),j=k.target.value;j!==l&&(h.state.set("value",j),h.fire("autocomplete",k))}}),h.on("mouseover",function(l){var m=h.tooltip().moveTo(-65535);if(h.statusLevel()&&l.target.className.indexOf(h.classPrefix+"status")!==-1){var k=h.statusMessage()||"Ok",j=m.text(k).show().testMoveRel(l.target,["bc-tc","bc-tl","bc-tr"]);m.classes.toggle("tooltip-n","bc-tc"==j),m.classes.toggle("tooltip-nw","bc-tl"==j),m.classes.toggle("tooltip-ne","bc-tr"==j),m.moveRel(l.target,j)}})},statusLevel:function(h){return arguments.length>0&&this.state.set("statusLevel",h),this.state.get("statusLevel")},statusMessage:function(h){return arguments.length>0&&this.state.set("statusMessage",h),this.state.get("statusMessage")},showMenu:function(){var i=this,j=i.settings,h;i.menu||(h=j.menu||[],h.length?h={type:"menu",items:h}:h.type=h.type||"menu",i.menu=b.create(h).parent(i).renderTo(i.getContainerElm()),i.fire("createmenu"),i.menu.reflow(),i.menu.on("cancel",function(e){e.control===i.menu&&i.focus()}),i.menu.on("show hide",function(e){e.control.items().each(function(k){k.active(k.value()==i.value())})}).fire("show"),i.menu.on("select",function(e){i.value(e.control.value())}),i.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&i.menu.hide()}),i.aria("expanded",!0)),i.menu.show(),i.menu.layoutRect({w:i.layoutRect().w}),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var m=this,r=m.getEl(),k=m.getEl("open"),h=m.layoutRect(),p,v,j=0,q=r.firstChild;m.statusLevel()&&"none"!==m.statusLevel()&&(j=parseInt(g.getRuntimeStyle(q,"padding-right"),10)-parseInt(g.getRuntimeStyle(q,"padding-left"),10)),p=k?h.w-g.getSize(k).width-10:h.w-10;var n=document;return n.all&&(!n.documentMode||n.documentMode<=8)&&(v=m.layoutRect().h-2+"px"),c(q).css({width:p-j,lineHeight:v}),m._super(),m},postRender:function(){var h=this;return c(this.getEl("inp")).on("change",function(e){h.state.set("value",e.target.value),h.fire("change",e)}),h._super()},renderHtml:function(){var q=this,x=q._id,k=q.settings,h=q.classPrefix,p=q.state.get("value")||"",j,v,y="",m="",w="";return"spellcheck" in k&&(m+=' spellcheck="'+k.spellcheck+'"'),k.maxLength&&(m+=' maxlength="'+k.maxLength+'"'),k.size&&(m+=' size="'+k.size+'"'),k.subtype&&(m+=' type="'+k.subtype+'"'),w='<i id="'+x+'-status" class="mce-status mce-ico" style="display: none"></i>',q.disabled()&&(m+=' disabled="disabled"'),j=k.icon,j&&"caret"!=j&&(j=h+"ico "+h+"i-"+k.icon),v=q.state.get("text"),(j||v)&&(y='<div id="'+x+'-open" class="'+h+"btn "+h+'open" tabIndex="-1" role="button"><button id="'+x+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=j?'<i class="'+j+'"></i>':'<i class="'+h+'caret"></i>')+(v?(j?" ":"")+v:"")+"</button></div>",q.classes.add("has-open")),'<div id="'+x+'" class="'+q.classes+'"><input id="'+x+'-inp" class="'+h+'textbox" value="'+q.encode(p,!1)+'" hidefocus="1"'+m+' placeholder="'+q.encode(k.placeholder)+'" />'+w+y+"</div>"},value:function(h){return arguments.length?(this.state.set("value",h),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(l,m){var k=this;if(0===l.length){return void k.hideMenu()}var j=function(n,i){return function(){k.fire("selectitem",{title:i,value:n})}};k.menu?k.menu.items().remove():k.menu=b.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(k).renderTo(),f.each(l,function(i){k.menu.add({text:i.title,url:i.previewUrl,match:m,classes:"menu-item-ellipsis",onclick:j(i.value,i.title)})}),k.menu.renderNew(),k.hideMenu(),k.menu.on("cancel",function(i){i.control.parent()===k.menu&&(i.stopPropagation(),k.focus(),k.hideMenu())}),k.menu.on("select",function(){k.focus()});var h=k.layoutRect().w;k.menu.layoutRect({w:h,minW:0,maxW:h}),k.menu.reflow(),k.menu.show(),k.menu.moveRel(k.getEl(),k.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var i=this;i.state.on("change:value",function(e){i.getEl("inp").value!=e.value&&(i.getEl("inp").value=e.value)}),i.state.on("change:disabled",function(e){i.getEl("inp").disabled=e.value}),i.state.on("change:statusLevel",function(j){var k=i.getEl("status"),e=i.classPrefix,l=j.value;g.css(k,"display","none"===l?"none":""),g.toggleClass(k,e+"i-checkmark","ok"===l),g.toggleClass(k,e+"i-warning","warn"===l),g.toggleClass(k,e+"i-error","error"===l),i.classes.toggle("has-status","none"!==l),i.repaint()}),g.on(i.getEl("status"),"mouseleave",function(){i.tooltip().hide()}),i.on("cancel",function(e){i.menu&&i.menu.visible()&&(e.stopPropagation(),i.hideMenu())});var h=function(k,j){j&&j.items().length>0&&j.items().eq(k)[0].focus()};return i.on("keydown",function(j){var e=j.keyCode;"INPUT"===j.target.nodeName&&(e===a.DOWN?(j.preventDefault(),i.fire("autocomplete"),h(0,i.menu)):e===a.UP&&(j.preventDefault(),h(-1,i.menu)))}),i._super()},remove:function(){c(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),bD(ao,[ai],function(a){return a.extend({init:function(c){var b=this;c.spellcheck=!1,c.onaction&&(c.icon="none"),b._super(c),b.classes.add("colorbox"),b.on("change keyup postrender",function(){b.repaintColor(b.value())})},repaintColor:function(d){var b=this.getEl("open"),f=b?b.getElementsByTagName("i")[0]:null;if(f){try{f.style.background=d}catch(c){}}},bindStates:function(){var b=this;return b.state.on("change:value",function(c){b.state.get("rendered")&&b.repaintColor(c.value)}),b._super()}})}),bD(aR,[b4,a4],function(b,a){return b.extend({showPanel:function(){var d=this,f=d.settings;if(d.active(!0),d.panel){d.panel.show()}else{var c=f.panel;c.type&&(c={layout:"grid",items:c}),c.role=c.role||"dialog",c.popover=!0,c.autohide=!0,c.ariaRoot=!0,d.panel=new a(c).on("hide",function(){d.active(!1)}).on("cancel",function(e){e.stopPropagation(),d.focus(),d.hidePanel()}).parent(d).renderTo(d.getContainerElm()),d.panel.fire("show"),d.panel.reflow()}d.panel.moveRel(d.getEl(),f.popoverAlign||(d.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var c=this;c.panel&&c.panel.hide()},postRender:function(){var c=this;return c.aria("haspopup",!0),c.on("click",function(d){d.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!d.aria)))}),c._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),bD(aa,[aR,bx],function(b,a){var c=a.DOM;return b.extend({init:function(d){this._super(d),this.classes.add("colorbutton")},color:function(d){return d?(this._color=d,this.getEl("preview").style.backgroundColor=d,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var j=this,g=j._id,l=j.classPrefix,h=j.state.get("text"),f=j.settings.icon?l+"ico "+l+"i-"+j.settings.icon:"",k=j.settings.image?" style=\"background-image: url('"+j.settings.image+"')\"":"",d="";return h&&(j.classes.add("btn-has-text"),d='<span class="'+l+'txt">'+j.encode(h)+"</span>"),'<div id="'+g+'" class="'+j.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(f?'<i class="'+f+'"'+k+"></i>":"")+'<span id="'+g+'-preview" class="'+l+'preview"></span>'+d+'</button><button type="button" class="'+l+'open" hidefocus="1" tabindex="-1"> <i class="'+l+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=f||c.getParent(e.target,"."+f.classPrefix+"open")||(e.stopImmediatePropagation(),d.call(f,e))}),delete f.settings.onclick,f._super()}})}),bD(cX,[],function(){function c(n){function k(y,x,f){var B,D,p,C,A,z;return B=0,D=0,p=0,y/=255,x/=255,f/=255,A=a(y,a(x,f)),z=d(y,d(x,f)),A==z?(p=A,{h:0,s:0,v:100*p}):(C=y==A?x-f:f==A?y-x:f-y,B=y==A?3:f==A?1:5,B=60*(B-C/(z-A)),D=(z-A)/z,p=z,{h:b(B),s:b(100*D),v:b(100*p)})}function h(A,y,B){var p,z,f,x;if(A=(parseInt(A,10)||0)%360,y=parseInt(y,10)/100,B=parseInt(B,10)/100,y=d(0,a(y,1)),B=d(0,a(B,1)),0===y){return void (q=m=g=b(255*B))}switch(p=A/60,z=B*y,f=z*(1-Math.abs(p%2-1)),x=B-z,Math.floor(p)){case 0:q=z,m=f,g=0;break;case 1:q=f,m=z,g=0;break;case 2:q=0,m=z,g=f;break;case 3:q=0,m=f,g=z;break;case 4:q=f,m=0,g=z;break;case 5:q=z,m=0,g=f;break;default:q=m=g=0}q=b(255*(q+x)),m=b(255*(m+x)),g=b(255*(g+x))}function t(){function f(i){return i=parseInt(i,10).toString(16),i.length>1?i:"0"+i}return"#"+f(q)+f(m)+f(g)}function w(){return{r:q,g:m,b:g}}function j(){return k(q,m,g)}function v(i){var f;return"object"==typeof i?"r" in i?(q=i.r,m=i.g,g=i.b):"v" in i&&h(i.h,i.s,i.v):(f=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(i))?(q=parseInt(f[1],10),m=parseInt(f[2],10),g=parseInt(f[3],10)):(f=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(i))?(q=parseInt(f[1],16),m=parseInt(f[2],16),g=parseInt(f[3],16)):(f=/#([0-F])([0-F])([0-F])/gi.exec(i))&&(q=parseInt(f[1]+f[1],16),m=parseInt(f[2]+f[2],16),g=parseInt(f[3]+f[3],16)),q=q<0?0:q>255?255:q,m=m<0?0:m>255?255:m,g=g<0?0:g>255?255:g,r}var r=this,q=0,m=0,g=0;n&&v(n),r.toRgb=w,r.toHsv=j,r.toHex=t,r.parse=v}var a=Math.min,d=Math.max,b=Math.round;return c}),bD(af,[aE,ag,ax,cX],function(c,a,d,b){return c.extend({Defaults:{classes:"widget colorpicker"},init:function(f){this._super(f)},postRender:function(){function n(s,l){var p=d.getPos(s),f,u;return f=l.pageX-p.x,u=l.pageY-p.y,f=Math.max(0,Math.min(f/s.clientWidth,1)),u=Math.max(0,Math.min(u/s.clientHeight,1)),{x:f,y:u}}function k(o,l){var f=(360-o.h)/360;d.css(q,{top:100*f+"%"}),l||d.css(g,{left:o.s+"%",top:100-o.v+"%"}),m.style.background=new b({s:100,v:100,h:o.h}).toHex(),w.color().parse({s:o.s,v:o.v,h:o.h})}function h(e){var f;f=n(m,e),v.s=100*f.x,v.v=100*(1-f.y),k(v),w.fire("change")}function t(e){var f;f=n(r,e),v=j.toHsv(),v.h=360*(1-f.y),k(v,!0),w.fire("change")}var w=this,j=w.color(),v,r,q,m,g;r=w.getEl("h"),q=w.getEl("hp"),m=w.getEl("sv"),g=w.getEl("svp"),w._repaint=function(){v=j.toHsv(),k(v)},w._super(),w._svdraghelper=new a(w._id+"-sv",{start:h,drag:h}),w._hdraghelper=new a(w._id+"-h",{start:t,drag:t}),w._repaint()},rgb:function(){return this.color().toRgb()},value:function(g){var f=this;return arguments.length?(f.color().parse(g),void (f._rendered&&f._repaint())):f.color().toHex()},color:function(){return this._color||(this._color=new b),this._color},renderHtml:function(){function k(){var r,q,s="",p,o;for(p="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",o=l.split(","),r=0,q=o.length-1;r<q;r++){s+='<div class="'+j+'colorpicker-h-chunk" style="height:'+100/q+"%;"+p+o[r]+",endColorstr="+o[r+1]+");-ms-"+p+o[r]+",endColorstr="+o[r+1]+')"></div>'}return s}var h=this,m=h._id,j=h.classPrefix,g,l="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",f="background: -ms-linear-gradient(top,"+l+");background: linear-gradient(to bottom,"+l+");";return g='<div id="'+m+'-h" class="'+j+'colorpicker-h" style="'+f+'">'+k()+'<div id="'+m+'-hp" class="'+j+'colorpicker-h-marker"></div></div>','<div id="'+m+'" class="'+h.classes+'"><div id="'+m+'-sv" class="'+j+'colorpicker-sv"><div class="'+j+'colorpicker-overlay1"><div class="'+j+'colorpicker-overlay2"><div id="'+m+'-svp" class="'+j+'colorpicker-selector1"><div class="'+j+'colorpicker-selector2"></div></div></div></div></div>'+g+"</div>"}})}),bD(cO,[aE],function(a){return a.extend({init:function(c){var b=this;c.delimiter||(c.delimiter="\xbb"),b._super(c),b.classes.add("path"),b.canFocus=!0,b.on("click",function(f){var g,d=f.target;(g=d.getAttribute("data-index"))&&b.fire("select",{value:b.row()[g],index:g})}),b.row(b.settings.row)},focus:function(){var b=this;return b.getEl().firstChild.focus(),b},row:function(b){return arguments.length?(this.state.set("row",b),this):this.state.get("row")},renderHtml:function(){var b=this;return'<div id="'+b._id+'" class="'+b.classes+'">'+b._getDataPathHtml(b.state.get("row"))+"</div>"},bindStates:function(){var b=this;return b.state.on("change:row",function(c){b.innerHtml(b._getDataPathHtml(c.value))}),b._super()},_getDataPathHtml:function(g){var d=this,j=g||[],f,c,h="",b=d.classPrefix;for(f=0,c=j.length;f<c;f++){h+=(f>0?'<div class="'+b+'divider" aria-hidden="true"> '+d.settings.delimiter+" </div>":"")+'<div role="button" class="'+b+"path-item"+(f==c-1?" "+b+"last":"")+'" data-index="'+f+'" tabindex="-1" id="'+d._id+"-"+f+'" aria-level="'+(f+1)+'">'+j[f].name+"</div>"}return h||(h='<div class="'+b+'path-item">\xa0</div>'),h}})}),bD(ah,[cO],function(a){return a.extend({postRender:function(){function c(f){if(1===f.nodeType){if("BR"==f.nodeName||f.getAttribute("data-mce-bogus")){return !0}if("bookmark"===f.getAttribute("data-mce-type")){return !0}}return !1}var b=this,d=b.settings.editor;return d.settings.elementpath!==!1&&(b.on("select",function(f){d.focus(),d.selection.select(this.row()[f.index].element),d.nodeChanged()}),d.on("nodeChange",function(h){for(var f=[],j=h.parents,e=j.length;e--;){if(1==j[e].nodeType&&!c(j[e])){var g=d.fire("ResolveName",{name:j[e].nodeName.toLowerCase(),target:j[e]});if(g.isDefaultPrevented()||f.push({name:g.name,element:j[e]}),g.isPropagationStopped()){break}}}b.row(f)})),b._super()}})}),bD(aZ,[aX],function(a){return a.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.classes.add("formitem"),b.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+d+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></div>"}})}),bD(aP,[aX,aZ,bK],function(b,a,c){return b.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var f=this,d=f.items();f.settings.formItemDefaults||(f.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),d.each(function(g){var e,h=g.settings.label;h&&(e=new a(c.extend({items:{type:"label",id:g._id+"-l",text:h,flex:0,forId:g._id,disabled:g.disabled()}},f.settings.formItemDefaults)),e.type="formitem",g.aria("labelledby",g._id+"-l"),"undefined"==typeof g.settings.flex&&(g.settings.flex=1),f.replace(g,e),e.add(g))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var d=this;d._super(),d.fromJSON(d.settings.data)},bindStates:function(){function f(){var j=0,l=[],h,g,k;if(d.settings.labelGapCalc!==!1){for(k="children"==d.settings.labelGapCalc?d.find("formitem"):d.items(),k.filter("formitem").each(function(m){var n=m.items()[0],e=n.getEl().clientWidth;j=e>j?e:j,l.push(n)}),g=d.settings.labelGap||0,h=l.length;h--;){l[h].settings.minWidth=j+g}}}var d=this;d._super(),d.on("show",f),f()}})}),bD(ay,[aP],function(a){return a.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,b=c._layout,d=c.classPrefix;return c.preRender(),b.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+d+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+b.renderHtml(c)+"</div></fieldset>"}})}),bD(bd,[bx,bs,bR,az,bK,b1],function(T,F,L,I,P,K){var X=P.trim,G=function(d,b,f,c,a){return{type:d,title:b,url:f,level:c,attach:a}},O=function(b){for(;b=b.parentNode;){var a=b.contentEditable;if(a&&"inherit"!==a){return K.isContentEditableTrue(b)}}return !1},B=function(a,b){return T.DOM.select(a,b)},V=function(a){return a.innerText||a.textContent},U=function(a){return a.id?a.id:I.uuid("h")},S=function(a){return a&&"A"===a.nodeName&&(a.id||a.name)},J=function(a){return S(a)&&M(a)},Q=function(a){return a&&/^(H[1-6])$/.test(a.nodeName)},M=function(a){return O(a)&&!K.isContentEditableFalse(a)},R=function(a){return Q(a)&&M(a)},A=function(a){return Q(a)?parseInt(a.nodeName.substr(1),10):0},k=function(b){var a=U(b),c=function(){b.id=a};return G("header",V(b),"#"+a,A(b),c)},W=function(b){var c=b.id||b.name,a=V(b);return G("anchor",a?a:"#"+c,"#"+c,0,F.noop)},H=function(a){return L.map(L.filter(a,R),k)},q=function(a){return L.map(L.filter(a,J),W)},z=function(b){var a=B("h1,h2,h3,h4,h5,h6,a:not([href])",b);return a},D=function(a){return X(a.title).length>0},j=function(b){var a=z(b);return L.filter(H(a).concat(q(a)),D)};return{find:j}}),bD(a2,[ai,bK,bR,bs,cs,bd],function(J,w,C,z,F,B){var N={},x=5,E=function(a){return{title:a.title,value:{title:{raw:a.title},url:a.url,attach:a.attach}}},q=function(a){return w.map(a,E)},L=function(b,a){return{title:b,value:{title:b,url:a,attach:z.noop}}},K=function(c,a){var b=C.find(a,function(d){return d.url===c});return !b},I=function(c,a,d){var b=a in c?c[a]:d;return b===!1?null:b},A=function(n,d,b,t){var c={title:"-"},a=function(h){var g=C.filter(h[b],function(i){return K(i,d)});return w.map(g,function(i){return{title:i,value:{title:i,url:i,attach:z.noop}}})},f=function(h){var g=C.filter(d,function(e){return e.type==h});return q(g)},m=function(){var h=f("anchor"),g=I(t,"anchor_top","#top"),i=I(t,"anchor_bottom","#bottom");return null!==g&&h.unshift(L("<top>",g)),null!==i&&h.push(L("<bottom>",i)),h},r=function(g){return C.reduce(g,function(i,h){var l=0===i.length||0===h.length;return l?i.concat(h):i.concat(c,h)},[])};return t.typeahead_urls===!1?[]:"file"===b?r([D(n,a(N)),D(n,f("header")),D(n,m())]):D(n,a(N))},G=function(c,a){var b=N[a];/^https?/.test(c)&&(b?C.indexOf(b,c)===-1&&(N[a]=b.slice(0,x).concat(c)):N[a]=[c])},D=function(c,d){var b=c.toLowerCase(),a=w.grep(d,function(f){return f.title.toLowerCase().indexOf(b)!==-1});return 1===a.length&&a[0].title===c?[]:a},H=function(b){var a=b.title;return a.raw?a.raw:a},k=function(d,b,f,c){var a=function(g){var e=B.find(f),h=A(g,e,c,b);d.showAutoComplete(h,g)};d.on("autocomplete",function(){a(d.value())}),d.on("selectitem",function(g){var h=g.value;d.value(h.url);var e=H(h);"image"===c?d.fire("change",{meta:{alt:e,attach:h.attach}}):d.fire("change",{meta:{text:e,attach:h.attach}}),d.focus()}),d.on("click",function(e){0===d.value().length&&"INPUT"===e.target.nodeName&&a("")}),d.on("PostRender",function(){d.getRoot().on("submit",function(e){e.isDefaultPrevented()||G(d.value(),c)})})},j=function(b){var a=b.status,c=b.message;return"valid"===a?{status:"ok",message:c}:"unknown"===a?{status:"warn",message:c}:"invalid"===a?{status:"warn",message:c}:{status:"none",message:""}},M=function(d,b,f){var c=b.filepicker_validator_handler;if(c){var a=function(e){return 0===e.length?void d.statusLevel("none"):void c({url:e,type:f},function(g){var h=j(g);d.statusMessage(h.message),d.statusLevel(h.status)})};d.state.on("change:value",function(g){a(g.value)})}};return J.extend({init:function(h){var p=this,g=tinymce.activeEditor,d=g.settings,m,c,f,b=h.filetype;h.spellcheck=!1,f=d.file_picker_types||d.file_browser_callback_types,f&&(f=w.makeMap(f,/[, ]/)),f&&!f[b]||(c=d.file_picker_callback,!c||f&&!f[b]?(c=d.file_browser_callback,!c||f&&!f[b]||(m=function(){c(p.getEl("inp").id,p.value(),b,window)})):m=function(){var a=p.fire("beforecall").meta;a=w.extend({filetype:b},a),c.call(g,function(l,i){p.value(l).fire("change",{meta:i})},p.value(),a)}),m&&(h.icon="browse",h.onaction=m),p._super(h),k(p,d,g.getBody(),b),M(p,d,b)}})}),bD(aA,[cP],function(a){return a.extend({recalc:function(c){var b=c.layoutRect(),d=c.paddingBox;c.items().filter(":visible").each(function(f){f.layoutRect({x:d.left,y:d.top,w:b.innerW-d.right-d.left,h:b.innerH-d.top-d.bottom}),f.recalc&&f.recalc()})}})}),bD(aI,[cP],function(a){return a.extend({recalc:function(dl){var c8,dd,da,dh,dc,dq,c9,df,c7,dn,dm,dk,db,di,de,dj,c6=[],c3,dp,ce,c4,c5,be,X,dr,J,dg,G,K,c1,ct,bt,Z,Y,Q,V,an,ae,at,c2=Math.max,q=Math.min;for(da=dl.items().filter(":visible"),dh=dl.layoutRect(),dc=dl.paddingBox,dq=dl.settings,dk=dl.isRtl()?dq.direction||"row-reversed":dq.direction,c9=dq.align,df=dl.isRtl()?dq.pack||"end":dq.pack,c7=dq.spacing||0,"row-reversed"!=dk&&"column-reverse"!=dk||(da=da.set(da.toArray().reverse()),dk=dk.split("-")[0]),"column"==dk?(J="y",X="h",dr="minH",dg="maxH",K="innerH",G="top",c1="deltaH",ct="contentH",V="left",Y="w",bt="x",Z="innerW",Q="minW",an="right",ae="deltaW",at="contentW"):(J="x",X="w",dr="minW",dg="maxW",K="innerW",G="left",c1="deltaW",ct="contentW",V="top",Y="h",bt="y",Z="innerH",Q="minH",an="bottom",ae="deltaH",at="contentH"),dm=dh[K]-dc[G]-dc[G],be=dn=0,c8=0,dd=da.length;c8<dd;c8++){db=da[c8],di=db.layoutRect(),de=db.settings,dj=de.flex,dm-=c8<dd-1?c7:0,dj>0&&(dn+=dj,di[dg]&&c6.push(db),di.flex=dj),dm-=di[dr],c3=dc[V]+di[Q]+dc[an],c3>be&&(be=c3)}if(c4={},dm<0?c4[dr]=dh[dr]-dm+dh[c1]:c4[dr]=dh[K]-dm+dh[c1],c4[Q]=be+dh[ae],c4[ct]=dh[K]-dm,c4[at]=be,c4.minW=q(c4.minW,dh.maxW),c4.minH=q(c4.minH,dh.maxH),c4.minW=c2(c4.minW,dh.startMinWidth),c4.minH=c2(c4.minH,dh.startMinHeight),!dh.autoResize||c4.minW==dh.minW&&c4.minH==dh.minH){for(ce=dm/dn,c8=0,dd=c6.length;c8<dd;c8++){db=c6[c8],di=db.layoutRect(),dp=di[dg],c3=di[dr]+di.flex*ce,c3>dp?(dm-=di[dg]-di[dr],dn-=di.flex,di.flex=0,di.maxFlexSize=dp):di.maxFlexSize=0}for(ce=dm/dn,c5=dc[G],c4={},0===dn&&("end"==df?c5=dm+dc[G]:"center"==df?(c5=Math.round(dh[K]/2-(dh[K]-dm)/2)+dc[G],c5<0&&(c5=dc[G])):"justify"==df&&(c5=dc[G],c7=Math.floor(dm/(da.length-1)))),c4[bt]=dc[V],c8=0,dd=da.length;c8<dd;c8++){db=da[c8],di=db.layoutRect(),c3=di.maxFlexSize||di[dr],"center"===c9?c4[bt]=Math.round(dh[Z]/2-di[Y]/2):"stretch"===c9?(c4[Y]=c2(di[Q]||0,dh[Z]-dc[V]-dc[an]),c4[bt]=dc[V]):"end"===c9&&(c4[bt]=dh[Z]-di[Y]-dc.top),di.flex>0&&(c3+=di.flex*ce),c4[X]=c3,c4[J]=c5,db.layoutRect(c4),db.recalc&&db.recalc(),c5+=c3+c7}}else{if(c4.w=c4.minW,c4.h=c4.minH,dl.layoutRect(c4),this.recalc(dl),null===dl._lastRect){var j=dl.parent();j&&(j._lastRect=null,j.recalc())}}}})}),bD(cL,[ar],function(a){return a.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(b){b.items().filter(":visible").each(function(c){c.recalc&&c.recalc()})},isNative:function(){return !0}})}),bD(cg,[bx],function(g){var j=function(i,a,k){for(;k!==a;){if(k.style[i]){return k.style[i]}k=k.parentNode}return""},f=function(a){return/[0-9.]+px$/.test(a)?Math.round(72*parseInt(a,10)/96)+"pt":a},c=function(a){return a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},h=function(a,e){return g.DOM.getStyle(e,a,!0)},b=function(k,a){var i=j("fontSize",k,a);return""!==i?i:h("fontSize",a)},d=function(m,l){var i=j("fontFamily",m,l),k=""!==i?i:h("fontFamily",l);return k!==bB?c(k):""};return{getFontSize:b,getFontFamily:d,toPt:f}}),bD(ad,[ac,aE,a4,bK,bR,bx,aB,bW,cg],function(v,A,j,b,m,h,y,B,k){function z(a){a.settings.ui_container&&(B.container=h.DOM.select(a.settings.ui_container)[0])}function x(a){a.on("ScriptsLoaded",function(){a.rtl&&(v.rtl=!0)})}function w(E){function N(a,c){return function(){var d=this;E.on("nodeChange",function(s){var t=E.formatter,e=null;q(s.parents,function(i){if(q(a,function(o){if(c?t.matchNode(i,c,{value:o.value})&&(e=o.value):t.matchNode(i,o.value)&&(e=o.value),e){return !1}}),e){return !1}}),d.value(e)})}}function p(a){return function(){var d=this,c=function(i){return i?i.split(",")[0]:""};E.on("nodeChange",function(s){var t,e=null;t=k.getFontFamily(E.getBody(),s.element),q(a,function(i){i.value.toLowerCase()===t.toLowerCase()&&(e=i.value)}),q(a,function(i){e||c(i.value).toLowerCase()!==c(t).toLowerCase()||(e=i.value)}),d.value(e),!e&&t&&d.text(c(t))})}}function l(a){return function(){var c=this;E.on("nodeChange",function(s){var e,t,d=null;e=k.getFontSize(E.getBody(),s.element),t=k.toPt(e),q(a,function(i){i.value===e?d=e:i.value===t&&(d=t)}),c.value(d),d||c.text(t)})}}function K(c){c=c.replace(/;$/,"").split(";");for(var a=c.length;a--;){c[a]=c[a].split("=")}return c}function O(){function c(i){var o=[];if(i){return q(i,function(u){var C={text:u.title,icon:u.icon};if(u.items){C.menu=c(u.items)}else{var t=u.format||"custom"+d++;u.format||(u.name=t,a.push(u)),C.format=t,C.cmd=u.cmd}o.push(C)}),o}}function s(){var i;return i=c(E.settings.style_formats_merge?E.settings.style_formats?e.concat(E.settings.style_formats):e:E.settings.style_formats||e)}var d=0,a=[],e=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return E.on("init",function(){q(a,function(i){E.formatter.register(i.name,i)})}),{type:"menu",items:s(),onPostRender:function(i){E.fire("renderFormatsMenu",{control:i.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format){return E.formatter.getCssText(this.settings.format)}},onPostRender:function(){var i=this;i.parent().on("show",function(){var t,o;t=i.settings.format,t&&(i.disabled(!E.formatter.canApply(t)),i.active(E.formatter.match(t))),o=i.settings.cmd,o&&i.active(E.queryCommandState(o))})},onclick:function(){this.settings.format&&r(this.settings.format),this.settings.cmd&&E.execCommand(this.settings.cmd)}}}}function M(a){return function(){var c=this;E.formatter?E.formatter.formatChanged(a,function(d){c.active(d)}):E.on("init",function(){E.formatter.formatChanged(a,function(d){c.active(d)})})}}function G(a){return function(){function d(){var e="redo"==a?"hasRedo":"hasUndo";return !!E.undoManager&&E.undoManager[e]()}var c=this;c.disabled(!d()),E.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){c.disabled(E.readonly||!d())})}}function F(){var a=this;E.on("VisualAid",function(c){a.active(c.hasVisual)}),a.active(E.hasVisual)}function r(a){a.control&&(a=a.control.value()),a&&E.execCommand("mceToggleFormat",!1,a)}function n(a){var c=a.length;return b.each(a,function(d){d.menu&&(d.hidden=0===n(d.menu));var e=d.format;e&&(d.hidden=!E.formatter.canApply(e)),d.hidden&&c--}),c}function D(a){var c=a.items().length;return a.items().each(function(d){d.menu&&d.visible(D(d.menu)>0),!d.menu&&d.settings.menu&&d.visible(n(d.settings.menu)>0);var e=d.settings.format;e&&d.visible(E.formatter.canApply(e)),d.visible()||c--}),c}var L;L=O(),q({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(a,c){E.addButton(c,{tooltip:a,onPostRender:M(c),onclick:function(){r(c)}})}),q({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(a,c){E.addButton(c,{tooltip:a[0],cmd:a[1]})}),q({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(a,c){E.addButton(c,{tooltip:a[0],cmd:a[1],onPostRender:M(c)})});var I=function(c){var a=c;return a.length>0&&"-"===a[0].text&&(a=a.slice(1)),a.length>0&&"-"===a[a.length-1].text&&(a=a.slice(0,a.length-1)),a},H=function(c){var d,a;if("string"==typeof c){a=c.split(" ")}else{if(b.isArray(c)){return g(b.map(c,H))}}return d=b.grep(a,function(e){return"|"===e||e in E.menuItems}),b.map(d,function(e){return"|"===e?{text:"-"}:E.menuItems[e]})},f=function(c){var d=[{text:"-"}],a=b.grep(E.menuItems,function(i){return i.context===c});return b.each(a,function(i){"before"==i.separator&&d.push({text:"|"}),i.prependToContext?d.unshift(i):d.push(i),"after"==i.separator&&d.push({text:"|"})}),d},J=function(a){return I(a.insert_button_items?H(a.insert_button_items):f("insert"))};E.addButton("undo",{tooltip:"Undo",onPostRender:G("undo"),cmd:"undo"}),E.addButton("redo",{tooltip:"Redo",onPostRender:G("redo"),cmd:"redo"}),E.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),E.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:G("undo"),cmd:"undo"}),E.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:G("redo"),cmd:"redo"}),E.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:F,cmd:"mceToggleVisualAid"}),E.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),E.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(J(E.settings)),this.menu.renderNew()}}),q({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(a,c){E.addMenuItem(c,{text:a[0],icon:c,shortcut:a[2],cmd:a[1]})}),E.on("mousedown",function(){j.hideAll()}),E.addButton("styleselect",{type:"menubutton",text:"Formats",menu:L,onShowMenu:function(){E.settings.style_formats_autohide&&D(this.menu)}}),E.addButton("formatselect",function(){var c=[],a=K(E.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return q(a,function(d){c.push({text:d[0],value:d[1],textStyle:function(){return E.formatter.getCssText(d[1])}})}),{type:"listbox",text:a[0][0],values:c,fixedWidth:!0,onselect:r,onPostRender:N(c)}}),E.addButton("fontselect",function(){var a="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",d=[],c=K(E.settings.font_formats||a);return q(c,function(i){d.push({text:{raw:i[0]},value:i[1],textStyle:i[1].indexOf("dings")==-1?"font-family:"+i[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:d,fixedWidth:!0,onPostRender:p(d),onselect:function(e){e.control.settings.value&&E.execCommand("FontName",!1,e.control.settings.value)}}}),E.addButton("fontsizeselect",function(){var a=[],d="8pt 10pt 12pt 14pt 18pt 24pt 36pt",c=E.settings.fontsize_formats||d;return q(c.split(" "),function(t){var u=t,s=t,o=t.split("=");o.length>1&&(u=o[0],s=o[1]),a.push({text:u,value:s})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:a,fixedWidth:!0,onPostRender:l(a),onclick:function(e){e.control.settings.value&&E.execCommand("FontSize",!1,e.control.settings.value)}}}),E.addMenuItem("formats",{text:"Formats",menu:L})}var q=b.each,g=function(a){return m.reduce(a,function(d,c){return d.concat(c)},[])};y.on("AddEditor",function(c){var a=c.editor;x(a),w(a),z(a)}),v.translate=function(a){return y.translate(a)},A.tooltips=!B.iOS}),bD(cz,[cP],function(a){return a.extend({recalc:function(c9){var at,c1,bt,c5,ct,dd,be,c3,an,db,da,c8,ce,c6,c2,c7,ae,X,dc,U,Y,Z,K,H=[],de=[],q,c4,j,z,W,V;at=c9.settings,c5=c9.items().filter(":visible"),ct=c9.layoutRect(),bt=at.columns||Math.ceil(Math.sqrt(c5.length)),c1=Math.ceil(c5.length/bt),X=at.spacingH||at.spacing||0,dc=at.spacingV||at.spacing||0,U=at.alignH||at.align,Y=at.alignV||at.align,c7=c9.paddingBox,W="reverseRows" in at?at.reverseRows:c9.isRtl(),U&&"string"==typeof U&&(U=[U]),Y&&"string"==typeof Y&&(Y=[Y]);for(da=0;da<bt;da++){H.push(0)}for(c8=0;c8<c1;c8++){de.push(0)}for(c8=0;c8<c1;c8++){for(da=0;da<bt&&(db=c5[c8*bt+da],db);da++){an=db.layoutRect(),q=an.minW,c4=an.minH,H[da]=q>H[da]?q:H[da],de[c8]=c4>de[c8]?c4:de[c8]}}for(j=ct.innerW-c7.left-c7.right,Z=0,da=0;da<bt;da++){Z+=H[da]+(da>0?X:0),j-=(da>0?X:0)+H[da]}for(z=ct.innerH-c7.top-c7.bottom,K=0,c8=0;c8<c1;c8++){K+=de[c8]+(c8>0?dc:0),z-=(c8>0?dc:0)+de[c8]}if(Z+=c7.left+c7.right,K+=c7.top+c7.bottom,c3={},c3.minW=Z+(ct.w-ct.innerW),c3.minH=K+(ct.h-ct.innerH),c3.contentW=c3.minW-ct.deltaW,c3.contentH=c3.minH-ct.deltaH,c3.minW=Math.min(c3.minW,ct.maxW),c3.minH=Math.min(c3.minH,ct.maxH),c3.minW=Math.max(c3.minW,ct.startMinWidth),c3.minH=Math.max(c3.minH,ct.startMinHeight),!ct.autoResize||c3.minW==ct.minW&&c3.minH==ct.minH){ct.autoResize&&(c3=c9.layoutRect(c3),c3.contentW=c3.minW-ct.deltaW,c3.contentH=c3.minH-ct.deltaH);var Q;Q="start"==at.packV?0:z>0?Math.floor(z/c1):0;var J=0,I=at.flexWidths;if(I){for(da=0;da<I.length;da++){J+=I[da]}}else{J=bt}var F=j/J;for(da=0;da<bt;da++){H[da]+=I?I[da]*F:F}for(c6=c7.top,c8=0;c8<c1;c8++){for(ce=c7.left,be=de[c8]+Q,da=0;da<bt&&(V=W?c8*bt+bt-1-da:c8*bt+da,db=c5[V],db);da++){c2=db.settings,an=db.layoutRect(),dd=Math.max(H[da],an.startMinWidth),an.x=ce,an.y=c6,ae=c2.alignH||(U?U[da]||U[0]:null),"center"==ae?an.x=ce+dd/2-an.w/2:"right"==ae?an.x=ce+dd-an.w:"stretch"==ae&&(an.w=dd),ae=c2.alignV||(Y?Y[da]||Y[0]:null),"center"==ae?an.y=c6+be/2-an.h/2:"bottom"==ae?an.y=c6+be-an.h:"stretch"==ae&&(an.h=be),db.layoutRect(an),ce+=dd+X,db.recalc&&db.recalc()}c6+=be+dc}}else{if(c3.w=c3.minW,c3.h=c3.minH,c9.layoutRect(c3),this.recalc(c9),null===c9._lastRect){var G=c9.parent();G&&(G._lastRect=null,G.recalc())}}}})}),bD(cw,[aE,bX],function(b,a){return b.extend({renderHtml:function(){var c=this;return c.classes.add("iframe"),c.canFocus=!1,'<iframe id="'+c._id+'" class="'+c.classes+'" tabindex="-1" src="'+(c.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(c){this.getEl().src=c},html:function(f,g){var d=this,c=this.getEl().contentWindow.document.body;return c?(c.innerHTML=f,g&&g()):a.setTimeout(function(){d.html(f)}),this}})}),bD(bp,[aE],function(a){return a.extend({init:function(c){var b=this;b._super(c),b.classes.add("widget").add("infobox"),b.canFocus=!1},severity:function(b){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(b)},help:function(b){this.state.set("help",b)},renderHtml:function(){var c=this,b=c.classPrefix;return'<div id="'+c._id+'" class="'+c.classes+'"><div id="'+c._id+'-body">'+c.encode(c.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+b+"ico "+b+'i-help"></i></button></div></div>'},bindStates:function(){var b=this;return b.state.on("change:text",function(c){b.getEl("body").firstChild.data=b.encode(c.value),b.state.get("rendered")&&b.updateLayoutRect()}),b.state.on("change:help",function(c){b.classes.toggle("has-help",c.value),b.state.get("rendered")&&b.updateLayoutRect()}),b._super()}})}),bD(bU,[aE,ax],function(b,a){return b.extend({init:function(d){var c=this;c._super(d),c.classes.add("widget").add("label"),c.canFocus=!1,d.multiline&&c.classes.add("autoscroll"),d.strong&&c.classes.add("strong")},initLayoutRect:function(){var d=this,f=d._super();if(d.settings.multiline){var c=a.getSize(d.getEl());c.width>f.maxW&&(f.minW=f.maxW,d.classes.add("multiline")),d.getEl().style.width=f.minW+"px",f.startMinH=f.h=f.minH=Math.min(f.maxH,a.getSize(d.getEl()).height)}return f},repaint:function(){var c=this;return c.settings.multiline||(c.getEl().style.lineHeight=c.layoutRect().h+"px"),c._super()},severity:function(c){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(c)},renderHtml:function(){var f=this,c,g,d=f.settings.forId;return !d&&(g=f.settings.forName)&&(c=f.getRoot().find("#"+g)[0],c&&(d=c._id)),d?'<label id="'+f._id+'" class="'+f.classes+'"'+(d?' for="'+d+'"':"")+">"+f.encode(f.state.get("text"))+"</label>":'<span id="'+f._id+'" class="'+f.classes+'">'+f.encode(f.state.get("text"))+"</span>"},bindStates:function(){var c=this;return c.state.on("change:text",function(d){c.innerHtml(c.encode(d.value)),c.state.get("rendered")&&c.updateLayoutRect()}),c._super()}})}),bD(cc,[aX],function(a){return a.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(c){var b=this;b._super(c),b.classes.add("toolbar")},postRender:function(){var b=this;return b.items().each(function(c){c.classes.add("toolbar-item")}),b._super()}})}),bD(bf,[cc],function(a){return a.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),bD(ap,[b4,am,bf],function(d,b,f){function c(h,g){for(;h;){if(g===h){return !0}h=h.parentNode}return !1}var a=d.extend({init:function(h){var g=this;g._renderOpen=!0,g._super(h),h=g.settings,g.classes.add("menubtn"),h.fixedWidth&&g.classes.add("fixed-width"),g.aria("haspopup",!0),g.state.set("menu",h.menu||g.render())},showMenu:function(h){var i=this,g;return i.menu&&i.menu.visible()&&h!==!1?i.hideMenu():(i.menu||(g=i.state.get("menu")||[],g.length?g={type:"menu",items:g}:g.type=g.type||"menu",g.renderTo?i.menu=g.parent(i).show().renderTo():i.menu=b.create(g).parent(i).renderTo(),i.fire("createmenu"),i.menu.reflow(),i.menu.on("cancel",function(j){j.control.parent()===i.menu&&(j.stopPropagation(),i.focus(),i.hideMenu())}),i.menu.on("select",function(){i.focus()}),i.menu.on("show hide",function(j){j.control==i.menu&&i.activeMenu("show"==j.type),i.aria("expanded","show"==j.type)}).fire("show")),i.menu.show(),i.menu.layoutRect({w:i.layoutRect().w}),i.menu.moveRel(i.getEl(),i.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),void i.fire("showmenu"))},hideMenu:function(){var g=this;g.menu&&(g.menu.items().each(function(h){h.hideMenu&&h.hideMenu()}),g.menu.hide())},activeMenu:function(g){this.classes.toggle("active",g)},renderHtml:function(){var m=this,j=m._id,l=m.classPrefix,h=m.settings.icon,n,g=m.state.get("text"),k="";return n=m.settings.image,n?(h="none","string"!=typeof n&&(n=window.getSelection?n[0]:n[1]),n=" style=\"background-image: url('"+n+"')\""):n="",g&&(m.classes.add("btn-has-text"),k='<span class="'+l+'txt">'+m.encode(g)+"</span>"),h=m.settings.icon?l+"ico "+l+"i-"+h:"",m.aria("role",m.parent() instanceof f?"menuitem":"button"),'<div id="'+j+'" class="'+m.classes+'" tabindex="-1" aria-labelledby="'+j+'"><button id="'+j+'-open" role="presentation" type="button" tabindex="-1">'+(h?'<i class="'+h+'"'+n+"></i>":"")+k+' <i class="'+l+'caret"></i></button></div>'},postRender:function(){var g=this;return g.on("click",function(e){e.control===g&&c(e.target,g.getEl())&&(g.focus(),g.showMenu(!e.aria),e.aria&&g.menu.items().filter(":visible")[0].focus())}),g.on("mouseenter",function(e){var j=e.control,h=g.parent(),i;j&&h&&j instanceof a&&j.parent()==h&&(h.items().filter("MenuButton").each(function(k){k.hideMenu&&k!=j&&(k.menu&&k.menu.visible()&&(i=!0),k.hideMenu())}),i&&(j.focus(),j.showMenu()))}),g._super()},bindStates:function(){var g=this;return g.state.on("change:menu",function(){g.menu&&g.menu.remove(),g.menu=null}),g._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),bD(a7,[aE,am,bW,bX],function(c,a,d,b){return c.extend({Defaults:{border:0,role:"menuitem"},init:function(g){var f=this,h;f._super(g),g=f.settings,f.classes.add("menu-item"),g.menu&&f.classes.add("menu-item-expand"),g.preview&&f.classes.add("menu-item-preview"),h=f.state.get("text"),"-"!==h&&"|"!==h||(f.classes.add("menu-item-sep"),f.aria("role","separator"),f.state.set("text","-")),g.selectable&&(f.aria("role","menuitemcheckbox"),f.classes.add("menu-item-checkbox"),g.icon="selected"),g.preview||g.selectable||f.classes.add("menu-item-normal"),f.on("mousedown",function(i){i.preventDefault()}),g.menu&&!g.ariaHideMenu&&f.aria("haspopup",!0)},hasMenus:function(){return !!this.settings.menu},showMenu:function(){var h=this,k=h.settings,g,f=h.parent();if(f.items().each(function(e){e!==h&&e.hideMenu()}),k.menu){g=h.menu,g?g.show():(g=k.menu,g.length?g={type:"menu",items:g}:g.type=g.type||"menu",f.settings.itemDefaults&&(g.itemDefaults=f.settings.itemDefaults),g=h.menu=a.create(g).parent(h).renderTo(),g.reflow(),g.on("cancel",function(e){e.stopPropagation(),h.focus(),g.hide()}),g.on("show hide",function(i){i.control.items&&i.control.items().each(function(l){l.active(l.settings.selected)})}).fire("show"),g.on("hide",function(e){e.control===g&&h.classes.remove("selected")}),g.submenu=!0),g._parentMenu=f,g.classes.add("menu-sub");var j=g.testMoveRel(h.getEl(),h.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);g.moveRel(h.getEl(),j),g.rel=j,j="menu-sub-"+j,g.classes.remove(g._lastRel).add(j),g._lastRel=j,h.classes.add("selected"),h.aria("expanded",!0)}},hideMenu:function(){var f=this;return f.menu&&(f.menu.items().each(function(g){g.hideMenu&&g.hideMenu()}),f.menu.hide(),f.aria("expanded",!1)),f},renderHtml:function(){function w(o){var h,l,f={};for(f=d.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},o=o.split("+"),h=0;h<o.length;h++){l=f[o[h].toLowerCase()],l&&(o[h]=l)}return o.join("+")}function B(f){return f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(f){var h=C.match||"";return h?f.replace(new RegExp(B(h),"gi"),function(i){return"!mce~match["+i+"]mce~match!"}):f}function n(f){return f.replace(new RegExp(B("!mce~match["),"g"),"<b>").replace(new RegExp(B("]mce~match!"),"g"),"</b>")}var k=this,z=k._id,C=k.settings,m=k.classPrefix,A=k.state.get("text"),y=k.settings.icon,x="",v=C.shortcut,j=k.encode(C.url),q="";return y&&k.parent().classes.add("menu-has-icons"),C.image&&(x=" style=\"background-image: url('"+C.image+"')\""),v&&(v=w(v)),y=m+"ico "+m+"i-"+(k.settings.icon||"none"),q="-"!==A?'<i class="'+y+'"'+x+"></i>\xa0":"",A=n(k.encode(g(A))),j=n(k.encode(g(j))),'<div id="'+z+'" class="'+k.classes+'" tabindex="-1">'+q+("-"!==A?'<span id="'+z+'-text" class="'+m+'text">'+A+"</span>":"")+(v?'<div id="'+z+'-shortcut" class="'+m+'menu-shortcut">'+v+"</div>":"")+(C.menu?'<div class="'+m+'caret"></div>':"")+(j?'<div class="'+m+'menu-item-link">'+j+"</div>":"")+"</div>"},postRender:function(){var h=this,g=h.settings,j=g.textStyle;if("function"==typeof j&&(j=j.call(this)),j){var f=h.getEl("text");f&&f.setAttribute("style",j)}return h.on("mouseenter click",function(e){e.control===h&&(g.menu||"click"!==e.type?(h.showMenu(),e.aria&&h.menu.focus(!0)):(h.fire("select"),b.requestAnimationFrame(function(){h.parent().hideAll()})))}),h._super(),h},hover:function(){var f=this;return f.parent().items().each(function(g){g.classes.remove("selected")}),f.classes.toggle("selected",!0),f},active:function(f){return"undefined"!=typeof f&&this.aria("checked",f),this._super(f)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),bD(bh,[bS,ac,bX],function(b,a,c){return function(h,f){var j=this,e,g=a.classPrefix,d;j.show=function(k,i){function l(){e&&(b(h).append('<div class="'+g+"throbber"+(f?" "+g+"throbber-inline":"")+'"></div>'),i&&i())}return j.hide(),e=!0,k?d=c.setTimeout(l,k):l(),j},j.hide=function(){var i=h.lastChild;return c.clearTimeout(d),i&&i.className.indexOf("throbber")!=-1&&i.parentNode.removeChild(i),e=!1,j}}}),bD(bm,[a4,a7,bh,bK],function(c,a,d,b){return c.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(h){var g=this;if(h.autohide=!0,h.constrainToViewport=!0,"function"==typeof h.items&&(h.itemsFactory=h.items,h.items=[]),h.itemDefaults){for(var j=h.items,f=j.length;f--;){j[f]=b.extend({},h.itemDefaults,j[f])}}g._super(h),g.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var f=this;f.hideAll(),f.fire("select")},load:function(){function j(){g.throbber&&(g.throbber.hide(),g.throbber=null)}var g=this,h,f;f=g.settings.itemsFactory,f&&(g.throbber||(g.throbber=new d(g.getEl("body"),!0),0===g.items().length?(g.throbber.show(),g.fire("loading")):g.throbber.show(100,function(){g.items().remove(),g.fire("loading")}),g.on("hide close",j)),g.requestTime=h=(new Date).getTime(),g.settings.itemsFactory(function(e){return 0===e.length?void g.hide():void (g.requestTime===h&&(g.getEl().style.width="",g.getEl("body").style.width="",j(),g.items().remove(),g.getEl("body").innerHTML="",g.add(e),g.renderNew(),g.fire("loaded")))}))},hideAll:function(){var f=this;return this.find("menuitem").exec("hideMenu"),f._super()},preRender:function(){var f=this;return f.items().each(function(e){var g=e.settings;if(g.icon||g.image||g.selectable){return f._hasIcons=!0,!1}}),f.settings.itemsFactory&&f.on("postrender",function(){f.settings.itemsFactory&&f.load()}),f._super()}})}),bD(cV,[ap,bm],function(b,a){return b.extend({init:function(h){function f(i){for(var e=0;e<i.length;e++){if(d=i[e].selected||h.value===i[e].value){return j=j||i[e].text,k.state.set("value",i[e].value),!0}if(i[e].menu&&f(i[e].menu)){return !0}}}var k=this,g,d,j,c;k._super(h),h=k.settings,k._values=g=h.values,g&&("undefined"!=typeof h.value&&f(g),!d&&g.length>0&&(j=g[0].text,k.state.set("value",g[0].value)),k.state.set("menu",g)),k.state.set("text",h.text||j),k.classes.add("listbox"),k.on("select",function(e){var i=e.control;c&&(e.lastControl=c),h.multiple?i.active(!i.active()):k.value(e.control.value()),c=i})},bindStates:function(){function d(g,h){g instanceof a&&g.items().each(function(i){i.hasMenus()||i.active(i.value()===h)})}function f(k,h){var j;if(k){for(var g=0;g<k.length;g++){if(k[g].value===h){return k[g]}if(k[g].menu&&(j=f(k[g].menu,h))){return j}}}}var c=this;return c.on("show",function(e){d(e.control,c.value())}),c.state.on("change:value",function(h){var g=f(c.state.get("menu"),h.value);g?c.text(g.text):c.text(c.settings.text)}),c._super()}})}),bD(bF,[cY],function(a){return a.extend({Defaults:{classes:"radio",role:"radio"}})}),bD(aq,[aE,ag],function(b,a){return b.extend({renderHtml:function(){var d=this,c=d.classPrefix;return d.classes.add("resizehandle"),"both"==d.settings.direction&&d.classes.add("resizehandle-both"),d.canFocus=!1,'<div id="'+d._id+'" class="'+d.classes+'"><i class="'+c+"ico "+c+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new a(this._id,{start:function(){c.fire("ResizeStart")},drag:function(d){"both"!=c.settings.direction&&(d.deltaX=0),c.fire("Resize",d)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),bD(aW,[aE],function(b){function a(d){var c="";if(d){for(var f=0;f<d.length;f++){c+='<option value="'+d[f]+'">'+d[f]+"</option>"}}return c}return b.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(d){var c=this;c._super(d),c.settings.size&&(c.size=c.settings.size),c.settings.options&&(c._options=c.settings.options),c.on("keydown",function(f){var g;13==f.keyCode&&(f.preventDefault(),c.parents().reverse().each(function(h){if(h.toJSON){return g=h,!1}}),c.fire("submit",{data:g.toJSON()}))})},options:function(c){return arguments.length?(this.state.set("options",c),this):this.state.get("options")},renderHtml:function(){var d=this,f,c="";return f=a(d._options),d.size&&(c=' size = "'+d.size+'"'),'<select id="'+d._id+'" class="'+d.classes+'"'+c+">"+f+"</select>"},bindStates:function(){var c=this;return c.state.on("change:options",function(d){c.getEl().innerHTML=a(d.value)}),c._super()}})}),bD(bc,[aE,ag,ax],function(d,b,g){function c(i,h,j){return i<h&&(i=h),i>j&&(i=j),i}function a(i,h,j){i.setAttribute("aria-"+h,j)}function f(p,k){var n,q,i,m,h,j;"v"==p.settings.orientation?(m="top",i="height",q="h"):(m="left",i="width",q="w"),j=p.getEl("handle"),n=(p.layoutRect()[q]||100)-g.getSize(j)[i],h=n*((k-p._minValue)/(p._maxValue-p._minValue))+"px",j.style[m]=h,j.style.height=p.layoutRect().h+"px",a(j,"valuenow",k),a(j,"valuetext",""+p.settings.previewFilter(k)),a(j,"valuemin",p._minValue),a(j,"valuemax",p._maxValue)}return d.extend({init:function(i){var h=this;i.previewFilter||(i.previewFilter=function(j){return Math.round(100*j)/100}),h._super(i),h.classes.add("slider"),"v"==i.orientation&&h.classes.add("vertical"),h._minValue=i.minValue||0,h._maxValue=i.maxValue||100,h._initValue=h.state.get("value")},renderHtml:function(){var i=this,h=i._id,j=i.classPrefix;return'<div id="'+h+'" class="'+i.classes+'"><div id="'+h+'-handle" class="'+j+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function q(l,i,o){return(o+l)/(i-l)}function m(l,i,o){return o*(i-l)-l}function j(e,l){function i(s){var p;p=x.value(),p=m(e,l,q(e,l,p)+0.05*s),p=c(p,e,l),x.value(p),x.fire("dragstart",{value:p}),x.fire("drag",{value:p}),x.fire("dragend",{value:p})}x.on("keydown",function(o){switch(o.keyCode){case 37:case 38:i(-1);break;case 39:case 40:i(1)}})}function v(C,A,D){var y,s,z,B,p;x._dragHelper=new b(x._id,{handle:x._id+"-handle",start:function(i){y=i[t],s=parseInt(x.getEl("handle").style[r],10),z=(x.layoutRect()[h]||100)-g.getSize(D)[n],x.fire("dragstart",{value:p})},drag:function(e){var i=e[t]-y;B=c(s+i,0,z),D.style[r]=B+"px",p=C+B/z*(A-C),x.value(p),x.tooltip().text(""+x.settings.previewFilter(p)).show().moveRel(D,"bc tc"),x.fire("drag",{value:p})},stop:function(){x.tooltip().hide(),x.fire("dragend",{value:p})}})}var x=this,k,w,t,r,n,h;k=x._minValue,w=x._maxValue,"v"==x.settings.orientation?(t="screenY",r="top",n="height",h="h"):(t="screenX",r="left",n="width",h="w"),x._super(),j(k,w,x.getEl("handle")),v(k,w,x.getEl("handle"))},repaint:function(){this._super(),f(this,this.value())},bindStates:function(){var h=this;return h.state.on("change:value",function(e){f(h,e.value)}),h._super()}})}),bD(aM,[aE],function(a){return a.extend({renderHtml:function(){var b=this;return b.classes.add("spacer"),b.canFocus=!1,'<div id="'+b._id+'" class="'+b.classes+'"></div>'}})}),bD(cr,[ap,ax,bS],function(b,a,c){return b.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var h=this,g=h.getEl(),f=h.layoutRect(),j,d;return h._super(),j=g.firstChild,d=g.lastChild,c(j).css({width:f.w-a.getSize(d).width,height:f.h-2}),c(d).css({height:f.h-2}),h},activeMenu:function(f){var d=this;c(d.getEl().lastChild).toggleClass(d.classPrefix+"active",f)},renderHtml:function(){var j=this,g=j._id,l=j.classPrefix,h,f=j.state.get("icon"),k=j.state.get("text"),d="";return h=j.settings.image,h?(f="none","string"!=typeof h&&(h=window.getSelection?h[0]:h[1]),h=" style=\"background-image: url('"+h+"')\""):h="",f=j.settings.icon?l+"ico "+l+"i-"+f:"",k&&(j.classes.add("btn-has-text"),d='<span class="'+l+'txt">'+j.encode(k)+"</span>"),'<div id="'+g+'" class="'+j.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(f?'<i class="'+f+'"'+h+"></i>":"")+d+'</button><button type="button" class="'+l+'open" hidefocus="1" tabindex="-1">'+(j._menuBtnText?(f?"\xa0":"")+j._menuBtnText:"")+' <i class="'+l+'caret"></i></button></div>'},postRender:function(){var f=this,d=f.settings.onclick;return f.on("click",function(g){var h=g.target;if(g.control==this){for(;h;){if(g.aria&&"down"!=g.aria.key||"BUTTON"==h.nodeName&&h.className.indexOf("open")==-1){return g.stopImmediatePropagation(),void (d&&d.call(this,g))}h=h.parentNode}}}),delete f.settings.onclick,f._super()}})}),bD(a6,[cL],function(a){return a.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return !0}})}),bD(bQ,[ak,bS,ax],function(b,a,c){return b.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(d){var f;this.activeTabId&&(f=this.getEl(this.activeTabId),a(f).removeClass(this.classPrefix+"active"),f.setAttribute("aria-selected","false")),this.activeTabId="t"+d,f=this.getEl("t"+d),f.setAttribute("aria-selected","true"),a(f).addClass(this.classPrefix+"active"),this.items()[d].show().fire("showtab"),this.reflow(),this.items().each(function(e,g){d!=g&&e.hide()})},renderHtml:function(){var g=this,d=g._layout,h="",f=g.classPrefix;return g.preRender(),d.preRender(g),g.items().each(function(j,e){var k=g._id+"-t"+e;j.aria("role","tabpanel"),j.aria("labelledby",k),h+='<div id="'+k+'" class="'+f+'tab" unselectable="on" role="tab" aria-controls="'+j._id+'" aria-selected="false" tabIndex="-1">'+g.encode(j.settings.title)+"</div>"}),'<div id="'+g._id+'" class="'+g.classes+'" hidefocus="1" tabindex="-1"><div id="'+g._id+'-head" class="'+f+'tabs" role="tablist">'+h+'</div><div id="'+g._id+'-body" class="'+g.bodyClasses+'">'+d.renderHtml(g)+"</div></div>"},postRender:function(){var d=this;d._super(),d.settings.activeTab=d.settings.activeTab||0,d.activateTab(d.settings.activeTab),this.on("click",function(e){var g=e.target.parentNode;if(g&&g.id==d._id+"-head"){for(var f=g.childNodes.length;f--;){g.childNodes[f]==e.target&&d.activateTab(f)}}})},initLayoutRect:function(){var h=this,f,g,d;g=c.getSize(h.getEl("head")).width,g=g<0?0:g,d=0,h.items().each(function(i){g=Math.max(g,i.layoutRect().minW),d=Math.max(d,i.layoutRect().minH)}),h.items().each(function(i){i.settings.x=0,i.settings.y=0,i.settings.w=g,i.settings.h=d,i.layoutRect({x:0,y:0,w:g,h:d})});var j=c.getSize(h.getEl("head")).height;return h.settings.minWidth=g,h.settings.minHeight=d+j,f=h._super(),f.deltaH+=j,f.innerH=f.h-f.deltaH,f}})}),bD(cJ,[aE,bK,ax],function(b,a,c){return b.extend({init:function(f){var d=this;d._super(f),d.classes.add("textbox"),f.multiline?d.classes.add("multiline"):(d.on("keydown",function(g){var h;13==g.keyCode&&(g.preventDefault(),d.parents().reverse().each(function(i){if(i.toJSON){return h=i,!1}}),d.fire("submit",{data:h.toJSON()}))}),d.on("keyup",function(g){d.state.set("value",g.target.value)}))},repaint:function(){var k=this,g,m,j,f,l=0,d;g=k.getEl().style,m=k._layoutRect,d=k._lastRepaintRect||{};var h=document;return !k.settings.multiline&&h.all&&(!h.documentMode||h.documentMode<=8)&&(g.lineHeight=m.h-l+"px"),j=k.borderBox,f=j.left+j.right+8,l=j.top+j.bottom+(k.settings.multiline?8:0),m.x!==d.x&&(g.left=m.x+"px",d.x=m.x),m.y!==d.y&&(g.top=m.y+"px",d.y=m.y),m.w!==d.w&&(g.width=m.w-f+"px",d.w=m.w),m.h!==d.h&&(g.height=m.h-l+"px",d.h=m.h),k._lastRepaintRect=d,k.fire("repaint",{},!1),k},renderHtml:function(){var g=this,f=g.settings,d,h;return d={id:g._id,hidefocus:"1"},a.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(i){d[i]=f[i]}),g.disabled()&&(d.disabled="disabled"),f.subtype&&(d.type=f.subtype),h=c.create(f.multiline?"textarea":"input",d),h.value=g.state.get("value"),h.className=g.classes,h.outerHTML},value:function(d){return arguments.length?(this.state.set("value",d),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var d=this;d.getEl().value=d.state.get("value"),d._super(),d.$el.on("change",function(e){d.state.set("value",e.target.value),d.fire("change",e)})},bindStates:function(){var d=this;return d.state.on("change:value",function(e){d.getEl().value!=e.value&&(d.getEl().value=e.value)}),d.state.on("change:disabled",function(e){d.getEl().disabled=e.value}),d._super()},remove:function(){this.$el.off(),this._super()}})}),bD(aV,[],function(){var b=this||window,a=function(){return b.tinymce};return"function"==typeof b.define&&(b.define.amd||b.define("ephox/tinymce",[],a)),"object"==typeof module&&(module.exports=window.tinymce),{}}),bZ([bL,bz,bX,bW,bT,bG,bK,bS,by,bu,cC,bx,cy,cl,cb,cF,cD,cA,cn,cm,ci,cj,cs,cx,bN,b5,cq,aO,c0,aF,bO,bo,br,cS,aU,aK,ac,am,au,aX,ag,ab,ak,cT,al,a4,aT,aC,bi,a8,aE,aN,cR,cE,cI,b9,cH,aS,cW,aB,bk,a0,bn,aH,cM,aQ,ar,cP,b4,aG,cY,ai,ao,aR,aa,cX,af,cO,ah,aZ,aP,ay,a2,aA,aI,cL,ad,cz,cw,bp,bU,cc,bf,ap,a7,bh,bm,cV,bF,aq,aW,bc,aM,cr,a6,bQ,cJ])}(window);