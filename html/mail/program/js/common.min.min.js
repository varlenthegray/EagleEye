var CONTROL_KEY=1;var SHIFT_KEY=2;var CONTROL_SHIFT_KEY=3;function roundcube_browser(){var b=navigator;this.agent=b.userAgent;this.agent_lc=b.userAgent.toLowerCase();this.name=b.appName;this.vendor=b.vendor?b.vendor:"";this.vendver=b.vendorSub?parseFloat(b.vendorSub):0;this.product=b.product?b.product:"";this.platform=String(b.platform).toLowerCase();this.lang=b.language?b.language.substring(0,2):b.browserLanguage?b.browserLanguage.substring(0,2):b.systemLanguage?b.systemLanguage.substring(0,2):"en";this.win=this.platform.indexOf("win")>=0;this.mac=this.platform.indexOf("mac")>=0;this.linux=this.platform.indexOf("linux")>=0;this.unix=this.platform.indexOf("unix")>=0;this.dom=document.getElementById?true:false;this.dom2=document.addEventListener&&document.removeEventListener;this.edge=this.agent_lc.indexOf(" edge/")>0;this.webkit=!this.edge&&this.agent_lc.indexOf("applewebkit")>0;this.ie=(document.all&&!window.opera)||(this.win&&this.agent_lc.indexOf("trident/")>0);if(window.opera){this.opera=true;this.vendver=opera.version()}else{if(!this.ie&&!this.edge){this.chrome=this.agent_lc.indexOf("chrome")>0;this.opera=this.webkit&&this.agent.indexOf(" OPR/")>0;this.safari=!this.chrome&&!this.opera&&(this.webkit||this.agent_lc.indexOf("safari")>0);this.konq=this.agent_lc.indexOf("konqueror")>0;this.mz=this.dom&&!this.chrome&&!this.safari&&!this.konq&&!this.opera&&this.agent.indexOf("Mozilla")>=0;this.iphone=this.safari&&(this.agent_lc.indexOf("iphone")>0||this.agent_lc.indexOf("ipod")>0);this.ipad=this.safari&&this.agent_lc.indexOf("ipad")>0}}if(!this.vendver){this.vendver=/(opera|opr|khtml|chrome|safari|applewebkit|msie)(\s|\/)([0-9\.]+)/.test(this.agent_lc)?parseFloat(RegExp.$3):0;if(!this.vendver){this.vendver=/rv:([0-9\.]+)/.test(this.agent)?parseFloat(RegExp.$1):0}}if(this.safari&&(/;\s+([a-z]{2})-[a-z]{2}\)/.test(this.agent_lc))){this.lang=RegExp.$1}this.tablet=/ipad|android|xoom|sch-i800|playbook|tablet|kindle/i.test(this.agent_lc);this.mobile=/iphone|ipod|blackberry|iemobile|opera mini|opera mobi|mobile/i.test(this.agent_lc);this.touch=this.mobile||this.tablet;this.pointer=typeof window.PointerEvent=="function";this.cookies=b.cookieEnabled;this.xmlhttp_test=function(){var a=new Function("try{var o=new ActiveXObject('Microsoft.XMLHTTP');return true;}catch(err){return false;}");this.xmlhttp=window.XMLHttpRequest||(("ActiveXObject" in window)&&a());return this.xmlhttp};this.set_html_class=function(){var a=" js";if(this.ie){a+=" ie ie"+parseInt(this.vendver)}else{if(this.opera){a+=" opera"}else{if(this.konq){a+=" konqueror"}else{if(this.safari){a+=" chrome"}else{if(this.chrome){a+=" chrome"}else{if(this.mz){a+=" mozilla"}}}}}}if(this.iphone){a+=" iphone"}else{if(this.ipad){a+=" ipad"}else{if(this.webkit){a+=" webkit"}}}if(this.mobile){a+=" mobile"}if(this.tablet){a+=" tablet"}if(document.documentElement){document.documentElement.className+=a}}}var rcube_event={get_target:function(b){b=b||window.event;return b&&b.target?b.target:b.srcElement},get_keycode:function(b){b=b||window.event;return b&&b.keyCode?b.keyCode:(b&&b.which?b.which:0)},get_button:function(b){b=b||window.event;return b&&b.button!==undefined?b.button:(b&&b.which?b.which:0)},get_modifier:function(c){var d=0;c=c||window.event;if(bw.mac&&c){d+=(c.metaKey&&CONTROL_KEY)+(c.shiftKey&&SHIFT_KEY)}else{if(c){d+=(c.ctrlKey&&CONTROL_KEY)+(c.shiftKey&&SHIFT_KEY)}}return d},get_mouse_pos:function(f){if(!f){f=window.event}var d=(f.pageX)?f.pageX:f.clientX,e=(f.pageY)?f.pageY:f.clientY;if(document.body&&document.all){d+=document.body.scrollLeft;e+=document.body.scrollTop}if(f._offset){d+=f._offset.left;e+=f._offset.top}return{x:d,y:e}},add_listener:function(c){if(!c.object||!c.method){return}if(!c.element){c.element=document}if(!c.object._rc_events){c.object._rc_events={}}var d=c.event+"*"+c.method;if(!c.object._rc_events[d]){c.object._rc_events[d]=function(a){return c.object[c.method](a)}}if(c.element.addEventListener){c.element.addEventListener(c.event,c.object._rc_events[d],false)}else{if(c.element.attachEvent){c.element.detachEvent("on"+c.event,c.object._rc_events[d]);c.element.attachEvent("on"+c.event,c.object._rc_events[d])}else{c.element["on"+c.event]=c.object._rc_events[d]}}},remove_listener:function(c){if(!c.element){c.element=document}var d=c.event+"*"+c.method;if(c.object&&c.object._rc_events&&c.object._rc_events[d]){if(c.element.removeEventListener){c.element.removeEventListener(c.event,c.object._rc_events[d],false)}else{if(c.element.detachEvent){c.element.detachEvent("on"+c.event,c.object._rc_events[d])}else{c.element["on"+c.event]=null}}}},cancel:function(d){var c=d?d:window.event;if(c.preventDefault){c.preventDefault()}else{c.returnValue=false}if(c.stopPropagation){c.stopPropagation()}c.cancelBubble=true;return false},is_keyboard:function(b){return b&&((b.type&&String(b.type).match(/^key/))||(!b.pageX&&(b.pageY||0)<=0&&!b.clientX&&(b.clientY||0)<=0))},keyboard_only:function(b){return rcube_event.is_keyboard(b)?true:rcube_event.cancel(b)},touchevent:function(b){return{pageX:b.pageX,pageY:b.pageY,offsetX:b.pageX-b.target.offsetLeft,offsetY:b.pageY-b.target.offsetTop,target:b.target,istouch:true}}};function rcube_event_engine(){this._events={}}rcube_event_engine.prototype={addEventListener:function(e,d,f){if(!this._events){this._events={}}if(!this._events[e]){this._events[e]=[]}this._events[e].push({func:d,obj:f?f:window});return this},removeEventListener:function(g,i,h){if(h===undefined){h=window}for(var j,f=0;this._events&&this._events[g]&&f<this._events[g].length;f++){if((j=this._events[g][f])&&j.func==i&&j.obj==h){this._events[g][f]=null}}},triggerEvent:function(h,i){var e,k;if(i===undefined){i=this}else{if(typeof i==="object"){i.event=h}}if(!this._event_exec){this._event_exec={}}if(this._events&&this._events[h]&&!this._event_exec[h]){this._event_exec[h]=true;for(var l=0;l<this._events[h].length;l++){if((k=this._events[h][l])){if(typeof k.func==="function"){e=k.func.call?k.func.call(k.obj,i):k.func(i)}else{if(typeof k.obj[k.func]==="function"){e=k.obj[k.func](i)}}if(e!==undefined&&!e){break}}}if(e&&e.event){try{delete e.event}catch(j){$(e).removeAttr("event")}}}delete this._event_exec[h];if(i.event){try{delete i.event}catch(j){$(i).removeAttr("event")}}return e}};function rcube_check_email(D,L,F){if(!D){return F?0:false}if(F){L=true}var H="[^\\x0d\\x22\\x5c\\x80-\\xff]",J="[^\\x0d\\x5b-\\x5d\\x80-\\xff]",N="[^\\x00-\\x20\\x22\\x28\\x29\\x2c\\x2e\\x3a-\\x3c\\x3e\\x40\\x5b-\\x5d\\x7f-\\xff]+",E="\\x5c[\\x00-\\x7f]",z="\\x22("+H+"|"+E+")*\\x22",A="\\[(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])(.(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9]?[0-9])){3}\\]",B="\\[IPv6:[0-9a-f:.]+\\]",C="("+A+")|("+B+")",u="(("+C+")|(([^@\\x2e]+\\x2e)+([^\\x00-\\x40\\x5b-\\x60\\x7b-\\x7f]{2,}|xn--[a-z0-9]{2,})))",K=["\\u0645\\u062b\\u0627\\u0644\\x2e\\u0625\\u062e\\u062a\\u0628\\u0627\\u0631","\\u4f8b\\u5b50\\x2e\\u6d4b\\u8bd5","\\u4f8b\\u5b50\\x2e\\u6e2c\\u8a66","\\u03c0\\u03b1\\u03c1\\u03ac\\u03b4\\u03b5\\u03b9\\u03b3\\u03bc\\u03b1\\x2e\\u03b4\\u03bf\\u03ba\\u03b9\\u03bc\\u03ae","\\u0909\\u0926\\u093e\\u0939\\u0930\\u0923\\x2e\\u092a\\u0930\\u0940\\u0915\\u094d\\u0937\\u093e","\\u4f8b\\u3048\\x2e\\u30c6\\u30b9\\u30c8","\\uc2e4\\ub840\\x2e\\ud14c\\uc2a4\\ud2b8","\\u0645\\u062b\\u0627\\u0644\\x2e\\u0622\\u0632\\u0645\\u0627\\u06cc\\u0634\u06cc","\\u043f\\u0440\\u0438\\u043c\\u0435\\u0440\\x2e\\u0438\\u0441\\u043f\\u044b\\u0442\\u0430\\u043d\\u0438\\u0435","\\u0b89\\u0ba4\\u0bbe\\u0bb0\\u0ba3\\u0bae\\u0bcd\\x2e\\u0baa\\u0bb0\\u0bbf\\u0b9f\\u0bcd\\u0b9a\\u0bc8","\\u05d1\\u05f2\\u05b7\\u05e9\\u05e4\\u05bc\\u05d9\\u05dc\\x2e\\u05d8\\u05e2\\u05e1\\u05d8"],w="mailtest\\x40("+K.join("|")+")",x="("+N+"|"+z+")",v="[,;\\s\\n]",y=x+"(\\x2e"+x+")*",M="(("+y+"\\x40"+u+")|("+w+"))",G=F?"ig":"i",I=L?new RegExp("(^|<|"+v+")"+M+"($|>|"+v+")",G):new RegExp("^"+M+"$","i");if(F){return D.match(I).length}return I.test(D)}function rcube_clone_object(f){var e={};for(var d in f){if(f[d]&&typeof f[d]==="object"){e[d]=rcube_clone_object(f[d])}else{e[d]=f[d]}}return e}function urlencode(b){if(window.encodeURIComponent){return encodeURIComponent(b).replace("*","%2A")}return escape(b).replace("+","%2B").replace("*","%2A").replace("/","%2F").replace("@","%40")}function rcube_find_object(f,k){var j,e,l,d;if(!k){k=document}if(k.getElementById){if(l=k.getElementById(f)){return l}}if(!l&&k.getElementsByName&&(d=k.getElementsByName(f))){l=d[0]}if(!l&&k.all){l=k.all[f]}if(!l&&k.images.length){l=k.images[f]}if(!l&&k.forms.length){for(e=0;e<k.forms.length;e++){if(k.forms[e].name==f){l=k.forms[e]}else{if(k.forms[e].elements[f]){l=k.forms[e].elements[f]}}}}if(!l&&k.layers){if(k.layers[f]){l=k.layers[f]}for(j=0;!l&&j<k.layers.length;j++){l=rcube_find_object(f,k.layers[j].document)}}return l}function rcube_mouse_is_over(e,h){var f=rcube_event.get_mouse_pos(e),g=$(h).offset();return(f.x>=g.left)&&(f.x<(g.left+h.offsetWidth))&&(f.y>=g.top)&&(f.y<(g.top+h.offsetHeight))}function setCookie(n,l,i,j,m,k){var h=n+"="+escape(l)+(i?"; expires="+i.toGMTString():"")+(j?"; path="+j:"")+(m?"; domain="+m:"")+(k?"; secure":"");document.cookie=h}function getCookie(j){var f=document.cookie,h=j+"=",i=f.indexOf("; "+h);if(i==-1){i=f.indexOf(h);if(i!=0){return null}}else{i+=2}var g=f.indexOf(";",i);if(g==-1){g=f.length}return unescape(f.substring(i+h.length,g))}roundcube_browser.prototype.set_cookie=setCookie;roundcube_browser.prototype.get_cookie=getCookie;var bw=new roundcube_browser();bw.set_html_class();RegExp.escape=function(b){return String(b).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};Date.prototype.getStdTimezoneOffset=function(){var e=12,f=new Date(null,e,1),d=f.getTimezoneOffset();while(--e){f.setUTCMonth(e);if(d!=f.getTimezoneOffset()){return Math.max(d,f.getTimezoneOffset())}}return d};if(!String.prototype.startsWith){String.prototype.startsWith=function(c,d){d=d||0;return this.slice(d,c.length)===c}}jQuery.last=function(b){return b&&b.length?b[b.length-1]:undefined};jQuery.fn.placeholder=function(b){return this.each(function(){$(this).prop({title:b,placeholder:b})})};var rcube_parse_query=function(o){if(!o){return{}}var k={},m,e,j,p=/([^&=]+)=?([^&]*)/g,l=/\+/g,n=function(a){return decodeURIComponent(a.replace(l," "))};o=o.replace(/\?/,"");while(m=p.exec(o)){e=n(m[1]);j=n(m[2]);if(e.substring(e.length-2)==="[]"){e=e.substring(0,e.length-2);(k[e]||(k[e]=[])).push(j)}else{k[e]=j}}return k};var Base64=(function(){var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var e=function(c){c=c.replace(/\r\n/g,"\n");var d="";for(var a=0;a<c.length;a++){var b=c.charCodeAt(a);if(b<128){d+=String.fromCharCode(b)}else{if(b>127&&b<2048){d+=String.fromCharCode((b>>6)|192);d+=String.fromCharCode((b&63)|128)}else{d+=String.fromCharCode((b>>12)|224);d+=String.fromCharCode(((b>>6)&63)|128);d+=String.fromCharCode((b&63)|128)}}}return d};var g=function(l){var b=0,d="",a=0,c=0,i=0;while(b<l.length){a=l.charCodeAt(b);if(a<128){d+=String.fromCharCode(a);b++}else{if(a>191&&a<224){c=l.charCodeAt(b+1);d+=String.fromCharCode(((a&31)<<6)|(c&63));b+=2}else{c=l.charCodeAt(b+1);i=l.charCodeAt(b+2);d+=String.fromCharCode(((a&15)<<12)|((c&63)<<6)|(i&63));b+=3}}}return d};var h={encode:function(u){u=e(u);if(typeof(window.btoa)==="function"){try{return btoa(u)}catch(v){}}var a,c,i,b,d,s,t,x=0,y="",w=u.length;while(x<w){a=u.charCodeAt(x++);c=u.charCodeAt(x++);i=u.charCodeAt(x++);b=a>>2;d=((a&3)<<4)|(c>>4);s=((c&15)<<2)|(i>>6);t=i&63;if(isNaN(c)){s=t=64}else{if(isNaN(i)){t=64}}y=y+f.charAt(b)+f.charAt(d)+f.charAt(s)+f.charAt(t)}return y},decode:function(u){if(typeof(window.atob)==="function"){try{return g(atob(u))}catch(v){}}var a,c,i,b,d,s,t,w,x=0,y="";u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"");w=u.length;while(x<w){b=f.indexOf(u.charAt(x++));d=f.indexOf(u.charAt(x++));s=f.indexOf(u.charAt(x++));t=f.indexOf(u.charAt(x++));a=(b<<2)|(d>>4);c=((d&15)<<4)|(s>>2);i=((s&3)<<6)|t;y=y+String.fromCharCode(a);if(s!=64){y=y+String.fromCharCode(c)}if(t!=64){y=y+String.fromCharCode(i)}}return g(y)}};return h})();