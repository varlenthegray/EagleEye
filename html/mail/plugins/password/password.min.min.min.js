window.rcmail&&rcmail.addEventListener("init",function(a){if(rcmail.env.password_disabled){$("#password-form input").prop("disabled",true);rcmail.reload(3*60*1000-2000);return}rcmail.register_command("plugin.password-save",function(){var c=rcube_find_object("_curpasswd"),b=rcube_find_object("_newpasswd"),d=rcube_find_object("_confpasswd");if(c&&c.value==""){alert(rcmail.get_label("nocurpassword","password"));c.focus()}else{if(b&&b.value==""){alert(rcmail.get_label("nopassword","password"));b.focus()}else{if(d&&d.value==""){alert(rcmail.get_label("nopassword","password"));d.focus()}else{if(b&&d&&b.value!=d.value){alert(rcmail.get_label("passwordinconsistency","password"));b.focus()}else{rcmail.gui_objects.passform.submit()}}}}},true);$("input:not(:hidden):first").focus()});