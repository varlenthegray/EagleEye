window.rcmail&&rcmail.addEventListener("init",function(b){if(rcmail.env.password_disabled){$("#password-form input").prop("disabled",true);rcmail.reload(3*60*1000-2000);return}rcmail.register_command("plugin.password-save",function(){var f=rcube_find_object("_curpasswd"),a=rcube_find_object("_newpasswd"),e=rcube_find_object("_confpasswd");if(f&&f.value==""){alert(rcmail.get_label("nocurpassword","password"));f.focus()}else{if(a&&a.value==""){alert(rcmail.get_label("nopassword","password"));a.focus()}else{if(e&&e.value==""){alert(rcmail.get_label("nopassword","password"));e.focus()}else{if(a&&e&&a.value!=e.value){alert(rcmail.get_label("passwordinconsistency","password"));a.focus()}else{rcmail.gui_objects.passform.submit()}}}}},true);$("input:not(:hidden):first").focus()});