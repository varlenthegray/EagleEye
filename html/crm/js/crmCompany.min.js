var crmCompany={editor:null,getCompany:function(a){$.post("/html/crm/templates/crm_view.php",function(b){crmMain.body.html(b)})},getCompanyList:function(){$.post("/html/crm/templates/view_company_list.php",function(a){crmMain.body.html(a)}).done(function(){$(".crmCompanies").DataTable({ajax:"/html/crm/ajax/company.php?action=getCompanyList",columns:[{data:"name"},{data:"phone_number"},{data:"annual_revenue"},{data:"industry"},{data:"last_contact"},{data:"created"}],pageLength:25,createdRow:function(b,a){$(b).addClass("cursor-hand get-company").attr("data-id",a.id)}})})},startListening:function(){$("body").on("click",".get-company",function(){crmCompany.getCompany($(this).attr("data-id"))}).on("click",".crm_view_company_list",function(){crmCompany.getCompanyList()})},initEditor:function(){crmCompany.editor=new dhtmlXEditor({parent:"new_note",toolbar:true,iconsPath:"/assets/plugins/dhtmlXEditor/imgs/",content:""})},reInitEditor:function(){if(crmCompany.editor!==undefined&&crmCompany.editor!==null){let curContent=crmCompany.editor.getContent();crmCompany.editor.unload();crmCompany.editor=new dhtmlXEditor({parent:"new_note",toolbar:true,iconsPath:"/assets/plugins/dhtmlXEditor/imgs/",content:curContent})}}};