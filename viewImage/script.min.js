var formDataToUpload;var contentType="image/png";var b64Data="";$(document).ready(function(){$("#uploadimage").on("submit",function(a){a.preventDefault();$("#message").empty();$("#loading").show();$.ajax({url:"/viewImage/ajax_php_file.php",type:"POST",data:formDataToUpload,contentType:false,cache:false,processData:false,success:function(b){console.log(b);$("#loading").hide();$("#message").html(b)}})})});(function(a){var b;a.event.fix=(function(c){return function(d){d=c.apply(this,arguments);if(d.type.indexOf("copy")===0||d.type.indexOf("paste")===0){d.clipboardData=d.originalEvent.clipboardData}return d}})(a.event.fix);b={callback:a.noop,matchType:/image.*/};return(a.fn.pasteImageReader=function(c){if(typeof c==="function"){c={callback:c}}c=a.extend({},b,c);return this.each(function(){var e,d;d=this;e=a(this);return e.bind("paste",function(f){var h,g;g=false;h=f.clipboardData;return Array.prototype.forEach.call(h.types,function(m,l){var k,j;if(g){return}if(m.match(c.matchType)||h.items[l].type.match(c.matchType)){k=h.items[l].getAsFile();j=new FileReader();j.onload=function(i){return c.callback.call(d,{dataURL:i.target.result,event:i,file:k,name:k.name})};j.readAsDataURL(k);return(g=true)}})})})})})(jQuery);function b64toBlob(l,k,c){k=k||"";c=c||512;var f=atob(l);var h=[];for(var d=0;d<f.length;d+=c){var j=f.slice(d,d+c);var g=new Array(j.length);for(var e=0;e<j.length;e++){g[e]=j.charCodeAt(e)}var b=new Uint8Array(g);h.push(b)}var a=new Blob(h,{type:k});return a}var dataURL,filename;var $data,$size,$type,$width,$height;$("html").pasteImageReader(function(e){console.log(e);filename=e.filename,dataURL=e.dataURL;let t1=dataURL.split(",");b64Data=t1[1];var d=b64toBlob(b64Data,contentType);var c=URL.createObjectURL(d);console.log(b64Data);$data.text(dataURL);$size.val(e.file.size);$type.val(e.file.type);var b=document.createElement("img");b.src=c;var a=b.width;var f=b.height;$width.val(a);$height.val(f);formDataToUpload=new FormData();formDataToUpload.append("image",d,"image.png");return $(".active").css({backgroundImage:"url("+dataURL+")"}).data({width:a,height:f})});$(function(){$data=$(".data");$size=$(".size");$type=$(".type");$width=$("#width");$height=$("#height");$(".target").on("click",function(){var b=$(this);var a=b.css("background-image");if(a!=="none"){$data.text(a.substr(4,a.length-6))}$(".active").removeClass("active");b.addClass("active");b.toggleClass("contain");$width.val(b.data("width"));$height.val(b.data("height"));if(b.hasClass("contain")){b.css({width:b.data("width"),height:b.data("height"),"z-index":"10"})}else{b.css({width:"",height:"","z-index":""})}})});